/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ECB(t,e){this.count=t,this.dataCodewords=e,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})}function ECBlocks(t,e,n){this.ecCodewordsPerBlock=t,this.ecBlocks=n?new Array(e,n):new Array(e),this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock}),this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks}),this.__defineGetter__("NumBlocks",function(){for(var t=0,e=0;e<this.ecBlocks.length;e++)t+=this.ecBlocks[e].length;return t}),this.getECBlocks=function(){return this.ecBlocks}}function Version(t,e,n,r,i,o){this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=new Array(n,r,i,o);for(var a=0,s=n.ECCodewordsPerBlock,u=n.getECBlocks(),l=0;l<u.length;l++){var c=u[l];a+=c.Count*(c.DataCodewords+s)}this.totalCodewords=a,this.__defineGetter__("VersionNumber",function(){return this.versionNumber}),this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters}),this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords}),this.__defineGetter__("DimensionForVersion",function(){return 17+4*this.versionNumber}),this.buildFunctionPattern=function(){var t=this.DimensionForVersion,e=new BitMatrix(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;n>r;r++)for(var i=this.alignmentPatternCenters[r]-2,o=0;n>o;o++)0==r&&(0==o||o==n-1)||r==n-1&&0==o||e.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},this.getECBlocksForLevel=function(t){return this.ecBlocks[t.ordinal()]}}function buildVersions(){return new Array(new Version(1,new Array,new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new Version(2,new Array(6,18),new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new Version(3,new Array(6,22),new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new Version(4,new Array(6,26),new ECBlocks(20,new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new Version(5,new Array(6,30),new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new Version(6,new Array(6,34),new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new Version(7,new Array(6,22,38),new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new Version(8,new Array(6,24,42),new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new Version(9,new Array(6,26,46),new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new Version(10,new Array(6,28,50),new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new Version(11,new Array(6,30,54),new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new Version(12,new Array(6,32,58),new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new Version(13,new Array(6,34,62),new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new Version(14,new Array(6,26,46,66),new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new Version(15,new Array(6,26,48,70),new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new Version(16,new Array(6,26,50,74),new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new Version(17,new Array(6,30,54,78),new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new Version(18,new Array(6,30,56,82),new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new Version(19,new Array(6,30,58,86),new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,new ECB(9,13),new ECB(16,14))),new Version(20,new Array(6,34,62,90),new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new Version(21,new Array(6,28,50,72,94),new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new Version(22,new Array(6,26,50,74,98),new ECBlocks(28,new ECB(2,111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new Version(23,new Array(6,30,54,74,102),new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new Version(24,new Array(6,28,54,80,106),new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new Version(25,new Array(6,32,58,84,110),new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new Version(26,new Array(6,30,58,86,114),new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),new Version(27,new Array(6,34,62,90,118),new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new Version(28,new Array(6,26,50,74,98,122),new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new Version(29,new Array(6,30,54,78,102,126),new ECBlocks(30,new ECB(7,116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new Version(30,new Array(6,26,52,78,104,130),new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new Version(31,new Array(6,30,56,82,108,134),new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new Version(32,new Array(6,34,60,86,112,138),new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new Version(33,new Array(6,30,58,86,114,142),new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,new ECB(11,15),new ECB(46,16))),new Version(34,new Array(6,34,62,90,118,146),new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new Version(35,new Array(6,30,54,78,102,126,150),new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new Version(36,new Array(6,24,50,76,102,128,154),new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new Version(37,new Array(6,28,54,80,106,132,158),new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new Version(38,new Array(6,32,58,84,110,136,162),new ECBlocks(30,new ECB(4,122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new Version(39,new Array(6,26,54,82,110,138,166),new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new Version(40,new Array(6,30,58,86,114,142,170),new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16))))}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function PerspectiveTransform(t,e,n,r,i,o,a,s,u){this.a11=t,this.a12=r,this.a13=a,this.a21=e,this.a22=i,this.a23=s,this.a31=n,this.a32=o,this.a33=u,this.transformPoints1=function(t){for(var e=t.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,u=this.a31,l=this.a32,c=this.a33,h=0;e>h;h+=2){var f=t[h],d=t[h+1],p=i*f+s*d+c;t[h]=(n*f+o*d+u)/p,t[h+1]=(r*f+a*d+l)/p}},this.transformPoints2=function(t,e){for(var n=t.length,r=0;n>r;r++){var i=t[r],o=e[r],a=this.a13*i+this.a23*o+this.a33;t[r]=(this.a11*i+this.a21*o+this.a31)/a,e[r]=(this.a12*i+this.a22*o+this.a32)/a}},this.buildAdjoint=function(){return new PerspectiveTransform(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(t){return new PerspectiveTransform(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}function DetectorResult(t,e){this.bits=t,this.points=e}function Detector(t){this.image=t,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(t,e,n,r){var i=Math.abs(r-e)>Math.abs(n-t);if(i){var o=t;t=e,e=o,o=n,n=r,r=o}for(var a=Math.abs(n-t),s=Math.abs(r-e),u=-a>>1,l=r>e?1:-1,c=n>t?1:-1,h=0,f=t,d=e;f!=n;f+=c){var p=i?d:f,g=i?f:d;if(1==h?this.image[p+g*qrcode.width]&&h++:this.image[p+g*qrcode.width]||h++,3==h){var m=f-t,v=d-e;return Math.sqrt(m*m+v*v)}if(u+=s,u>0){if(d==r)break;d+=l,u-=a}}var y=n-t,b=r-e;return Math.sqrt(y*y+b*b)},this.sizeOfBlackWhiteBlackRunBothWays=function(t,e,n,r){var i=this.sizeOfBlackWhiteBlackRun(t,e,n,r),o=1,a=t-(n-t);0>a?(o=t/(t-a),a=0):a>=qrcode.width&&(o=(qrcode.width-1-t)/(a-t),a=qrcode.width-1);var s=Math.floor(e-(r-e)*o);return o=1,0>s?(o=e/(e-s),s=0):s>=qrcode.height&&(o=(qrcode.height-1-e)/(s-e),s=qrcode.height-1),a=Math.floor(t+(a-t)*o),i+=this.sizeOfBlackWhiteBlackRun(t,e,a,s),i-1},this.calculateModuleSizeOneWay=function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y)),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},this.calculateModuleSize=function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2},this.distance=function(t,e){return xDiff=t.X-e.X,yDiff=t.Y-e.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this.computeDimension=function(t,e,n,r){var i=Math.round(this.distance(t,e)/r),o=Math.round(this.distance(t,n)/r),a=(i+o>>1)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw"Error"}return a},this.findAlignmentInRegion=function(t,e,n,r){var i=Math.floor(r*t),o=Math.max(0,e-i),a=Math.min(qrcode.width-1,e+i);if(3*t>a-o)throw"Error";var s=Math.max(0,n-i),u=Math.min(qrcode.height-1,n+i),l=new AlignmentPatternFinder(this.image,o,s,a-o,u-s,t,this.resultPointCallback);return l.find()},this.createTransform=function(t,e,n,r,i){var o,a,s,u,l=i-3.5;null!=r?(o=r.X,a=r.Y,s=u=l-3):(o=e.X-t.X+n.X,a=e.Y-t.Y+n.Y,s=u=l);var c=PerspectiveTransform.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,s,u,3.5,l,t.X,t.Y,e.X,e.Y,o,a,n.X,n.Y);return c},this.sampleGrid=function(t,e,n){var r=GridSampler;return r.sampleGrid3(t,n,e)},this.processFinderPatternInfo=function(t){var e=t.TopLeft,n=t.TopRight,r=t.BottomLeft,i=this.calculateModuleSize(e,n,r);if(1>i)throw"Error";var o=this.computeDimension(e,n,r,i),a=Version.getProvisionalVersionForDimension(o),s=a.DimensionForVersion-7,u=null;if(a.AlignmentPatternCenters.length>0)for(var l=n.X-e.X+r.X,c=n.Y-e.Y+r.Y,h=1-3/s,f=Math.floor(e.X+h*(l-e.X)),d=Math.floor(e.Y+h*(c-e.Y)),p=4;16>=p;p<<=1){u=this.findAlignmentInRegion(i,f,d,p);break}var g,m=this.createTransform(e,n,r,u,o),v=this.sampleGrid(this.image,m,o);return g=null==u?new Array(r,e,n):new Array(r,e,n,u),new DetectorResult(v,g)},this.detect=function(){var t=(new FinderPatternFinder).findFinderPattern(this.image);return this.processFinderPatternInfo(t)}}function FormatInformation(t){this.errorCorrectionLevel=ErrorCorrectionLevel.forBits(t>>3&3),this.dataMask=7&t,this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel}),this.__defineGetter__("DataMask",function(){return this.dataMask}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|dataMask},this.Equals=function(t){var e=t;return this.errorCorrectionLevel==e.errorCorrectionLevel&&this.dataMask==e.dataMask}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ErrorCorrectionLevel(t,e,n){this.ordinal_Renamed_Field=t,this.bits=e,this.name=n,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this.ordinal_Renamed_Field}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function BitMatrix(t,e){if(e||(e=t),1>t||1>e)throw"Both dimensions must be greater than 0";this.width=t,this.height=e;var n=t>>5;0!=(31&t)&&n++,this.rowSize=n,this.bits=new Array(n*e);for(var r=0;r<this.bits.length;r++)this.bits[r]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this.get_Renamed=function(t,e){var n=e*this.rowSize+(t>>5);return 0!=(1&URShift(this.bits[n],31&t))},this.set_Renamed=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]|=1<<(31&t)},this.flip=function(t,e){var n=e*this.rowSize+(t>>5);this.bits[n]^=1<<(31&t)},this.clear=function(){for(var t=this.bits.length,e=0;t>e;e++)this.bits[e]=0},this.setRegion=function(t,e,n,r){if(0>e||0>t)throw"Left and top must be nonnegative";if(1>r||1>n)throw"Height and width must be at least 1";var i=t+n,o=e+r;if(o>this.height||i>this.width)throw"The region must fit inside the matrix";for(var a=e;o>a;a++)for(var s=a*this.rowSize,u=t;i>u;u++)this.bits[s+(u>>5)]|=1<<(31&u)}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function DataBlock(t,e){this.numDataCodewords=t,this.codewords=e,this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords}),this.__defineGetter__("Codewords",function(){return this.codewords})}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function BitMatrixParser(t){var e=t.Dimension;if(21>e||1!=(3&e))throw"Error BitMatrixParser";this.bitMatrix=t,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(t,e,n){return this.bitMatrix.get_Renamed(t,e)?n<<1|1:n<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;6>e;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(t),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var r=this.bitMatrix.Dimension;t=0;for(var i=r-8,e=r-1;e>=i;e--)t=this.copyBit(e,8,t);for(var n=r-7;r>n;n++)t=this.copyBit(8,n,t);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(t),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.Dimension,e=t-17>>2;if(6>=e)return Version.getVersionForNumber(e);for(var n=0,r=t-11,i=5;i>=0;i--)for(var o=t-9;o>=r;o--)n=this.copyBit(o,i,n);if(this.parsedVersion=Version.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;n=0;for(var o=5;o>=0;o--)for(var i=t-9;i>=r;i--)n=this.copyBit(o,i,n);if(this.parsedVersion=Version.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==t)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),n=DataMask.forReference(t.DataMask),r=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,r);for(var i=e.buildFunctionPattern(),o=!0,a=new Array(e.TotalCodewords),s=0,u=0,l=0,c=r-1;c>0;c-=2){6==c&&c--;for(var h=0;r>h;h++)for(var f=o?r-1-h:h,d=0;2>d;d++)i.get_Renamed(c-d,f)||(l++,u<<=1,this.bitMatrix.get_Renamed(c-d,f)&&(u|=1),8==l&&(a[s++]=u,l=0,u=0));o^=!0}if(s!=e.TotalCodewords)throw"Error readCodewords";return a}}function DataMask000(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(t+e&1)}}function DataMask001(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t){return 0==(1&t)}}function DataMask010(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return e%3==0}}function DataMask011(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return(t+e)%3==0}}function DataMask100(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==(URShift(t,1)+e/3&1)}}function DataMask101(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return(1&n)+n%3==0}}function DataMask110(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){var n=t*e;return 0==((1&n)+n%3&1)}}function DataMask111(){this.unmaskBitMatrix=function(t,e){for(var n=0;e>n;n++)for(var r=0;e>r;r++)this.isMasked(n,r)&&t.flip(r,n)},this.isMasked=function(t,e){return 0==((t+e&1)+t*e%3&1)}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function ReedSolomonDecoder(t){this.field=t,this.decode=function(t,e){for(var n=new GF256Poly(this.field,t),r=new Array(e),i=0;i<r.length;i++)r[i]=0;for(var o=!1,a=!0,i=0;e>i;i++){var s=n.evaluateAt(this.field.exp(o?i+1:i));r[r.length-1-i]=s,0!=s&&(a=!1)}if(!a)for(var u=new GF256Poly(this.field,r),l=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),u,e),c=l[0],h=l[1],f=this.findErrorLocations(c),d=this.findErrorMagnitudes(h,f,o),i=0;i<f.length;i++){var p=t.length-1-this.field.log(f[i]);if(0>p)throw"ReedSolomonException Bad error location";t[p]=GF256.addOrSubtract(t[p],d[i])}},this.runEuclideanAlgorithm=function(t,e,n){if(t.Degree<e.Degree){var r=t;t=e,e=r}for(var i=t,o=e,a=this.field.One,s=this.field.Zero,u=this.field.Zero,l=this.field.One;o.Degree>=Math.floor(n/2);){var c=i,h=a,f=u;if(i=o,a=s,u=l,i.Zero)throw"r_{i-1} was zero";o=c;for(var d=this.field.Zero,p=i.getCoefficient(i.Degree),g=this.field.inverse(p);o.Degree>=i.Degree&&!o.Zero;){var m=o.Degree-i.Degree,v=this.field.multiply(o.getCoefficient(o.Degree),g);d=d.addOrSubtract(this.field.buildMonomial(m,v)),o=o.addOrSubtract(i.multiplyByMonomial(m,v))}s=d.multiply1(a).addOrSubtract(h),l=d.multiply1(u).addOrSubtract(f)}var y=l.getCoefficient(0);if(0==y)throw"ReedSolomonException sigmaTilde(0) was zero";var b=this.field.inverse(y),w=l.multiply2(b),x=o.multiply2(b);return new Array(w,x)},this.findErrorLocations=function(t){var e=t.Degree;if(1==e)return new Array(t.getCoefficient(1));for(var n=new Array(e),r=0,i=1;256>i&&e>r;i++)0==t.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!=e)throw"Error locator degree does not match number of roots";return n},this.findErrorMagnitudes=function(t,e,n){for(var r=e.length,i=new Array(r),o=0;r>o;o++){for(var a=this.field.inverse(e[o]),s=1,u=0;r>u;u++)o!=u&&(s=this.field.multiply(s,GF256.addOrSubtract(1,this.field.multiply(e[u],a))));i[o]=this.field.multiply(t.evaluateAt(a),this.field.inverse(s)),n&&(i[o]=this.field.multiply(i[o],a))}return i}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function GF256Poly(t,e){if(null==e||0==e.length)throw"System.ArgumentException";this.field=t;var n=e.length;if(n>1&&0==e[0]){for(var r=1;n>r&&0==e[r];)r++;if(r==n)this.coefficients=t.Zero.coefficients;else{this.coefficients=new Array(n-r);for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=0;for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=e[r+o]}}else this.coefficients=e;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]}),this.__defineGetter__("Degree",function(){return this.coefficients.length-1}),this.__defineGetter__("Coefficients",function(){return this.coefficients}),this.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},this.evaluateAt=function(t){if(0==t)return this.getCoefficient(0);var e=this.coefficients.length;if(1==t){for(var n=0,r=0;e>r;r++)n=GF256.addOrSubtract(n,this.coefficients[r]);return n}for(var i=this.coefficients[0],r=1;e>r;r++)i=GF256.addOrSubtract(this.field.multiply(t,i),this.coefficients[r]);return i},this.addOrSubtract=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return e;if(e.Zero)return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}for(var o=new Array(r.length),a=r.length-n.length,s=0;a>s;s++)o[s]=r[s];for(var u=a;u<r.length;u++)o[u]=GF256.addOrSubtract(n[u-a],r[u]);return new GF256Poly(t,o)},this.multiply1=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||t.Zero)return this.field.Zero;for(var e=this.coefficients,n=e.length,r=t.coefficients,i=r.length,o=new Array(n+i-1),a=0;n>a;a++)for(var s=e[a],u=0;i>u;u++)o[a+u]=GF256.addOrSubtract(o[a+u],this.field.multiply(s,r[u]));return new GF256Poly(this.field,o)},this.multiply2=function(t){if(0==t)return this.field.Zero;if(1==t)return this;for(var e=this.coefficients.length,n=new Array(e),r=0;e>r;r++)n[r]=this.field.multiply(this.coefficients[r],t);return new GF256Poly(this.field,n)},this.multiplyByMonomial=function(t,e){if(0>t)throw"System.ArgumentException";if(0==e)return this.field.Zero;for(var n=this.coefficients.length,r=new Array(n+t),i=0;i<r.length;i++)r[i]=0;for(var i=0;n>i;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new GF256Poly(this.field,r)},this.divide=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(t.Zero)throw"Divide by 0";for(var e=this.field.Zero,n=this,r=t.getCoefficient(t.Degree),i=this.field.inverse(r);n.Degree>=t.Degree&&!n.Zero;){var o=n.Degree-t.Degree,a=this.field.multiply(n.getCoefficient(n.Degree),i),s=t.multiplyByMonomial(o,a),u=this.field.buildMonomial(o,a);e=e.addOrSubtract(u),n=n.addOrSubtract(s)}return new Array(e,n)}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function GF256(t){this.expTable=new Array(256),this.logTable=new Array(256);for(var e=1,n=0;256>n;n++)this.expTable[n]=e,e<<=1,e>=256&&(e^=t);for(var n=0;255>n;n++)this.logTable[this.expTable[n]]=n;var r=new Array(1);r[0]=0,this.zero=new GF256Poly(this,new Array(r));var i=new Array(1);i[0]=1,this.one=new GF256Poly(this,new Array(i)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this.buildMonomial=function(t,e){if(0>t)throw"System.ArgumentException";if(0==e)return zero;for(var n=new Array(t+1),r=0;r<n.length;r++)n[r]=0;return n[0]=e,new GF256Poly(this,n)},this.exp=function(t){return this.expTable[t]},this.log=function(t){if(0==t)throw"System.ArgumentException";return this.logTable[t]},this.inverse=function(t){if(0==t)throw"System.ArithmeticException";return this.expTable[255-this.logTable[t]]},this.multiply=function(t,e){return 0==t||0==e?0:1==t?e:1==e?t:this.expTable[(this.logTable[t]+this.logTable[e])%255]}}function URShift(t,e){return t>=0?t>>e:(t>>e)+(2<<~e)}function FinderPattern(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this.incrementCount=function(){this.count++},this.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return 1>=r||r/this.estimatedModuleSize<=1}return!1}}function FinderPatternInfo(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2],this.__defineGetter__("BottomLeft",function(){return this.bottomLeft}),this.__defineGetter__("TopLeft",function(){return this.topLeft}),this.__defineGetter__("TopRight",function(){return this.topRight})}function FinderPatternFinder(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}),this.foundPatternCross=function(t){for(var e=0,n=0;5>n;n++){var r=t[n];if(0==r)return!1;e+=r}if(7>e)return!1;var i=Math.floor((e<<INTEGER_MATH_SHIFT)/7),o=Math.floor(i/2);return Math.abs(i-(t[0]<<INTEGER_MATH_SHIFT))<o&&Math.abs(i-(t[1]<<INTEGER_MATH_SHIFT))<o&&Math.abs(3*i-(t[2]<<INTEGER_MATH_SHIFT))<3*o&&Math.abs(i-(t[3]<<INTEGER_MATH_SHIFT))<o&&Math.abs(i-(t[4]<<INTEGER_MATH_SHIFT))<o},this.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},this.crossCheckVertical=function(t,e,n,r){for(var i=this.image,o=qrcode.height,a=this.CrossCheckStateCount,s=t;s>=0&&i[e+s*qrcode.width];)a[2]++,s--;if(0>s)return 0/0;for(;s>=0&&!i[e+s*qrcode.width]&&a[1]<=n;)a[1]++,s--;if(0>s||a[1]>n)return 0/0;for(;s>=0&&i[e+s*qrcode.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return 0/0;for(s=t+1;o>s&&i[e+s*qrcode.width];)a[2]++,s++;if(s==o)return 0/0;for(;o>s&&!i[e+s*qrcode.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return 0/0;for(;o>s&&i[e+s*qrcode.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return 0/0;var u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-r)>=2*r?0/0:this.foundPatternCross(a)?this.centerFromEnd(a,s):0/0},this.crossCheckHorizontal=function(t,e,n,r){for(var i=this.image,o=qrcode.width,a=this.CrossCheckStateCount,s=t;s>=0&&i[s+e*qrcode.width];)a[2]++,s--;if(0>s)return 0/0;for(;s>=0&&!i[s+e*qrcode.width]&&a[1]<=n;)a[1]++,s--;if(0>s||a[1]>n)return 0/0;for(;s>=0&&i[s+e*qrcode.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return 0/0;for(s=t+1;o>s&&i[s+e*qrcode.width];)a[2]++,s++;if(s==o)return 0/0;for(;o>s&&!i[s+e*qrcode.width]&&a[3]<n;)a[3]++,s++;if(s==o||a[3]>=n)return 0/0;for(;o>s&&i[s+e*qrcode.width]&&a[4]<n;)a[4]++,s++;if(a[4]>=n)return 0/0;var u=a[0]+a[1]+a[2]+a[3]+a[4];return 5*Math.abs(u-r)>=r?0/0:this.foundPatternCross(a)?this.centerFromEnd(a,s):0/0},this.handlePossibleCenter=function(t,e,n){var r=t[0]+t[1]+t[2]+t[3]+t[4],i=this.centerFromEnd(t,n),o=this.crossCheckVertical(e,Math.floor(i),t[2],r);if(!isNaN(o)&&(i=this.crossCheckHorizontal(Math.floor(i),Math.floor(o),t[2],r),!isNaN(i))){for(var a=r/7,s=!1,u=this.possibleCenters.length,l=0;u>l;l++){var c=this.possibleCenters[l];if(c.aboutEquals(a,o,i)){c.incrementCount(),s=!0;break}}if(!s){var h=new FinderPattern(i,o,a);this.possibleCenters.push(h),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(h)}return!0}return!1},this.selectBestPatterns=function(){var t=this.possibleCenters.length;if(3>t)throw"Couldn't find enough finder patterns";if(t>3){for(var e=0,n=0,r=0;t>r;r++){var i=this.possibleCenters[r].EstimatedModuleSize;e+=i,n+=i*i}var o=e/t;this.possibleCenters.sort(function(t,e){var n=Math.abs(e.EstimatedModuleSize-o),r=Math.abs(t.EstimatedModuleSize-o);return r>n?-1:n==r?0:1});for(var a=Math.sqrt(n/t-o*o),s=Math.max(.2*o,a),r=0;r<this.possibleCenters.length&&this.possibleCenters.length>3;r++){var u=this.possibleCenters[r];Math.abs(u.EstimatedModuleSize-o)>s&&(this.possibleCenters.remove(r),r--)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(t,e){return t.count>e.count?-1:t.count<e.count?1:0}),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var t=this.possibleCenters.length;if(1>=t)return 0;for(var e=null,n=0;t>n;n++){var r=this.possibleCenters[n];if(r.Count>=CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.X-r.X)-Math.abs(e.Y-r.Y))/2);e=r}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var t=0,e=0,n=this.possibleCenters.length,r=0;n>r;r++){var i=this.possibleCenters[r];i.Count>=CENTER_QUORUM&&(t++,e+=i.EstimatedModuleSize)}if(3>t)return!1;for(var o=e/n,a=0,r=0;n>r;r++)i=this.possibleCenters[r],a+=Math.abs(i.EstimatedModuleSize-o);return.05*e>=a},this.findFinderPattern=function(t){var e=!1;this.image=t;var n=qrcode.height,r=qrcode.width,i=Math.floor(3*n/(4*MAX_MODULES));(MIN_SKIP>i||e)&&(i=MIN_SKIP);for(var o=!1,a=new Array(5),s=i-1;n>s&&!o;s+=i){a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0;for(var u=0,l=0;r>l;l++)if(t[l+s*qrcode.width])1==(1&u)&&u++,a[u]++;else if(0==(1&u))if(4==u)if(this.foundPatternCross(a)){var c=this.handlePossibleCenter(a,s,l);if(c)if(i=2,this.hasSkipped)o=this.haveMultiplyConfirmedCenters();else{var h=this.findRowSkip();h>a[2]&&(s+=h-a[2]-i,l=r-1)}else{do l++;while(r>l&&!t[l+s*qrcode.width]);l--}u=0,a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0}else a[0]=a[2],a[1]=a[3],a[2]=a[4],a[3]=1,a[4]=0,u=3;else a[++u]++;else a[u]++;if(this.foundPatternCross(a)){var c=this.handlePossibleCenter(a,s,r);c&&(i=a[0],this.hasSkipped&&(o=haveMultiplyConfirmedCenters()))}}var f=this.selectBestPatterns();return qrcode.orderBestPatterns(f),new FinderPatternInfo(f)}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function AlignmentPattern(t,e,n){this.x=t,this.y=e,this.count=1,this.estimatedModuleSize=n,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this.incrementCount=function(){this.count++},this.aboutEquals=function(t,e,n){if(Math.abs(e-this.y)<=t&&Math.abs(n-this.x)<=t){var r=Math.abs(t-this.estimatedModuleSize);return 1>=r||r/this.estimatedModuleSize<=1}return!1}}function AlignmentPatternFinder(t,e,n,r,i,o,a){this.image=t,this.possibleCenters=new Array,this.startX=e,this.startY=n,this.width=r,this.height=i,this.moduleSize=o,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=a,this.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},this.foundPatternCross=function(t){for(var e=this.moduleSize,n=e/2,r=0;3>r;r++)if(Math.abs(e-t[r])>=n)return!1;return!0},this.crossCheckVertical=function(t,e,n,r){var i=this.image,o=qrcode.height,a=this.crossCheckStateCount;a[0]=0,a[1]=0,a[2]=0;for(var s=t;s>=0&&i[e+s*qrcode.width]&&a[1]<=n;)a[1]++,s--;if(0>s||a[1]>n)return 0/0;for(;s>=0&&!i[e+s*qrcode.width]&&a[0]<=n;)a[0]++,s--;if(a[0]>n)return 0/0;for(s=t+1;o>s&&i[e+s*qrcode.width]&&a[1]<=n;)a[1]++,s++;if(s==o||a[1]>n)return 0/0;for(;o>s&&!i[e+s*qrcode.width]&&a[2]<=n;)a[2]++,s++;if(a[2]>n)return 0/0;var u=a[0]+a[1]+a[2];return 5*Math.abs(u-r)>=2*r?0/0:this.foundPatternCross(a)?this.centerFromEnd(a,s):0/0},this.handlePossibleCenter=function(t,e,n){var r=t[0]+t[1]+t[2],i=this.centerFromEnd(t,n),o=this.crossCheckVertical(e,Math.floor(i),2*t[1],r);if(!isNaN(o)){for(var a=(t[0]+t[1]+t[2])/3,s=this.possibleCenters.length,u=0;s>u;u++){var l=this.possibleCenters[u];if(l.aboutEquals(a,o,i))return new AlignmentPattern(i,o,a)}var c=new AlignmentPattern(i,o,a);this.possibleCenters.push(c),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(c)}return null},this.find=function(){for(var e=this.startX,i=this.height,o=e+r,a=n+(i>>1),s=new Array(0,0,0),u=0;i>u;u++){var l=a+(0==(1&u)?u+1>>1:-(u+1>>1));s[0]=0,s[1]=0,s[2]=0;for(var c=e;o>c&&!t[c+qrcode.width*l];)c++;for(var h=0;o>c;){if(t[c+l*qrcode.width])if(1==h)s[h]++;else if(2==h){if(this.foundPatternCross(s)){var f=this.handlePossibleCenter(s,l,c);if(null!=f)return f}s[0]=s[2],s[1]=1,s[2]=0,h=1}else s[++h]++;else 1==h&&h++,s[h]++;c++}if(this.foundPatternCross(s)){var f=this.handlePossibleCenter(s,l,o);if(null!=f)return f}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function QRCodeDataBlockReader(t,e,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=t,this.numErrorCorrectionCode=n,9>=e?this.dataLengthMode=0:e>=10&&26>=e?this.dataLengthMode=1:e>=27&&40>=e&&(this.dataLengthMode=2),this.getNextBits=function(t){var e=0;if(t<this.bitPointer+1){for(var n=0,r=0;t>r;r++)n+=1<<r;return n<<=this.bitPointer-t+1,e=(this.blocks[this.blockPointer]&n)>>this.bitPointer-t+1,this.bitPointer-=t,e}if(t<this.bitPointer+1+8){for(var i=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;return e=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1),this.blockPointer++,e+=this.blocks[this.blockPointer]>>8-(t-(this.bitPointer+1)),this.bitPointer=this.bitPointer-t%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}if(t<this.bitPointer+1+16){for(var i=0,o=0,r=0;r<this.bitPointer+1;r++)i+=1<<r;var a=(this.blocks[this.blockPointer]&i)<<t-(this.bitPointer+1);this.blockPointer++;var s=this.blocks[this.blockPointer]<<t-(this.bitPointer+1+8);this.blockPointer++;for(var r=0;r<t-(this.bitPointer+1+8);r++)o+=1<<r;o<<=8-(t-(this.bitPointer+1+8));var u=(this.blocks[this.blockPointer]&o)>>8-(t-(this.bitPointer+1+8));return e=a+s+u,this.bitPointer=this.bitPointer-(t-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),e}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(t){for(var e=0;;){if(t>>e==1)break;e++}return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][e])},this.getRomanAndFigureString=function(t){var e=t,n=0,r="",i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do if(e>1){n=this.getNextBits(11);var o=Math.floor(n/45),a=n%45;r+=i[o],r+=i[a],e-=2}else 1==e&&(n=this.getNextBits(6),r+=i[n],e-=1);while(e>0);return r},this.getFigureString=function(t){var e=t,n=0,r="";do e>=3?(n=this.getNextBits(10),100>n&&(r+="0"),10>n&&(r+="0"),e-=3):2==e?(n=this.getNextBits(7),10>n&&(r+="0"),e-=2):1==e&&(n=this.getNextBits(4),e-=1),r+=n;while(e>0);return r},this.get8bitByteArray=function(t){var e=t,n=0,r=new Array;do n=this.getNextBits(8),r.push(n),e--;while(e>0);return r},this.getKanjiString=function(t){var e=t,n=0,r="";do{n=getNextBits(13);var i=n%192,o=n/192,a=(o<<8)+i,s=0;s=40956>=a+33088?a+33088:a+49472,r+=String.fromCharCode(s),e--}while(e>0);return r},this.__defineGetter__("DataByte",function(){for(var t=new Array,e=1,n=2,r=4,i=8;;){var o=this.NextMode();if(0==o){if(t.length>0)break;throw"Empty data block"}if(o!=e&&o!=n&&o!=r&&o!=i)throw"Invalid mode: "+o+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(dataLength=this.getDataLength(o),1>dataLength)throw"Invalid data length: "+dataLength;switch(o){case e:for(var a=this.getFigureString(dataLength),s=new Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);t.push(s);break;case n:for(var a=this.getRomanAndFigureString(dataLength),s=new Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);t.push(s);break;case r:var l=this.get8bitByteArray(dataLength);t.push(l);break;case i:var a=this.getKanjiString(dataLength);t.push(a)}}return t})}!function(t){if("function"==typeof define&&define.amd)define(function(){return t(window)});else if("object"==typeof module&&"object"==typeof module.exports)module.exports=t(global);else{var e=window.Bugsnag;window.Bugsnag=t(window,e)}}(function(t,e){function n(t,e){try{if("function"!=typeof t)return t;if(!t.bugsnag){var n=i();t.bugsnag=function(r){if(e&&e.eventHandler&&(w=r),x=n,!C){var i=t.apply(this,arguments);return x=null,i}try{return t.apply(this,arguments)}catch(o){throw h("autoNotify",!0)&&(k.notifyException(o,null,null,"error"),y()),o}finally{x=null}},t.bugsnag.bugsnag=t.bugsnag}return t.bugsnag}catch(r){return t}}function r(){E=!1}function i(){var t=document.currentScript||x;if(!t&&E){var e=document.getElementsByTagName("script");t=e[e.length-1]}return t}function o(t){var e=i();e&&(t.script={src:e.src,content:h("inlineScript",!0)?e.innerHTML:""})}function a(e){var n=t.console;void 0!==n&&void 0!==n.log&&n.log("[Bugsnag] "+e)}function s(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=r&&null!=t[r]){var i=e?e+"["+r+"]":r,o=t[r];n.push("object"==typeof o?s(o,i):encodeURIComponent(i)+"="+encodeURIComponent(o))}return n.join("&")}function u(t,e){if(null==e)return t;t=t||{};for(var n in e)if(e.hasOwnProperty(n))try{t[n]=e[n].constructor===Object?u(t[n],e[n]):e[n]}catch(r){t[n]=e[n]}return t}function l(t,e){if("undefined"!=typeof BUGSNAG_TESTING&&k.testRequest)k.testRequest(t,e);else{var n=new Image;n.src=t+"?"+s(e)+"&ct=img&cb="+(new Date).getTime()}}function c(t){for(var e={},n=/^data\-([\w\-]+)$/,r=t.attributes,i=0;i<r.length;i++){var o=r[i];if(n.test(o.nodeName)){var a=o.nodeName.match(n)[1];e[a]=o.value||o.nodeValue}}return e}function h(t,e){A=A||c(I);var n=void 0!==k[t]?k[t]:A[t.toLowerCase()];return"false"===n&&(n=!1),void 0!==n?n:e}function f(t){return null!=t&&t.match(D)?!0:(a("Invalid API key '"+t+"'"),!1)}function d(e,n){var r=h("apiKey");if(f(r)&&S){S-=1;var i=h("releaseStage"),o=h("notifyReleaseStages");if(o){for(var s=!1,c=0;c<o.length;c++)if(i===o[c]){s=!0;break}if(!s)return}var d=[e.name,e.message,e.stacktrace].join("|");if(d!==_){_=d,w&&(n=n||{},n["Last Event"]=m(w));var p={notifierVersion:$,apiKey:r,projectRoot:h("projectRoot")||t.location.protocol+"//"+t.location.host,context:h("context")||t.location.pathname,userId:h("userId"),user:h("user"),metaData:u(u({},h("metaData")),n),releaseStage:i,appVersion:h("appVersion"),url:t.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:e.severity,name:e.name,message:e.message,stacktrace:e.stacktrace,file:e.file,lineNumber:e.lineNumber,columnNumber:e.columnNumber,payloadVersion:"2"},g=k.beforeNotify;if("function"==typeof g){var v=g(p,p.metaData);if(v===!1)return}return 0===p.lineNumber&&/Script error\.?/.test(p.message)?a("Ignoring cross-domain script error. See https://bugsnag.com/docs/notifiers/js/cors"):void l(h("endpoint")||B,p)}}}function p(){var t,e=10,n="[anonymous]";try{throw new Error("")}catch(r){t=g(r)}if(!t){var i=[];try{for(var o=arguments.callee.caller.caller;o&&i.length<e;){var s=T.test(o.toString())?RegExp.$1||n:n;i.push(s),o=o.caller}}catch(u){a(u)}t=i.join("\n")}return"<generated>\n"+t}function g(t){return t.stack||t.backtrace||t.stacktrace}function m(t){var e={millisecondsAgo:new Date-t.timeStamp,type:t.type,which:t.which,target:v(t.target)};return e}function v(t){if(t){var e=t.attributes;if(e){for(var n="<"+t.nodeName.toLowerCase(),r=0;r<e.length;r++)e[r].value&&"null"!=e[r].value.toString()&&(n+=" "+e[r].name+'="'+e[r].value+'"');return n+">"}return t.nodeName}}function y(){M+=1,t.setTimeout(function(){M-=1})}function b(e,n,r){var i=e[n],o=r(i);e[n]=o,"undefined"!=typeof BUGSNAG_TESTING&&t.undo&&t.undo.push(function(){e[n]=i})}var w,x,_,k={},C=!0,M=0,S=10;k.noConflict=function(){return t.Bugsnag=e,k},k.refresh=function(){S=10},k.notifyException=function(t,e,n,r){e&&"string"!=typeof e&&(n=e,e=void 0),n||(n={}),o(n),d({name:e||t.name,message:t.message||t.description,stacktrace:g(t)||p(),file:t.fileName||t.sourceURL,lineNumber:t.lineNumber||t.line,columnNumber:t.columnNumber?t.columnNumber+1:void 0,severity:r||"warning"},n)},k.notify=function(e,n,r,i){d({name:e,message:n,stacktrace:p(),file:t.location.toString(),lineNumber:1,severity:i||"warning"},r)};var E="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!0),t.addEventListener("load",r,!0)):t.attachEvent("onload",r);var A,D=/^[0-9a-f]{32}$/i,T=/function\s*([\w\-$]+)?\s*\(/i,P="https://notify.bugsnag.com/",B=P+"js",$="2.4.1",N=document.getElementsByTagName("script"),I=N[N.length-1];if(t.atob){if(t.ErrorEvent)try{0===new t.ErrorEvent("test").colno&&(C=!1)}catch(O){}}else C=!1;if(h("autoNotify",!0)){b(t,"onerror",function(e){return"undefined"!=typeof BUGSNAG_TESTING&&(k._onerror=e),function(n,r,i,a,s){var u=h("autoNotify",!0),l={};!a&&t.event&&(a=t.event.errorCharacter),o(l),x=null,u&&!M&&d({name:s&&s.name||"window.onerror",message:n,file:r,lineNumber:i,columnNumber:a,stacktrace:s&&g(s)||p(),severity:"error"},l),"undefined"!=typeof BUGSNAG_TESTING&&(e=k._onerror),e&&e(n,r,i,a,s)}});var F=function(t){return function(e,r){if("function"==typeof e){e=n(e);var i=Array.prototype.slice.call(arguments,2);return t(function(){e.apply(this,i)},r)}return t(e,r)}};b(t,"setTimeout",F),b(t,"setInterval",F),t.requestAnimationFrame&&b(t,"requestAnimationFrame",F),t.setImmediate&&b(t,"setImmediate",function(t){return function(){var e=Array.prototype.slice.call(arguments);return e[0]=n(e[0]),t.apply(this,e)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(e){var r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(b(r,"addEventListener",function(t){return function(e,r,i,o){return r&&r.handleEvent&&(r.handleEvent=n(r.handleEvent,{eventHandler:!0})),t.call(this,e,n(r,{eventHandler:!0}),i,o)}}),b(r,"removeEventListener",function(t){return function(e,r,i,o){return t.call(this,e,r,i,o),t.call(this,e,n(r),i,o)}}))})}return k}),Coinbase.constants.BUGSNAG_JS_API_KEY&&(Bugsnag=Bugsnag||{},Bugsnag.endpoint="https://ex-notify.coinbase.com/js",Bugsnag.apiKey=Coinbase.constants.BUGSNAG_JS_API_KEY,Coinbase.constants.USER&&(Bugsnag.user={id:Coinbase.constants.USER.id}));try{!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(t,e){Object.defineProperty(this,t,{get:e,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(t,e){Object.defineProperty(this,t,{set:e,enumerable:!0,configurable:!0})}}))}catch(defPropException){}!function(){function t(t){this.message=t}var e="undefined"!=typeof exports?exports:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var r,i,o=String(e),a=0,s=n,u="";o.charAt(0|a)||(s="=",a%1);u+=s.charAt(63&r>>8-a%1*8)){if(i=o.charCodeAt(a+=.75),i>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return u}),e.atob||(e.atob=function(e){var r=String(e).replace(/=+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,a=0,s=0,u="";o=r.charAt(s++);~o&&(i=a%4?64*i+o:o,a++%4)?u+=String.fromCharCode(255&i>>(-2*a&6)):0)o=n.indexOf(o);return u})}(),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){function t(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function e(t){var e=typeof t;return null===t||"undefined"===e||"boolean"===e||"number"===e||"string"===e}function n(t){var n,r,i;if(e(t))return t;if(r=t.valueOf,g(r)&&(n=r.call(t),e(n)))return n;if(i=t.toString,g(i)&&(n=i.call(t),e(n)))return n;throw new TypeError}function r(){}var i,o=Array.prototype,a=Object.prototype,s=Function.prototype,u=String.prototype,l=Number.prototype,c=o.slice,h=o.splice,f=(o.push,o.unshift),d=s.call,p=a.toString,g=function(t){return"[object Function]"===a.toString.call(t)},m=function(t){return"[object RegExp]"===a.toString.call(t)},v=function(t){return"[object Array]"===p.call(t)},y=function(t){return"[object String]"===p.call(t)},b=function(t){var e=p.call(t),n="[object Arguments]"===e;return n||(n=!v(t)&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&g(t.callee)),n},w=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}();i=w?function(t,e,n,r){!r&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,r){!r&&e in t||(t[e]=n)};var x=function(t,e,n){for(var r in e)a.hasOwnProperty.call(e,r)&&i(t,r,e[r],n)},_=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)},k=function(t){return t>>>0};x(s,{bind:function(t){var e=this;if(!g(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=c.call(arguments,1),i=function(){if(this instanceof u){var r=e.apply(this,n.concat(c.call(arguments)));return Object(r)===r?r:this}return e.apply(t,n.concat(c.call(arguments)))},o=Math.max(0,e.length-n.length),a=[],s=0;o>s;s++)a.push("$"+s);var u=Function("binder","return function ("+a.join(",")+"){return binder.apply(this,arguments)}")(i);return e.prototype&&(r.prototype=e.prototype,u.prototype=new r,r.prototype=null),u}});var C,M,S,E,A,D=d.bind(a.hasOwnProperty);(A=D(a,"__defineGetter__"))&&(C=d.bind(a.__defineGetter__),M=d.bind(a.__defineSetter__),S=d.bind(a.__lookupGetter__),E=d.bind(a.__lookupSetter__));var T=function(){var t=[1,2],e=t.splice();return 2===t.length&&v(e)&&0===e.length}();x(o,{splice:function(){return 0===arguments.length?[]:h.apply(this,arguments)}},T);var P=function(){var t={};return o.splice.call(t,0,0,1),1===t.length}();x(o,{splice:function(e,n){if(0===arguments.length)return[];var r=arguments;return this.length=Math.max(t(this.length),0),arguments.length>0&&"number"!=typeof n&&(r=c.call(arguments),r.length<2?r.push(this.length-e):r[1]=t(n)),h.apply(this,r)}},!P);var B=1!==[].unshift(0);x(o,{unshift:function(){return f.apply(this,arguments),this.length}},B),x(Array,{isArray:v});var $=Object("a"),N="a"!==$[0]||!(0 in $),I=function(t){var e=!0,n=!0;return t&&(t.call("foo",function(t,n,r){"object"!=typeof r&&(e=!1)}),t.call([1],function(){"use strict";n="string"==typeof this},"x")),!!t&&e&&n};x(o,{forEach:function(t){var e=_(this),n=N&&y(this)?this.split(""):e,r=arguments[1],i=-1,o=n.length>>>0;if(!g(t))throw new TypeError;for(;++i<o;)i in n&&t.call(r,n[i],i,e)}},!I(o.forEach)),x(o,{map:function(t){var e=_(this),n=N&&y(this)?this.split(""):e,r=n.length>>>0,i=Array(r),o=arguments[1];if(!g(t))throw new TypeError(t+" is not a function");for(var a=0;r>a;a++)a in n&&(i[a]=t.call(o,n[a],a,e));return i}},!I(o.map)),x(o,{filter:function(t){var e,n=_(this),r=N&&y(this)?this.split(""):n,i=r.length>>>0,o=[],a=arguments[1];if(!g(t))throw new TypeError(t+" is not a function");for(var s=0;i>s;s++)s in r&&(e=r[s],t.call(a,e,s,n)&&o.push(e));return o}},!I(o.filter)),x(o,{every:function(t){var e=_(this),n=N&&y(this)?this.split(""):e,r=n.length>>>0,i=arguments[1];if(!g(t))throw new TypeError(t+" is not a function");for(var o=0;r>o;o++)if(o in n&&!t.call(i,n[o],o,e))return!1;return!0}},!I(o.every)),x(o,{some:function(t){var e=_(this),n=N&&y(this)?this.split(""):e,r=n.length>>>0,i=arguments[1];if(!g(t))throw new TypeError(t+" is not a function");for(var o=0;r>o;o++)if(o in n&&t.call(i,n[o],o,e))return!0;return!1}},!I(o.some));var O=!1;o.reduce&&(O="object"==typeof o.reduce.call("es5",function(t,e,n,r){return r})),x(o,{reduce:function(t){var e=_(this),n=N&&y(this)?this.split(""):e,r=n.length>>>0;if(!g(t))throw new TypeError(t+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,o=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o++];break}if(++o>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>o;o++)o in n&&(i=t.call(void 0,i,n[o],o,e));return i}},!O);var F=!1;o.reduceRight&&(F="object"==typeof o.reduceRight.call("es5",function(t,e,n,r){return r})),x(o,{reduceRight:function(t){var e=_(this),n=N&&y(this)?this.split(""):e,r=n.length>>>0;if(!g(t))throw new TypeError(t+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,o=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in n){i=n[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>o)return i;do o in n&&(i=t.call(void 0,i,n[o],o,e));while(o--);return i}},!F);var R=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);x(o,{indexOf:function(e){var n=N&&y(this)?this.split(""):_(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=t(arguments[1])),i=i>=0?i:Math.max(0,r+i);r>i;i++)if(i in n&&n[i]===e)return i;return-1}},R);var L=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);x(o,{lastIndexOf:function(e){var n=N&&y(this)?this.split(""):_(this),r=n.length>>>0;if(!r)return-1;var i=r-1;for(arguments.length>1&&(i=Math.min(i,t(arguments[1]))),i=i>=0?i:r-Math.abs(i);i>=0;i--)if(i in n&&e===n[i])return i;return-1}},L);var j=!{toString:null}.propertyIsEnumerable("toString"),W=function(){}.propertyIsEnumerable("prototype"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],V=z.length;x(Object,{keys:function(t){var e=g(t),n=b(t),r=null!==t&&"object"==typeof t,i=r&&y(t);if(!r&&!e&&!n)throw new TypeError("Object.keys called on a non-object");var o=[],a=W&&e;if(i||n)for(var s=0;s<t.length;++s)o.push(String(s));else for(var u in t)a&&"prototype"===u||!D(t,u)||o.push(String(u));if(j)for(var l=t.constructor,c=l&&l.prototype===t,h=0;V>h;h++){var f=z[h];c&&"constructor"===f||!D(t,f)||o.push(f)}return o}});var U=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),q=Object.keys;x(Object,{keys:function(t){return q(b(t)?o.slice.call(t):t)}},!U);var H=-621987552e5,Y="-000001",X=Date.prototype.toISOString&&-1===new Date(H).toISOString().indexOf(Y);x(Date.prototype,{toISOString:function(){var t,e,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),i=this.getUTCMonth(),r+=Math.floor(i/12),i=(i%12+12)%12,t=[i+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),e=t.length;e--;)n=t[e],10>n&&(t[e]="0"+n);return r+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},X);var G=!1;try{G=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(H).toJSON().indexOf(Y)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(K){}G||(Date.prototype.toJSON=function(){var t,e=Object(this),r=n(e);if("number"==typeof r&&!isFinite(r))return null;if(t=e.toISOString,"function"!=typeof t)throw new TypeError("toISOString property is not callable");return t.call(e)});var Z=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),Q=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),J=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||J||Q||!Z)&&(Date=function(t){function e(n,r,i,o,a,s,u){var l=arguments.length;if(this instanceof t){var c=1===l&&String(n)===n?new t(e.parse(n)):l>=7?new t(n,r,i,o,a,s,u):l>=6?new t(n,r,i,o,a,s):l>=5?new t(n,r,i,o,a):l>=4?new t(n,r,i,o):l>=3?new t(n,r,i):l>=2?new t(n,r):l>=1?new t(n):new t;return c.constructor=e,c}return t.apply(this,arguments)}function n(t,e){var n=e>1?1:0;return o[e]+Math.floor((t-1969+n)/4)-Math.floor((t-1901+n)/100)+Math.floor((t-1601+n)/400)+365*(t-1970)}function r(e){return Number(new t(1970,0,1,0,0,0,e))}var i=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),o=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var a in t)e[a]=t[a];return e.now=t.now,e.UTC=t.UTC,e.prototype=t.prototype,e.prototype.constructor=e,e.parse=function(e){var o=i.exec(e);if(o){var a,s=Number(o[1]),u=Number(o[2]||1)-1,l=Number(o[3]||1)-1,c=Number(o[4]||0),h=Number(o[5]||0),f=Number(o[6]||0),d=Math.floor(1e3*Number(o[7]||0)),p=Boolean(o[4]&&!o[8]),g="-"===o[9]?1:-1,m=Number(o[10]||0),v=Number(o[11]||0);return(h>0||f>0||d>0?24:25)>c&&60>h&&60>f&&1e3>d&&u>-1&&12>u&&24>m&&60>v&&l>-1&&l<n(s,u+1)-n(s,u)&&(a=60*(24*(n(s,u)+l)+c+m*g),a=1e3*(60*(a+h+v*g)+f)+d,p&&(a=r(a)),a>=-864e13&&864e13>=a)?a:0/0}return t.parse.apply(this,arguments)},e}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var te=l.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),ee={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(t,e){for(var n=-1;++n<ee.size;)e+=t*ee.data[n],ee.data[n]=e%ee.base,e=Math.floor(e/ee.base)},divide:function(t){for(var e=ee.size,n=0;--e>=0;)n+=ee.data[e],ee.data[e]=Math.floor(n/t),n=n%t*ee.base},numToString:function(){for(var t=ee.size,e="";--t>=0;)if(""!==e||0===t||0!==ee.data[t]){var n=String(ee.data[t]);""===e?e=n:e+="0000000".slice(0,7-n.length)+n}return e},pow:function de(t,e,n){return 0===e?n:e%2===1?de(t,e-1,n*t):de(t*t,e/2,n)},log:function(t){for(var e=0;t>=4096;)e+=12,t/=4096;for(;t>=2;)e+=1,t/=2;return e}};x(l,{toFixed:function(t){var e,n,r,i,o,a,s,u;if(e=Number(t),e=e!==e?0:Math.floor(e),0>e||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=Number(this),n!==n)return"NaN";if(-1e21>=n||n>=1e21)return String(n);if(r="",0>n&&(r="-",n=-n),i="0",n>1e-21)if(o=ee.log(n*ee.pow(2,69,1))-69,a=0>o?n*ee.pow(2,-o,1):n/ee.pow(2,o,1),a*=4503599627370496,o=52-o,o>0){for(ee.multiply(0,a),s=e;s>=7;)ee.multiply(1e7,0),s-=7;for(ee.multiply(ee.pow(10,s,1),0),s=o-1;s>=23;)ee.divide(1<<23),s-=23;ee.divide(1<<s),ee.multiply(1,1),ee.divide(2),i=ee.numToString()}else ee.multiply(0,a),ee.multiply(1<<-o,0),i=ee.numToString()+"0.00000000000000000000".slice(2,2+e);return e>0?(u=i.length,i=e>=u?r+"0.0000000000000000000".slice(0,e-u+2)+i:r+i.slice(0,u-e)+"."+i.slice(u-e)):i=r+i,i}},te);var ne=u.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];u.split=function(e,n){var r=this;if(void 0===e&&0===n)return[];if("[object RegExp]"!==p.call(e))return ne.call(this,e,n);var i,a,s,u,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),h=0;for(e=new RegExp(e.source,c+"g"),r+="",t||(i=new RegExp("^"+e.source+"$(?!\\s)",c)),n=void 0===n?-1>>>0:k(n);(a=e.exec(r))&&(s=a.index+a[0].length,!(s>h&&(l.push(r.slice(h,a.index)),!t&&a.length>1&&a[0].replace(i,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(a[t]=void 0)}),a.length>1&&a.index<r.length&&o.push.apply(l,a.slice(1)),u=a[0].length,h=s,l.length>=n)));)e.lastIndex===a.index&&e.lastIndex++;return h===r.length?(u||!e.test(""))&&l.push(""):l.push(r.slice(h)),l.length>n?l.slice(0,n):l}}():"0".split(void 0,0).length&&(u.split=function(t,e){return void 0===t&&0===e?[]:ne.call(this,t,e)});var re=u.replace,ie=function(){var t=[];return"x".replace(/x(.)?/g,function(e,n){t.push(n)}),1===t.length&&"undefined"==typeof t[0]}();ie||(u.replace=function(t,e){var n=g(e),r=m(t)&&/\)[*?]/.test(t.source);if(n&&r){var i=function(n){var r=arguments.length,i=t.lastIndex;t.lastIndex=0;var o=t.exec(n);return t.lastIndex=i,o.push(arguments[r-2],arguments[r-1]),e.apply(this,o)};return re.call(this,t,i)}return re.call(this,t,e)});var oe=u.substr,ae="".substr&&"b"!=="0b".substr(-1);x(u,{substr:function(t,e){return oe.call(this,0>t&&(t=this.length+t)<0?0:t,e)}},ae);var se="	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",ue="\u200b",le="["+se+"]",ce=new RegExp("^"+le+le+"*"),he=new RegExp(le+le+"*$"),fe=u.trim&&(se.trim()||!ue.trim());x(u,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(ce,"").replace(he,"")}},fe),(8!==parseInt(se+"08")||22!==parseInt(se+"0x16"))&&(parseInt=function(t){var e=/^0[xX]/;return function(n,r){return n=String(n).trim(),Number(r)||(r=e.test(n)?16:10),t(n,r)}}(parseInt))}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){function t(t){try{return t.sentinel=0,0===Object.getOwnPropertyDescriptor(t,"sentinel").value}catch(e){}}function e(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){}}var n,r,i,o,a=Function.prototype.call,s=Object.prototype,u=a.bind(s.hasOwnProperty),l=u(s,"__defineGetter__");if(l&&(n=a.bind(s.__defineGetter__),r=a.bind(s.__defineSetter__),i=a.bind(s.__lookupGetter__),o=a.bind(s.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function(t){var e=t.__proto__;return e||null===e?e:t.constructor?t.constructor.prototype:s}),Object.defineProperty){var c=t({}),h="undefined"==typeof document||t(document.createElement("div"));if(!h||!c)var f=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||f){var d="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(t,e){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(d+t);if(f)try{return f.call(Object,t,e)}catch(n){}if(u(t,e)){var r={enumerable:!0,configurable:!0};if(l){var a=t.__proto__,c=t!==s;c&&(t.__proto__=s);var h=i(t,e),p=o(t,e);if(c&&(t.__proto__=a),h||p)return h&&(r.get=h),p&&(r.set=p),r}return r.value=t[e],r.writable=!0,r}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(t){return Object.keys(t)}),!Object.create){var p,g=!({__proto__:null}instanceof Object);p=g||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function t(){}var e=document.createElement("iframe"),n=document.body||document.documentElement;e.style.display="none",n.appendChild(e),e.src="javascript:";var r=e.contentWindow.Object.prototype;return n.removeChild(e),e=null,delete r.constructor,delete r.hasOwnProperty,delete r.propertyIsEnumerable,delete r.isPrototypeOf,delete r.toLocaleString,delete r.toString,delete r.valueOf,r.__proto__=null,t.prototype=r,p=function(){return new t},new t},Object.create=function(t,e){function n(){}var r;if(null===t)r=p();else{if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object or null");n.prototype=t,r=new n,r.__proto__=t}return void 0!==e&&Object.defineProperties(r,e),r}}if(Object.defineProperty){var m=e({}),v="undefined"==typeof document||e(document.createElement("div"));if(!m||!v)var y=Object.defineProperty,b=Object.defineProperties}if(!Object.defineProperty||y){var w="Property description must be an object: ",x="Object.defineProperty called on non-object: ",_="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(t,e,a){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(x+t);if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(w+a);if(y)try{return y.call(Object,t,e,a)}catch(c){}if(u(a,"value"))if(l&&(i(t,e)||o(t,e))){var h=t.__proto__;t.__proto__=s,delete t[e],t[e]=a.value,t.__proto__=h}else t[e]=a.value;else{if(!l)throw new TypeError(_);u(a,"get")&&n(t,e,a.get),u(a,"set")&&r(t,e,a.set)}return t}}(!Object.defineProperties||b)&&(Object.defineProperties=function(t,e){if(b)try{return b.call(Object,t,e)}catch(n){}for(var r in e)u(e,r)&&"__proto__"!==r&&Object.defineProperty(t,r,e[r]);return t}),Object.seal||(Object.seal=function(t){return t}),Object.freeze||(Object.freeze=function(t){return t});try{Object.freeze(function(){})}catch(k){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(t){return t}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(t){if(Object(t)!==t)throw new TypeError;for(var e="";u(t,e);)e+="?";t[e]=!0;var n=u(t,e);return delete t[e],n})}),/*
jQuery.Turbolinks ~ https://github.com/kossnocorp/jquery.turbolinks
jQuery plugin for drop-in fix binded events problem caused by Turbolinks

The MIT License
Copyright (c) 2012-2013 Sasha Koss & Rico Sta. Cruz
 */
function(){var t,e;t=window.jQuery||("function"==typeof require?require("jquery"):void 0),e=t(document),t.turbo={version:"2.0.2",isReady:!1,use:function(t,n){return e.off(".turbo").on(""+t+".turbo",this.onLoad).on(""+n+".turbo",this.onFetch)},addCallback:function(n){return t.turbo.isReady?n(t):e.on("turbo:ready",function(){return n(t)})},onLoad:function(){return t.turbo.isReady=!0,e.trigger("turbo:ready")},onFetch:function(){return t.turbo.isReady=!1},register:function(){return t(this.onLoad),t.fn.ready=this.addCallback}},t.turbo.register(),t.turbo.use("page:load","page:fetch")}.call(this),function(t,e){var n=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};n()&&t.error("jquery-ujs has already been loaded!");var r;t.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},fire:function(e,n,r){var i=t.Event(n);return e.trigger(i,r),i.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var i,o,a,s,u,l,c,h;if(r.fire(n,"ajax:before")){if(s=n.data("cross-domain"),u=s===e?null:s,l=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){i=n.attr("method"),o=n.attr("action"),a=n.serializeArray();var f=n.data("ujs:submit-button");f&&(a.push(f),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),o=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(i=n.data("method"),o=r.href(n),a=n.data("params")||null);h={type:i||"GET",data:a,dataType:c,beforeSend:function(t,i){return i.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[t,i])},success:function(t,e,r){n.trigger("ajax:success",[t,e,r])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,r){n.trigger("ajax:error",[t,e,r])},xhrFields:{withCredentials:l},crossDomain:u},o&&(h.url=o);var d=r.ajax(h);return n.trigger("ajax:send",d),d}return!1},handleMethod:function(n){var i=r.href(n),o=n.data("method"),a=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),u=t("meta[name=csrf-param]").attr("content"),l=t('<form method="post" action="'+i+'"></form>'),c='<input name="_method" value="'+o+'" type="hidden" />';u!==e&&s!==e&&(c+='<input name="'+u+'" value="'+s+'" type="hidden" />'),a&&l.attr("target",a),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(e){e.find(r.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(r.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),i=!1;return n?(r.fire(t,"confirm")&&(i=r.confirm(n),e=r.fire(t,"confirm:complete",[i])),i&&e):!0},blankInputs:function(e,n,r){var i,o,a=t(),s=n||"input,textarea",u=e.find(s);return u.each(function(){if(i=t(this),o=i.is(":checkbox,:radio")?i.is(":checked"):i.val(),!o==!r){if(i.is(":radio")&&u.filter('input:radio:checked[name="'+i.attr("name")+'"]').length)return!0;a=a.add(i)}}),a.length?a:!1},nonBlankInputs:function(t,e){return r.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),o=!0;return i!==e&&i.submit!==e&&t.each(i.submit,function(t,e){return"function"==typeof e.handler?o=e.handler(r):void 0}),o},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.addClass("disabled"),t.bind("click.railsDisable",function(t){return r.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeClass("disabled"),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},r.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||r.CSRFProtection(n)}),t(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(t(this))}),t(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=t(this),o=i.data("method"),a=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);if(i.is(r.linkDisableSelector)&&r.disableElement(i),i.data("remote")!==e){if(!(!n.metaKey&&!n.ctrlKey||o&&"GET"!==o||a))return!0;var s=r.handleRemote(i);return s===!1?r.enableElement(i):s.error(function(){r.enableElement(i)}),!1}return i.data("method")?(r.handleMethod(i),!1):void 0}),t(document).delegate(r.inputChangeSelector,"change.rails",function(e){var n=t(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(e)}),t(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=t(this),o=i.data("remote")!==e,a=r.blankInputs(i,r.requiredInputSelector),s=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(a&&i.attr("novalidate")==e&&r.fire(i,"ajax:aborted:required",[a]))return r.stopEverything(n);if(o){if(s){setTimeout(function(){r.disableFormElements(i)},13);var u=r.fire(i,"ajax:aborted:file",[s]);return u||setTimeout(function(){r.enableFormElements(i)},13),u}return!t.support.submitBubbles&&t().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),t(document).delegate(r.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!r.allowAction(n))return r.stopEverything(e);var i=n.attr("name"),o=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),t(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&r.disableFormElements(t(this))}),t(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&r.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),function(t){t.fingerprint=function(){function e(){return[navigator.userAgent,[screen.height,screen.width,screen.colorDepth].join("x"),(new Date).getTimezoneOffset(),t.map(navigator.plugins,function(e){return[e.name,e.description,t.map(e,function(t){return[t.type,t.suffixes].join("~")}).join(",")].join("::")}).join(";"),r().join("+")].join("###")}function n(){if("function"==typeof window.md5)return md5(e());throw"md5 unavailable, please get it from http://github.com/wbond/md5-js/"}function r(){return"function"==typeof t.fontlist?t.fontlist():[]}return n()}}(jQuery),function(){function t(n,r){e(n),r=r||{};var i=this;this.key=n,this.config=t.Util.extend(t.getGlobalConfig(),r.cluster?t.getClusterConfig(r.cluster):{},r),this.channels=new t.Channels,this.global_emitter=new t.EventsDispatcher,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new t.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:t.Util.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:t.Timeline.INFO,version:t.VERSION}),this.config.disableStats||(this.timelineSender=new t.TimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/jsonp"}));var o=function(e){var n=t.Util.extend({},i.config,e);return t.StrategyBuilder.build(t.getDefaultStrategy(n),n)};this.connection=new t.ConnectionManager(this.key,t.Util.extend({getStrategy:o,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){i.subscribeAll(),i.timelineSender&&i.timelineSender.send(i.connection.isEncrypted())}),this.connection.bind("message",function(t){var e=0===t.event.indexOf("pusher_internal:");if(t.channel){var n=i.channel(t.channel);n&&n.handleEvent(t.event,t.data)}e||i.global_emitter.emit(t.event,t.data)}),this.connection.bind("disconnected",function(){i.channels.disconnect()}),this.connection.bind("error",function(e){t.warn("Error",e)}),t.instances.push(this),this.timeline.info({instances:t.instances.length}),t.isReady&&i.connect()}function e(e){(null===e||void 0===e)&&t.warn("Warning","You must pass your app key when you instantiate Pusher.")}var n=t.prototype;t.instances=[],t.isReady=!1,t.debug=function(){t.log&&t.log(t.Util.stringify.apply(this,arguments))},t.warn=function(){var e=t.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(e):window.console.log&&window.console.log(e)),t.log&&t.log(e)},t.ready=function(){t.isReady=!0;for(var e=0,n=t.instances.length;n>e;e++)t.instances[e].connect()},n.channel=function(t){return this.channels.find(t)},n.allChannels=function(){return this.channels.all()},n.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isEncrypted(),n=this.timelineSender;this.timelineSenderTimer=new t.PeriodicTimer(6e4,function(){n.send(e)})}},n.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},n.bind=function(t,e){return this.global_emitter.bind(t,e),this},n.bind_all=function(t){return this.global_emitter.bind_all(t),this},n.subscribeAll=function(){var t;for(t in this.channels.channels)this.channels.channels.hasOwnProperty(t)&&this.subscribe(t)},n.subscribe=function(t){var e=this.channels.add(t,this);return"connected"===this.connection.state&&e.subscribe(),e},n.unsubscribe=function(t){var e=this.channels.remove(t);"connected"===this.connection.state&&e.unsubscribe()},n.send_event=function(t,e,n){return this.connection.send_event(t,e,n)},n.isEncrypted=function(){return"https:"===t.Util.getDocument().location.protocol?!0:Boolean(this.config.encrypted)},t.HTTP={},this.Pusher=t}.call(this),function(){function t(t){window.clearTimeout(t)}function e(t){window.clearInterval(t)}function n(t,e,n,r){var i=this;this.clear=e,this.timer=t(function(){null!==i.timer&&(i.timer=r(i.timer))},n)}var r=n.prototype;r.isRunning=function(){return null!==this.timer},r.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},Pusher.Timer=function(e,r){return new n(setTimeout,t,e,function(){return r(),null})},Pusher.PeriodicTimer=function(t,r){return new n(setInterval,e,t,function(t){return r(),t})}}.call(this),function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(t){return new Pusher.Timer(0,t)},extend:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]&&n[r].constructor&&n[r].constructor===Object?Pusher.Util.extend(t[r]||{},n[r]):n[r]}return t},stringify:function(){for(var t=["Pusher"],e=0;e<arguments.length;e++)t.push("string"==typeof arguments[e]?arguments[e]:void 0===window.JSON?arguments[e].toString():JSON.stringify(arguments[e]));return t.join(" : ")},arrayIndexOf:function(t,e){var n=Array.prototype.indexOf;if(null===t)return-1;if(n&&t.indexOf===n)return t.indexOf(e);for(var r=0,i=t.length;i>r;r++)if(t[r]===e)return r;return-1},objectApply:function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)},keys:function(t){var e=[];return Pusher.Util.objectApply(t,function(t,n){e.push(n)}),e},values:function(t){var e=[];return Pusher.Util.objectApply(t,function(t){e.push(t)}),e},apply:function(t,e,n){for(var r=0;r<t.length;r++)e.call(n||window,t[r],r,t)},map:function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r,t,n));return n},mapObject:function(t,e){var n={};return Pusher.Util.objectApply(t,function(t,r){n[r]=e(t)}),n},filter:function(t,e){e=e||function(t){return!!t};for(var n=[],r=0;r<t.length;r++)e(t[r],r,t,n)&&n.push(t[r]);return n},filterObject:function(t,e){var n={};return Pusher.Util.objectApply(t,function(r,i){(e&&e(r,i,t,n)||Boolean(r))&&(n[i]=r)}),n},flatten:function(t){var e=[];return Pusher.Util.objectApply(t,function(t,n){e.push([n,t])}),e},any:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},all:function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n,t))return!1;return!0},method:function(t){var e=Array.prototype.slice.call(arguments,1);return function(n){return n[t].apply(n,e.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator},getLocalStorage:function(){try{return window.localStorage}catch(t){return void 0}},getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport,flash:Pusher.FlashTransport},function(t){return t.isSupported({})}))},addWindowListener:function(t,e){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent("on"+t,e)},removeWindowListener:function(t,e){var n=Pusher.Util.getWindow();void 0!==n.addEventListener?n.removeEventListener(t,e,!1):n.detachEvent("on"+t,e)},isXHRSupported:function(){var t=window.XMLHttpRequest;return Boolean(t)&&void 0!==(new t).withCredentials},isXDRSupported:function(t){var e=t?"https:":"http:",n=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&n===e}}}.call(this),function(){Pusher.VERSION="2.2.2",Pusher.PROTOCOL=7,Pusher.host="ws.pusherapp.com",Pusher.ws_port=80,Pusher.wss_port=443,Pusher.sockjs_host="sockjs.pusher.com",Pusher.sockjs_http_port=80,Pusher.sockjs_https_port=443,Pusher.sockjs_path="/pusher",Pusher.stats_host="stats.pusher.com",Pusher.channel_auth_endpoint="/pusher/auth",Pusher.channel_auth_transport="ajax",Pusher.activity_timeout=12e4,Pusher.pong_timeout=3e4,Pusher.unavailable_timeout=1e4,Pusher.cdn_http="http://js.pusher.com/",Pusher.cdn_https="https://js.pusher.com/",Pusher.dependency_suffix="",Pusher.getDefaultStrategy=function(t){var e;return e=t.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:t.wsHost+":"+t.wsPort,hostEncrypted:t.wsHost+":"+t.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:t.httpHost+":"+t.httpPort,hostEncrypted:t.httpHost+":"+t.httpsPort}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:t.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","flash","flash",2,":ws_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","flash_loop",[":sequential",":timeouts",":flash"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],e,[":if",[":is_supported",":flash"],[":best_connected_ever",":flash_loop",[":delayed",2e3,[":http_fallback_loop"]]],[":http_fallback_loop"]]]]]]]}}.call(this),function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}},Pusher.getClusterConfig=function(t){return{wsHost:"ws-"+t+".pusher.com",httpHost:"sockjs-"+t+".pusher.com"}}}.call(this),function(){function t(t){var e=function(e){Error.call(this,e),this.name=t};return Pusher.Util.extend(e.prototype,Error.prototype),e}Pusher.Errors={BadEventName:t("BadEventName"),RequestTimedOut:t("RequestTimedOut"),TransportPriorityTooLow:t("TransportPriorityTooLow"),TransportClosed:t("TransportClosed"),UnsupportedTransport:t("UnsupportedTransport"),UnsupportedStrategy:t("UnsupportedStrategy")}}.call(this),function(){function t(t){this.callbacks=new e,this.global_callbacks=[],this.failThrough=t}function e(){this._callbacks={}}function n(t){return"_"+t}var r=t.prototype;r.bind=function(t,e,n){return this.callbacks.add(t,e,n),this},r.bind_all=function(t){return this.global_callbacks.push(t),this},r.unbind=function(t,e,n){return this.callbacks.remove(t,e,n),this},r.unbind_all=function(t,e){return this.callbacks.remove(t,e),this},r.emit=function(t,e){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](t,e);var r=this.callbacks.get(t);if(r&&r.length>0)for(n=0;n<r.length;n++)r[n].fn.call(r[n].context||window,e);else this.failThrough&&this.failThrough(t,e);return this},e.prototype.get=function(t){return this._callbacks[n(t)]},e.prototype.add=function(t,e,r){var i=n(t);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:e,context:r})},e.prototype.remove=function(t,e,r){if(!t&&!e&&!r)return void(this._callbacks={});var i=t?[n(t)]:Pusher.Util.keys(this._callbacks);e||r?Pusher.Util.apply(i,function(t){this._callbacks[t]=Pusher.Util.filter(this._callbacks[t]||[],function(t){return e&&e!==t.fn||r&&r!==t.context}),0===this._callbacks[t].length&&delete this._callbacks[t]},this):Pusher.Util.apply(i,function(t){delete this._callbacks[t]},this)},Pusher.EventsDispatcher=t}.call(this),function(){function t(t,e){this.lastId=0,this.prefix=t,this.name=e}var e=t.prototype;e.create=function(t){this.lastId++;var e=this.lastId,n=this.prefix+e,r=this.name+"["+e+"]",i=!1,o=function(){i||(t.apply(null,arguments),i=!0)};return this[e]=o,{number:e,id:n,name:r,callback:o}},e.remove=function(t){delete this[t.number]},Pusher.ScriptReceiverFactory=t,Pusher.ScriptReceivers=new t("_pusher_script_","Pusher.ScriptReceivers")}.call(this),function(){function t(t){this.src=t}var e=t.prototype;e.send=function(t){var e=this,n="Error loading "+e.src;e.script=document.createElement("script"),e.script.id=t.id,e.script.src=e.src,e.script.type="text/javascript",e.script.charset="UTF-8",e.script.addEventListener?(e.script.onerror=function(){t.callback(n)},e.script.onload=function(){t.callback(null)}):e.script.onreadystatechange=function(){("loaded"===e.script.readyState||"complete"===e.script.readyState)&&t.callback(null)},void 0===e.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(e.errorScript=document.createElement("script"),e.errorScript.id=t.id+"_error",e.errorScript.text=t.name+"('"+n+"');",e.script.async=e.errorScript.async=!1):e.script.async=!0;var r=document.getElementsByTagName("head")[0];r.insertBefore(e.script,r.firstChild),e.errorScript&&r.insertBefore(e.errorScript,e.script.nextSibling)},e.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},Pusher.ScriptRequest=t}.call(this),function(){function t(t){this.options=t,this.receivers=t.receivers||Pusher.ScriptReceivers,this.loading={}}var e=t.prototype;e.load=function(t,e){var n=this;if(n.loading[t]&&n.loading[t].length>0)n.loading[t].push(e);else{n.loading[t]=[e];var r=new Pusher.ScriptRequest(n.getPath(t)),i=n.receivers.create(function(e){if(n.receivers.remove(i),n.loading[t]){var o=n.loading[t];delete n.loading[t];for(var a=function(t){t||r.cleanup()},s=0;s<o.length;s++)o[s](e,a)}});r.send(i)}},e.getRoot=function(t){var e,n=Pusher.Util.getDocument().location.protocol;return e=t&&t.encrypted||"https:"===n?this.options.cdn_https:this.options.cdn_http,e.replace(/\/*$/,"")+"/"+this.options.version},e.getPath=function(t,e){return this.getRoot(e)+"/"+t+this.options.suffix+".js"},Pusher.DependencyLoader=t}.call(this),function(){function t(){Pusher.ready()}function e(t){document.body?t():setTimeout(function(){e(t)},0)}function n(){e(t)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers}),window.JSON?n():Pusher.Dependencies.load("json2",n)}(),function(){for(var t={encode:function(t){return l(s(t))}},e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={},i=0,o=n.length;o>i;i++)r[n.charAt(i)]=i;var a=function(t){var n=t.charCodeAt(0);return 128>n?t:2048>n?e(192|n>>>6)+e(128|63&n):e(224|n>>>12&15)+e(128|n>>>6&63)+e(128|63&n)},s=function(t){return t.replace(/[^\x00-\x7F]/g,a)},u=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),i=[n.charAt(r>>>18),n.charAt(r>>>12&63),e>=2?"=":n.charAt(r>>>6&63),e>=1?"=":n.charAt(63&r)];return i.join("")},l=window.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,u)};Pusher.Base64=t}.call(this),function(){function t(t,e){this.url=t,this.data=e}function e(t){return Pusher.Util.mapObject(t,function(t){return"object"==typeof t&&(t=JSON.stringify(t)),encodeURIComponent(Pusher.Base64.encode(t.toString()))})}var n=t.prototype;n.send=function(t){if(!this.request){var n=Pusher.Util.filterObject(this.data,function(t){return void 0!==t}),r=Pusher.Util.map(Pusher.Util.flatten(e(n)),Pusher.Util.method("join","=")).join("&"),i=this.url+"/"+t.number+"?"+r;this.request=new Pusher.ScriptRequest(i),this.request.send(t)}},n.cleanup=function(){this.request&&this.request.cleanup()},Pusher.JSONPRequest=t}.call(this),function(){function t(t,e,n){this.key=t,this.session=e,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}var e=t.prototype;t.ERROR=3,t.INFO=6,t.DEBUG=7,e.log=function(t,e){t<=this.options.level&&(this.events.push(Pusher.Util.extend({},e,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.error=function(e){this.log(t.ERROR,e)},e.info=function(e){this.log(t.INFO,e)},e.debug=function(e){this.log(t.DEBUG,e)},e.isEmpty=function(){return 0===this.events.length},e.send=function(t,e){var n=this,r=Pusher.Util.extend({session:n.session,bundle:n.sent+1,key:n.key,lib:"js",version:n.options.version,cluster:n.options.cluster,features:n.options.features,timeline:n.events},n.options.params);return n.events=[],t(r,function(t,r){t||n.sent++,e&&e(t,r)}),!0},e.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},Pusher.Timeline=t}.call(this),function(){function t(t,e){this.timeline=t,this.options=e||{}}var e=t.prototype;e.send=function(t,e){var n=this;if(!n.timeline.isEmpty()){var r=function(e,r){var i="http"+(t?"s":"")+"://",o=i+(n.host||n.options.host)+n.options.path,a=new Pusher.JSONPRequest(o,e),s=Pusher.ScriptReceivers.create(function(t,e){Pusher.ScriptReceivers.remove(s),a.cleanup(),e&&e.host&&(n.host=e.host),r&&r(t,e)});a.send(s)};n.timeline.send(r,e)}},Pusher.TimelineSender=t}.call(this),function(){function t(t){this.strategies=t}function e(t,e,n){var i=Pusher.Util.map(t,function(t,r,i,o){return t.connect(e,n(r,o))});return{abort:function(){Pusher.Util.apply(i,r)},forceMinPriority:function(t){Pusher.Util.apply(i,function(e){e.forceMinPriority(t)})}}}function n(t){return Pusher.Util.all(t,function(t){return Boolean(t.error)})}function r(t){t.error||t.aborted||(t.abort(),t.aborted=!0)}var i=t.prototype;i.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},i.connect=function(t,r){return e(this.strategies,t,function(t,e){return function(i,o){return e[t].error=i,i?void(n(e)&&r(!0)):(Pusher.Util.apply(e,function(t){t.forceMinPriority(o.transport.priority)}),void r(null,o))}})},Pusher.BestConnectedEverStrategy=t}.call(this),function(){function t(t,e,n){this.strategy=t,this.transports=e,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}function e(t){return"pusherTransport"+(t?"Encrypted":"Unencrypted")}function n(t){var n=Pusher.Util.getLocalStorage();if(n)try{var r=n[e(t)];if(r)return JSON.parse(r)}catch(o){i(t)}return null}function r(t,n,r){var i=Pusher.Util.getLocalStorage();if(i)try{i[e(t)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:n,latency:r})}catch(o){}}function i(t){var n=Pusher.Util.getLocalStorage();if(n)try{delete n[e(t)]}catch(r){}}var o=t.prototype;o.isSupported=function(){return this.strategy.isSupported()},o.connect=function(t,e){var o=this.encrypted,a=n(o),s=[this.strategy];if(a&&a.timestamp+this.ttl>=Pusher.Util.now()){var u=this.transports[a.transport];u&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),s.push(new Pusher.SequentialStrategy([u],{timeout:2*a.latency+1e3,failFast:!0})))}var l=Pusher.Util.now(),c=s.pop().connect(t,function h(n,a){n?(i(o),s.length>0?(l=Pusher.Util.now(),c=s.pop().connect(t,h)):e(n)):(r(o,a.transport.name,Pusher.Util.now()-l),e(null,a))});return{abort:function(){c.abort()},forceMinPriority:function(e){t=e,c&&c.forceMinPriority(e)}}},Pusher.CachedStrategy=t}.call(this),function(){function t(t,e){this.strategy=t,this.options={delay:e.delay}}var e=t.prototype;e.isSupported=function(){return this.strategy.isSupported()},e.connect=function(t,e){var n,r=this.strategy,i=new Pusher.Timer(this.options.delay,function(){n=r.connect(t,e)});return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(e){t=e,n&&n.forceMinPriority(e)}}},Pusher.DelayedStrategy=t}.call(this),function(){function t(t){this.strategy=t}var e=t.prototype;e.isSupported=function(){return this.strategy.isSupported()},e.connect=function(t,e){var n=this.strategy.connect(t,function(t,r){r&&n.abort(),e(t,r)});return n},Pusher.FirstConnectedStrategy=t}.call(this),function(){function t(t,e,n){this.test=t,this.trueBranch=e,this.falseBranch=n}var e=t.prototype;e.isSupported=function(){var t=this.test()?this.trueBranch:this.falseBranch;return t.isSupported()},e.connect=function(t,e){var n=this.test()?this.trueBranch:this.falseBranch;return n.connect(t,e)},Pusher.IfStrategy=t}.call(this),function(){function t(t,e){this.strategies=t,this.loop=Boolean(e.loop),this.failFast=Boolean(e.failFast),this.timeout=e.timeout,this.timeoutLimit=e.timeoutLimit}var e=t.prototype;e.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))},e.connect=function(t,e){var n=this,r=this.strategies,i=0,o=this.timeout,a=null,s=function(u,l){l?e(null,l):(i+=1,n.loop&&(i%=r.length),i<r.length?(o&&(o=2*o,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(r[i],t,{timeout:o,failFast:n.failFast},s)):e(!0))};return a=this.tryStrategy(r[i],t,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(e){t=e,a&&a.forceMinPriority(e)}}},e.tryStrategy=function(t,e,n,r){var i=null,o=null;return n.timeout>0&&(i=new Pusher.Timer(n.timeout,function(){o.abort(),r(!0)})),o=t.connect(e,function(t,e){t&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),r(t,e))}),{abort:function(){i&&i.ensureAborted(),o.abort()},forceMinPriority:function(t){o.forceMinPriority(t)}}},Pusher.SequentialStrategy=t}.call(this),function(){function t(t,e,n,r){this.name=t,this.priority=e,this.transport=n,this.options=r||{}}function e(t,e){return Pusher.Util.defer(function(){e(t)}),{abort:function(){},forceMinPriority:function(){}}}var n=t.prototype;n.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},n.connect=function(t,n){if(!this.isSupported())return e(new Pusher.Errors.UnsupportedStrategy,n);if(this.priority<t)return e(new Pusher.Errors.TransportPriorityTooLow,n);var r=this,i=!1,o=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),a=null,s=function(){o.unbind("initialized",s),o.connect()},u=function(){a=new Pusher.Handshake(o,function(t){i=!0,h(),n(null,t)})},l=function(t){h(),n(t)},c=function(){h(),n(new Pusher.Errors.TransportClosed(o))},h=function(){o.unbind("initialized",s),o.unbind("open",u),o.unbind("error",l),o.unbind("closed",c)};return o.bind("initialized",s),o.bind("open",u),o.bind("error",l),o.bind("closed",c),o.initialize(),{abort:function(){i||(h(),a?a.close():o.close())},forceMinPriority:function(t){i||r.priority<t&&(a?a.close():o.close())}}},Pusher.TransportStrategy=t}.call(this),function(){function t(t,e,n){var r=t+(e.encrypted?"s":""),i=e.encrypted?e.hostEncrypted:e.hostUnencrypted;return r+"://"+i+n}function e(t,e){var n="/app/"+t,r="?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION+(e?"&"+e:"");return n+r}Pusher.URLSchemes={ws:{getInitial:function(n,r){return t("ws",r,e(n,"flash=false"))}},flash:{getInitial:function(n,r){return t("ws",r,e(n,"flash=true"))}},sockjs:{getInitial:function(e,n){return t("http",n,n.httpPath||"/pusher","")},getPath:function(t){return e(t)}},http:{getInitial:function(n,r){var i=(r.httpPath||"/pusher")+e(n);return t("http",r,i)}}}}.call(this),function(){function t(t,e,n,r,i){Pusher.EventsDispatcher.call(this),this.hooks=t,this.name=e,this.priority=n,this.key=r,this.options=i,this.state="new",this.timeline=i.timeline,this.activityTimeout=i.activityTimeout,this.id=this.timeline.generateUniqueID()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},e.supportsPing=function(){return Boolean(this.hooks.supportsPing)},e.initialize=function(){var t=this;t.timeline.info(t.buildTimelineMessage({transport:t.name+(t.options.encrypted?"s":"")})),t.hooks.beforeInitialize&&t.hooks.beforeInitialize(),t.hooks.isInitialized()?t.changeState("initialized"):t.hooks.file?(t.changeState("initializing"),Pusher.Dependencies.load(t.hooks.file,function(e,n){t.hooks.isInitialized()?(t.changeState("initialized"),n(!0)):(e&&t.onError(e),t.onClose(),n(!1))})):t.onClose()},e.connect=function(){var t=this;if(t.socket||"initialized"!==t.state)return!1;var e=t.hooks.urls.getInitial(t.key,t.options);try{t.socket=t.hooks.getSocket(e,t.options)}catch(n){return Pusher.Util.defer(function(){t.onError(n),t.changeState("closed")}),!1}return t.bindListeners(),Pusher.debug("Connecting",{transport:t.name,url:e}),t.changeState("connecting"),!0},e.close=function(){return this.socket?(this.socket.close(),!0):!1},e.send=function(t){var e=this;return"open"===e.state?(Pusher.Util.defer(function(){e.socket&&e.socket.send(t)}),!0):!1},e.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},e.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0
},e.onError=function(t){this.emit("error",{type:"WebSocketError",error:t}),this.timeline.error(this.buildTimelineMessage({error:t.toString()}))},e.onClose=function(t){t?this.changeState("closed",{code:t.code,reason:t.reason,wasClean:t.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},e.onMessage=function(t){this.emit("message",t)},e.onActivity=function(){this.emit("activity")},e.bindListeners=function(){var t=this;t.socket.onopen=function(){t.onOpen()},t.socket.onerror=function(e){t.onError(e)},t.socket.onclose=function(e){t.onClose(e)},t.socket.onmessage=function(e){t.onMessage(e)},t.supportsPing()&&(t.socket.onactivity=function(){t.onActivity()})},e.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},e.changeState=function(t,e){this.state=t,this.timeline.info(this.buildTimelineMessage({state:t,params:e})),this.emit(t,e)},e.buildTimelineMessage=function(t){return Pusher.Util.extend({cid:this.id},t)},Pusher.TransportConnection=t}.call(this),function(){function t(t){this.hooks=t}var e=t.prototype;e.isSupported=function(t){return this.hooks.isSupported(t)},e.createConnection=function(t,e,n,r){return new Pusher.TransportConnection(this.hooks,t,e,n,r)},Pusher.Transport=t}.call(this),function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(t){var e=window.WebSocket||window.MozWebSocket;return new e(t)}}),Pusher.FlashTransport=new Pusher.Transport({file:"flashfallback",urls:Pusher.URLSchemes.flash,handlesActivityChecks:!1,supportsPing:!1,isSupported:function(){try{return Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){try{var e=Pusher.Util.getNavigator();return Boolean(e&&e.mimeTypes&&void 0!==e.mimeTypes["application/x-shockwave-flash"])}catch(n){return!1}}},beforeInitialize:function(){void 0===window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&(window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0),window.WEB_SOCKET_SWF_LOCATION=Pusher.Dependencies.getRoot()+"/WebSocketMain.swf"},isInitialized:function(){return void 0!==window.FlashWebSocket},getSocket:function(t){return new FlashWebSocket(t)}}),Pusher.SockJSTransport=new Pusher.Transport({file:"sockjs",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(t,e){return new SockJS(t,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:e.encrypted}),ignore_null_origin:e.ignoreNullOrigin})},beforeOpen:function(t,e){t.send(JSON.stringify({path:e}))}});var t={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},e=Pusher.Util.extend({getSocket:function(t){return Pusher.HTTP.getStreamingSocket(t)}},t),n=Pusher.Util.extend({getSocket:function(t){return Pusher.HTTP.getPollingSocket(t)}},t),r={file:"xhr",isSupported:Pusher.Util.isXHRSupported},i={file:"xdr",isSupported:function(t){return Pusher.Util.isXDRSupported(t.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},e,r)),Pusher.XDRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},e,i)),Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},n,r)),Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},n,i))}.call(this),function(){function t(t,e,n){this.manager=t,this.transport=e,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}var e=t.prototype;e.createConnection=function(t,e,n,r){var i=this;r=Pusher.Util.extend({},r,{activityTimeout:i.pingDelay});var o=i.transport.createConnection(t,e,n,r),a=null,s=function(){o.unbind("open",s),o.bind("closed",u),a=Pusher.Util.now()},u=function(t){if(o.unbind("closed",u),1002===t.code||1003===t.code)i.manager.reportDeath();else if(!t.wasClean&&a){var e=Pusher.Util.now()-a;e<2*i.maxPingDelay&&(i.manager.reportDeath(),i.pingDelay=Math.max(e/2,i.minPingDelay))}};return o.bind("open",s),o},e.isSupported=function(t){return this.manager.isAlive()&&this.transport.isSupported(t)},Pusher.AssistantToTheTransportManager=t}.call(this),function(){function t(t){this.options=t||{},this.livesLeft=this.options.lives||1/0}var e=t.prototype;e.getAssistant=function(t){return new Pusher.AssistantToTheTransportManager(this,t,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.isAlive=function(){return this.livesLeft>0},e.reportDeath=function(){this.livesLeft-=1},Pusher.TransportManager=t}.call(this),function(){function t(t){return function(e){return[t.apply(this,arguments),e]}}function e(t){return"string"==typeof t&&":"===t.charAt(0)}function n(t,e){return e[t.slice(1)]}function r(t,e){if(0===t.length)return[[],e];var n=a(t[0],e),i=r(t.slice(1),n[1]);return[[n[0]].concat(i[0]),i[1]]}function i(t,r){if(!e(t))return[t,r];var i=n(t,r);if(void 0===i)throw"Undefined symbol "+t;return[i,r]}function o(t,i){if(e(t[0])){var o=n(t[0],i);if(t.length>1){if("function"!=typeof o)throw"Calling non-function "+t[0];var s=[Pusher.Util.extend({},i)].concat(Pusher.Util.map(t.slice(1),function(t){return a(t,Pusher.Util.extend({},i))[0]}));return o.apply(this,s)}return[o,i]}return r(t,i)}function a(t,e){return"string"==typeof t?i(t,e):"object"==typeof t&&t instanceof Array&&t.length>0?o(t,e):[t,e]}var s={build:function(t,e){var n=Pusher.Util.extend({},c,e);return a(t,n)[1].strategy}},u={ws:Pusher.WSTransport,flash:Pusher.FlashTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},l={isSupported:function(){return!1},connect:function(t,e){var n=Pusher.Util.defer(function(){e(new Pusher.Errors.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},c={extend:function(t,e,n){return[Pusher.Util.extend({},e,n),t]},def:function(t,e,n){if(void 0!==t[e])throw"Redefining symbol "+e;return t[e]=n,[void 0,t]},def_transport:function(t,e,n,r,i,o){var a=u[n];if(!a)throw new Pusher.Errors.UnsupportedTransport(n);var s,c=!(t.enabledTransports&&-1===Pusher.Util.arrayIndexOf(t.enabledTransports,e)||t.disabledTransports&&-1!==Pusher.Util.arrayIndexOf(t.disabledTransports,e)||"flash"===e&&t.disableFlash===!0);s=c?new Pusher.TransportStrategy(e,r,o?o.getAssistant(a):a,Pusher.Util.extend({key:t.key,encrypted:t.encrypted,timeline:t.timeline,ignoreNullOrigin:t.ignoreNullOrigin},i)):l;var h=t.def(t,e,s)[1];return h.transports=t.transports||{},h.transports[e]=s,[void 0,h]},transport_manager:t(function(t,e){return new Pusher.TransportManager(e)}),sequential:t(function(t,e){var n=Array.prototype.slice.call(arguments,2);return new Pusher.SequentialStrategy(n,e)}),cached:t(function(t,e,n){return new Pusher.CachedStrategy(n,t.transports,{ttl:e,timeline:t.timeline,encrypted:t.encrypted})}),first_connected:t(function(t,e){return new Pusher.FirstConnectedStrategy(e)}),best_connected_ever:t(function(){var t=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(t)}),delayed:t(function(t,e,n){return new Pusher.DelayedStrategy(n,{delay:e})}),"if":t(function(t,e,n,r){return new Pusher.IfStrategy(e,n,r)}),is_supported:t(function(t,e){return function(){return e.isSupported()}})};Pusher.StrategyBuilder=s}.call(this),function(){var t={};t.decodeMessage=function(t){try{var e=JSON.parse(t.data);if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(n){if(!(n instanceof SyntaxError))throw n}return e}catch(n){throw{type:"MessageParseError",error:n,data:t.data}}},t.encodeMessage=function(t){return JSON.stringify(t)},t.processHandshake=function(t){if(t=this.decodeMessage(t),"pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},t.getCloseAction=function(t){return t.code<4e3?t.code>=1002&&t.code<=1004?"backoff":null:4e3===t.code?"ssl_only":t.code<4100?"refused":t.code<4200?"backoff":t.code<4300?"retry":"refused"},t.getCloseError=function(t){return 1e3!==t.code&&1001!==t.code?{type:"PusherError",data:{code:t.code,message:t.reason||t.message}}:null},Pusher.Protocol=t}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this),this.id=t,this.transport=e,this.activityTimeout=e.activityTimeout,this.bindListeners()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},e.send=function(t){return this.transport.send(t)},e.send_event=function(t,e,n){var r={event:t,data:e};return n&&(r.channel=n),Pusher.debug("Event sent",r),this.send(Pusher.Protocol.encodeMessage(r))},e.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},e.close=function(){this.transport.close()},e.bindListeners=function(){var t=this,e={message:function(e){var n;try{n=Pusher.Protocol.decodeMessage(e)}catch(r){t.emit("error",{type:"MessageParseError",error:r,data:e.data})}if(void 0!==n){switch(Pusher.debug("Event recd",n),n.event){case"pusher:error":t.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":t.emit("ping");break;case"pusher:pong":t.emit("pong")}t.emit("message",n)}},activity:function(){t.emit("activity")},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(e){n(),e&&e.code&&t.handleCloseEvent(e),t.transport=null,t.emit("closed")}},n=function(){Pusher.Util.objectApply(e,function(e,n){t.transport.unbind(n,e)})};Pusher.Util.objectApply(e,function(e,n){t.transport.bind(n,e)})},e.handleCloseEvent=function(t){var e=Pusher.Protocol.getCloseAction(t),n=Pusher.Protocol.getCloseError(t);n&&this.emit("error",n),e&&this.emit(e)},Pusher.Connection=t}.call(this),function(){function t(t,e){this.transport=t,this.callback=e,this.bindListeners()}var e=t.prototype;e.close=function(){this.unbindListeners(),this.transport.close()},e.bindListeners=function(){var t=this;t.onMessage=function(e){t.unbindListeners();try{var n=Pusher.Protocol.processHandshake(e);"connected"===n.action?t.finish("connected",{connection:new Pusher.Connection(n.id,t.transport),activityTimeout:n.activityTimeout}):(t.finish(n.action,{error:n.error}),t.transport.close())}catch(r){t.finish("error",{error:r}),t.transport.close()}},t.onClosed=function(e){t.unbindListeners();var n=Pusher.Protocol.getCloseAction(e)||"backoff",r=Pusher.Protocol.getCloseError(e);t.finish(n,{error:r})},t.transport.bind("message",t.onMessage),t.transport.bind("closed",t.onClosed)},e.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.finish=function(t,e){this.callback(Pusher.Util.extend({transport:this.transport,action:t},e))},Pusher.Handshake=t}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this),this.key=t,this.options=e||{},this.state="initialized",this.connection=null,this.encrypted=!!e.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var n=this;Pusher.Network.bind("online",function(){n.timeline.info({netinfo:"online"}),("connecting"===n.state||"unavailable"===n.state)&&n.retryIn(0)}),Pusher.Network.bind("offline",function(){n.timeline.info({netinfo:"offline"}),n.connection&&n.sendActivityCheck()}),this.updateStrategy()}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},e.send=function(t){return this.connection?this.connection.send(t):!1},e.send_event=function(t,e,n){return this.connection?this.connection.send_event(t,e,n):!1},e.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},e.isEncrypted=function(){return this.encrypted},e.startConnecting=function(){var t=this,e=function(n,r){n?t.runner=t.strategy.connect(0,e):"error"===r.action?(t.emit("error",{type:"HandshakeError",error:r.error}),t.timeline.error({handshakeError:r.error})):(t.abortConnecting(),t.handshakeCallbacks[r.action](r))};t.runner=t.strategy.connect(0,e)},e.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},e.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var t=this.abandonConnection();t.close()}},e.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},e.retryIn=function(t){var e=this;e.timeline.info({action:"retry",delay:t}),t>0&&e.emit("connecting_in",Math.round(t/1e3)),e.retryTimer=new Pusher.Timer(t||0,function(){e.disconnectInternally(),e.connect()})},e.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},e.setUnavailableTimer=function(){var t=this;t.unavailableTimer=new Pusher.Timer(t.options.unavailableTimeout,function(){t.updateState("unavailable")})},e.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},e.sendActivityCheck=function(){var t=this;t.stopActivityCheck(),t.connection.ping(),t.activityTimer=new Pusher.Timer(t.options.pongTimeout,function(){t.timeline.error({pong_timed_out:t.options.pongTimeout}),t.retryIn(0)})},e.resetActivityCheck=function(){var t=this;t.stopActivityCheck(),t.connection.handlesActivityChecks()||(t.activityTimer=new Pusher.Timer(t.activityTimeout,function(){t.sendActivityCheck()}))},e.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},e.buildConnectionCallbacks=function(){var t=this;return{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",{type:"WebSocketError",error:e})},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}}},e.buildHandshakeCallbacks=function(t){var e=this;return Pusher.Util.extend({},t,{connected:function(t){e.activityTimeout=Math.min(e.options.activityTimeout,t.activityTimeout,t.connection.activityTimeout||1/0),e.clearUnavailableTimer(),e.setConnection(t.connection),e.socket_id=e.connection.id,e.updateState("connected",{socket_id:e.socket_id})}})},e.buildErrorCallbacks=function(){function t(t){return function(n){n.error&&e.emit("error",{type:"WebSocketError",error:n.error}),t(n)}}var e=this;return{ssl_only:t(function(){e.encrypted=!0,e.updateStrategy(),e.retryIn(0)}),refused:t(function(){e.disconnect()}),backoff:t(function(){e.retryIn(1e3)}),retry:t(function(){e.retryIn(0)})}},e.setConnection=function(t){this.connection=t;for(var e in this.connectionCallbacks)this.connection.bind(e,this.connectionCallbacks[e]);this.resetActivityCheck()},e.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var t in this.connectionCallbacks)this.connection.unbind(t,this.connectionCallbacks[t]);var e=this.connection;return this.connection=null,e}},e.updateState=function(t,e){var n=this.state;this.state=t,n!==t&&(Pusher.debug("State changed",n+" -> "+t),this.timeline.info({state:t,params:e}),this.emit("state_change",{previous:n,current:t}),this.emit(t,e))},e.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},Pusher.ConnectionManager=t}.call(this),function(){function t(){Pusher.EventsDispatcher.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}Pusher.Util.extend(t.prototype,Pusher.EventsDispatcher.prototype);var e=t.prototype;e.isOnline=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine},Pusher.NetInfo=t,Pusher.Network=new t}.call(this),function(){function t(){this.reset()}var e=t.prototype;e.get=function(t){return Object.prototype.hasOwnProperty.call(this.members,t)?{id:t,info:this.members[t]}:null},e.each=function(t){var e=this;Pusher.Util.objectApply(e.members,function(n,r){t(e.get(r))})},e.setMyID=function(t){this.myID=t},e.onSubscription=function(t){this.members=t.presence.hash,this.count=t.presence.count,this.me=this.get(this.myID)},e.addMember=function(t){return null===this.get(t.user_id)&&this.count++,this.members[t.user_id]=t.user_info,this.get(t.user_id)},e.removeMember=function(t){var e=this.get(t.user_id);return e&&(delete this.members[t.user_id],this.count--),e},e.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},Pusher.Members=t}.call(this),function(){function t(t,e){Pusher.EventsDispatcher.call(this,function(e){Pusher.debug("No callbacks on "+t+" for "+e)}),this.name=t,this.pusher=e,this.subscribed=!1}var e=t.prototype;Pusher.Util.extend(e,Pusher.EventsDispatcher.prototype),e.authorize=function(t,e){return e(!1,{})},e.trigger=function(t,e){if(0!==t.indexOf("client-"))throw new Pusher.Errors.BadEventName("Event '"+t+"' does not start with 'client-'");return this.pusher.send_event(t,e,this.name)},e.disconnect=function(){this.subscribed=!1},e.handleEvent=function(t,e){0===t.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===t&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",e)):this.emit(t,e)},e.subscribe=function(){var t=this;t.authorize(t.pusher.connection.socket_id,function(e,n){e?t.handleEvent("pusher:subscription_error",n):t.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:t.name})})},e.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},Pusher.Channel=t}.call(this),function(){function t(t,e){Pusher.Channel.call(this,t,e)}var e=t.prototype;Pusher.Util.extend(e,Pusher.Channel.prototype),e.authorize=function(t,e){var n=new Pusher.Channel.Authorizer(this,this.pusher.config);return n.authorize(t,e)},Pusher.PrivateChannel=t}.call(this),function(){function t(t,e){Pusher.PrivateChannel.call(this,t,e),this.members=new Pusher.Members}var e=t.prototype;Pusher.Util.extend(e,Pusher.PrivateChannel.prototype),e.authorize=function(t,e){var n=Pusher.PrivateChannel.prototype.authorize,r=this;n.call(r,t,function(t,n){if(!t){if(void 0===n.channel_data)return Pusher.warn("Invalid auth response for channel '"+r.name+"', expected 'channel_data' field"),void e("Invalid auth response");var i=JSON.parse(n.channel_data);r.members.setMyID(i.user_id)}e(t,n)})},e.handleEvent=function(t,e){switch(t){case"pusher_internal:subscription_succeeded":this.members.onSubscription(e),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var n=this.members.addMember(e);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var r=this.members.removeMember(e);r&&this.emit("pusher:member_removed",r);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,t,e)}},e.disconnect=function(){this.members.reset(),Pusher.PrivateChannel.prototype.disconnect.call(this)},Pusher.PresenceChannel=t}.call(this),function(){function t(){this.channels={}}function e(t,e){return 0===t.indexOf("private-")?new Pusher.PrivateChannel(t,e):0===t.indexOf("presence-")?new Pusher.PresenceChannel(t,e):new Pusher.Channel(t,e)}var n=t.prototype;n.add=function(t,n){return this.channels[t]||(this.channels[t]=e(t,n)),this.channels[t]},n.all=function(){return Pusher.Util.values(this.channels)},n.find=function(t){return this.channels[t]},n.remove=function(t){var e=this.channels[t];return delete this.channels[t],e},n.disconnect=function(){Pusher.Util.objectApply(this.channels,function(t){t.disconnect()})},Pusher.Channels=t}.call(this),function(){Pusher.Channel.Authorizer=function(t,e){this.channel=t,this.type=e.authTransport,this.options=e,this.authOptions=(e||{}).auth||{}},Pusher.Channel.Authorizer.prototype={composeQuery:function(t){var e="&socket_id="+encodeURIComponent(t)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return e},authorize:function(t,e){return Pusher.authorizers[this.type].call(this,t,e)}};var t=1;Pusher.auth_callbacks={},Pusher.authorizers={ajax:function(t,e){var n,r=this;n=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.open("POST",r.options.authEndpoint,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var i in this.authOptions.headers)n.setRequestHeader(i,this.authOptions.headers[i]);return n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var t,r=!1;try{t=JSON.parse(n.responseText),r=!0}catch(i){e(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+n.responseText)}r&&e(!1,t)}else Pusher.warn("Couldn't get auth info from your webapp",n.status),e(!0,n.status)},n.send(this.composeQuery(t)),n},jsonp:function(e,n){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=t.toString();t++;var i=Pusher.Util.getDocument(),o=i.createElement("script");Pusher.auth_callbacks[r]=function(t){n(!1,t)};var a="Pusher.auth_callbacks['"+r+"']";o.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+this.composeQuery(e);var s=i.getElementsByTagName("head")[0]||i.documentElement;s.insertBefore(o,s.firstChild)}}}.call(this),/*!
 * jQuery UI Effects 1.11.0
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e="ui-effects-";/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return t.effects={effect:{}},function(t,e){function n(t,e,n){var r=h[e.type]||{};return null==t?n||!e.def?null:e.def:(t=r.floor?~~t:parseFloat(t),isNaN(t)?e.def:r.mod?(t+r.mod)%r.mod:0>t?0:r.max<t?r.max:t)}function r(e){var n=l(),r=n._rgba=[];return e=e.toLowerCase(),p(u,function(t,i){var o,a=i.re.exec(e),s=a&&i.parse(a),u=i.space||"rgba";return s?(o=n[u](s),n[c[u].cache]=o[c[u].cache],r=n._rgba=o._rgba,!1):void 0}),r.length?("0,0,0,0"===r.join()&&t.extend(r,o.transparent),n):o[e]}function i(t,e,n){return n=(n+1)%1,1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,r,i){return new t.Color.fn.parse(e,n,r,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=l.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(i,a,s,u){if(i===e)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=t(i).css(a),a=e);var h=this,f=t.type(i),d=this._rgba=[];return a!==e&&(i=[i,a,s,u],f="array"),"string"===f?this.parse(r(i)||o._default):"array"===f?(p(c.rgba.props,function(t,e){d[e.idx]=n(i[e.idx],e)}),this):"object"===f?(i instanceof l?p(c,function(t,e){i[e.cache]&&(h[e.cache]=i[e.cache].slice())}):p(c,function(e,r){var o=r.cache;p(r.props,function(t,e){if(!h[o]&&r.to){if("alpha"===t||null==i[t])return;h[o]=r.to(h._rgba)}h[o][e.idx]=n(i[t],e,!0)}),h[o]&&t.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,r.from&&(h._rgba=r.from(h[o])))}),this):void 0},is:function(t){var e=l(t),n=!0,r=this;return p(c,function(t,i){var o,a=e[i.cache];return a&&(o=r[i.cache]||i.to&&i.to(r._rgba)||[],p(i.props,function(t,e){return null!=a[e.idx]?n=a[e.idx]===o[e.idx]:void 0})),n}),n},_space:function(){var t=[],e=this;return p(c,function(n,r){e[r.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var r=l(t),i=r._space(),o=c[i],a=0===this.alpha()?l("transparent"):this,s=a[o.cache]||o.to(a._rgba),u=s.slice();return r=r[o.cache],p(o.props,function(t,i){var o=i.idx,a=s[o],l=r[o],c=h[i.type]||{};null!==l&&(null===a?u[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),u[o]=n((l-a)*e+a,i)))}),this[i](u)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=l(e)._rgba;return l(t.map(n,function(t,e){return(1-r)*i[e]+r*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(255*r)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(r,i,o),u=Math.min(r,i,o),l=s-u,c=s+u,h=.5*c;return e=u===s?0:r===s?60*(i-o)/l+360:i===s?60*(o-r)/l+120:60*(r-i)/l+240,n=0===l?0:.5>=h?l/c:l/(2-c),[Math.round(e)%360,n,h,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],r=t[2],o=t[3],a=.5>=r?r*(1+n):r+n-r*n,s=2*r-a;return[Math.round(255*i(s,a,e+1/3)),Math.round(255*i(s,a,e)),Math.round(255*i(s,a,e-1/3)),o]},p(c,function(r,i){var o=i.props,a=i.cache,u=i.to,c=i.from;l.fn[r]=function(r){if(u&&!this[a]&&(this[a]=u(this._rgba)),r===e)return this[a].slice();var i,s=t.type(r),h="array"===s||"object"===s?r:arguments,f=this[a].slice();return p(o,function(t,e){var r=h["object"===s?t:e.idx];null==r&&(r=f[e.idx]),f[e.idx]=n(r,e)}),c?(i=l(c(f)),i[a]=f,i):l(f)},p(o,function(e,n){l.fn[e]||(l.fn[e]=function(i){var o,a=t.type(i),u="alpha"===e?this._hsla?"hsla":"rgba":r,l=this[u](),c=l[n.idx];return"undefined"===a?c:("function"===a&&(i=i.call(this,c),a=t.type(i)),null==i&&n.empty?this:("string"===a&&(o=s.exec(i),o&&(i=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[n.idx]=i,this[u](l)))})})}),l.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,i){var o,a,s="";if("transparent"!==i&&("string"!==t.type(i)||(o=r(i)))){if(i=l(o||i),!f.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(u){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(u){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,r){e["border"+r+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(e){var n,r,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)n=i[r],"string"==typeof i[n]&&(o[t.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(o[n]=i[n]);return o}function n(e,n){var r,o,a={};for(r in n)o=n[r],e[r]!==o&&(i[r]||(t.fx.step[r]||!isNaN(parseFloat(o)))&&(a[r]=o));return a}var r=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(i,o,a,s){var u=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",l=u.children?a.find("*").addBack():a;l=l.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(r,function(t,e){i[e]&&a[e+"Class"](i[e])})},o(),l=l.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),l=l.map(function(){var e=this,n=t.Deferred(),r=t.extend({},u,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,r),n.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),u.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,r,i,o){return r?t.effects.animateClass.call(this,{add:n},r,i,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,r,i,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},r,i,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,r,i,o,a){return"boolean"==typeof r||void 0===r?i?t.effects.animateClass.call(this,r?{add:n}:{remove:n},i,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},r,i,o)}}(t.fn.toggleClass),switchClass:function(e,n,r,i,o){return t.effects.animateClass.call(this,{add:n,remove:e},r,i,o)}})}(),function(){function n(e,n,r,i){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(i=n,r=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(i=r,r=n,n={}),t.isFunction(r)&&(i=r,r=null),n&&t.extend(e,n),r=r||n.duration,e.duration=t.fx.off?0:"number"==typeof r?r:r in t.fx.speeds?t.fx.speeds[r]:t.fx.speeds._default,e.complete=i||n.complete,e}function r(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.0",save:function(t,n){for(var r=0;r<n.length;r++)null!==n[r]&&t.data(e+n[r],t[0].style[n[r]])},restore:function(t,n){var r,i;for(i=0;i<n.length;i++)null!==n[i]&&(r=t.data(e+n[i]),void 0===r&&(r=""),t.css(n[i],r))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var n,r;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=t[1]/e.width}return{x:r,y:n}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},r=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(r),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),r=e.parent(),"static"===e.css("position")?(r.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,r){n[r]=e.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(i),r.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).focus()),e},setTransition:function(e,n,r,i){return i=i||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(i[n]=o[0]*r+o[1])}),i}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(o)&&o.call(i[0]),t.isFunction(e)&&e()}var i=t(this),o=r.complete,s=r.mode;(i.is(":hidden")?"hide"===s:"show"===s)?(i[s](),n()):a.call(i[0],r,n)}var r=n.apply(this,arguments),i=r.mode,o=r.queue,a=t.effects.effect[r.effect];return t.fx.off||!a?i?this[i](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(r(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(r(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),r=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(r=[parseFloat(n),e])}),r}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}})}(),t.effects}),/*!
 * jQuery UI Effects Highlight 1.11.0
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.highlight=function(e,n){var r=t(this),i=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(r,e.mode||"show"),a={backgroundColor:r.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&r.hide(),t.effects.restore(r,i),n()}})}}),/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,n){this.options=t.extend({},t.fn.affix.defaults,n),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,n=t(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top,u="affix affix-top affix-bottom";"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),e=null!=this.unpin&&r+this.unpin<=i.top?!1:null!=a&&i.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=r?"top":!1,this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?i.top-r:null,this.$element.removeClass(u).addClass("affix"+(e?"-"+e:"")))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var r=t(this),i=r.data("affix"),o="object"==typeof n&&n;i||r.data("affix",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){r.trigger("closed").remove()}var r,i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),r=t(o),e&&e.preventDefault(),r.length||(r=i.hasClass("alert")?i:i.parent()),r.trigger(e=t.Event("close")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.on(t.support.transition.end,n):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("alert");i||r.data("alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";t+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var r=t(this),i=r.data("button"),o="object"==typeof n&&n;i||r.data("button",i=new e(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var n=this.getActiveIndex(),r=this;if(!(e>this.$items.length-1||0>e))return this.sliding?this.$element.one("slid",function(){r.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,n){var r,i=this.$element.find(".item.active"),o=n||i[e](),a=this.interval,s="next"==e?"left":"right",u="next"==e?"first":"last",l=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[u](),r=t.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(r),r.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,i.addClass(s),o.addClass(s),this.$element.one(t.support.transition.end,function(){o.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(r),r.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var r=t(this),i=r.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;i||r.data("carousel",i=new e(this,o)),"number"==typeof n?i.to(n):a?i[a]():o.interval&&i.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,r,i=t(this),o=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=t.extend({},o.data(),i.data());o.carousel(a),(r=i.attr("data-slide-to"))&&o.data("carousel").pause().to(r).cycle(),e.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,r,i;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in"),r&&r.length){if(i=r.data("collapse"),i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,r){var i=this,o=function(){"show"==n.type&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var r=t(this),i=r.data("collapse"),o=t.extend({},t.fn.collapse.defaults,r.data(),"object"==typeof n&&n);i||r.data("collapse",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,r=t(this),i=r.attr("data-target")||e.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(i).data("collapse")?"toggle":r.data();r[t(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(i).collapse(o)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(r).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,r=e.attr("data-target");return r||(r=e.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=r&&t(r),n&&n.length||(n=e.parent()),n}var r="[data-toggle=dropdown]",i=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(){var r,i,o=t(this);if(!o.is(".disabled, :disabled"))return r=n(o),i=r.hasClass("open"),e(),i||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),r.toggleClass("open")),o.focus(),!1},keydown:function(e){var i,o,a,s,u;if(/(38|40|27)/.test(e.keyCode)&&(i=t(this),e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled"))){if(a=n(i),s=a.hasClass("open"),!s||s&&27==e.keyCode)return 27==e.which&&a.find(r).focus(),i.click();o=t("[role=menu] li:not(.divider):visible a",a),o.length&&(u=o.index(o.filter(":focus")),38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<o.length-1&&u++,~u||(u=0),o.eq(u).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("dropdown");r||n.data("dropdown",r=new i(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=i,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",r,i.prototype.toggle).on("keydown.dropdown.data-api",r+", [role=menu]",i.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,n=t.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),n&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),n?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var n=t.fn.modal;t.fn.modal=function(n){return this.each(function(){var r=t(this),i=r.data("modal"),o=t.extend({},t.fn.modal.defaults,r.data(),"object"==typeof n&&n);i||r.data("modal",i=new e(this,o)),"string"==typeof n?i[n]():o.show&&i.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(t){"use strict";function e(e,n){var r,i=t.proxy(this.process,this),o=t(t(e).is("body")?window:e);this.options=t.extend({},t.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(r=t(e).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e,n=this;this.offsets=t([]),this.targets=t([]),e=this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),i=/^#\w/.test(r)&&t(r);return i&&i.length&&[[i.position().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(e>=r)return a!=(t=o.last()[0])&&this.activate(t);for(t=i.length;t--;)a!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},activate:function(e){var n,r;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var r=t(this),i=r.data("scrollspy"),o="object"==typeof n&&n;i||r.data("scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,r,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),a=i.attr("data-target");a||(a=i.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],r=t.Event("show",{relatedTarget:e}),i.trigger(r),r.isDefaultPrevented()||(n=t(a),this.activate(i.parent("li"),o),this.activate(n,n.parent(),function(){i.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),a=r&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,i):i(),o.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var r=t(this),i=r.data("tab");i||r.data("tab",i=new e(this)),"string"==typeof n&&i[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,n,r){var i,o,a,s,u;for(this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.enabled=!0,a=this.options.trigger.split(" "),u=a.length;u--;)s=a[u],"click"==s?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(i="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var n,r=t.fn[this.type].defaults,i={};return this._options&&t.each(this._options,function(t,e){r[t]!=e&&(i[t]=e)},this),n=t(e.currentTarget)[this.type](i).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(e){var n=t(e.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var e,n,r,i,o,a,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),n=this.getPosition(),r=e[0].offsetWidth,i=e[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":a={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":a={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":a={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var n,r,i,o,a=this.tip(),s=a[0].offsetWidth,u=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),n=a[0].offsetWidth,r=a[0].offsetHeight,"top"==e&&r!=u&&(t.top=t.top+u-r,o=!0),"bottom"==e||"top"==e?(i=0,t.left<0&&(i=-2*t.left,t.left=0,a.offset(t),n=a[0].offsetWidth,r=a[0].offsetHeight),this.replaceArrow(i-s+n,n,"left")):this.replaceArrow(r-u,r,"top"),o&&a.offset(t)},replaceArrow:function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){n.off(t.support.transition.end).detach()},500);n.one(t.support.transition.end,function(){clearTimeout(e),n.detach()})}var n=this.tip(),r=t.Event("hide");return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var n=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var r=t(this),i=r.data("tooltip"),o="object"==typeof n&&n;i||r.data("tooltip",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,n=this.options;return t=("function"==typeof n.content?n.content.call(e[0]):n.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var r=t(this),i=r.data("popover"),o="object"==typeof n&&n;i||r.data("popover",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this)},process:function(e){var n=this;return e=t.grep(e,function(t){return n.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,n=[],r=[],i=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?r.push(e):i.push(e):n.push(e);return n.concat(r,i)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var n=this;return e=t(e).map(function(e,r){return e=t(n.options.item).attr("data-value",r),e.find("a").html(n.highlighter(r)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),n=e.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=t.fn.typeahead;t.fn.typeahead=function(n){return this.each(function(){var r=t(this),i=r.data("typeahead"),o="object"==typeof n&&n;i||r.data("typeahead",i=new e(this,o)),"string"==typeof n&&i[n]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var e=t(this);e.data("typeahead")||e.typeahead(e.data())})}(window.jQuery),function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function i(t){return function(){return this[t].apply(this,arguments)}}function o(e,n){function r(t,e){return e.toLowerCase()}var i,o=t(e).data(),a={},s=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var u in o)n.test(u)&&(i=u.replace(s,r),a[i]=o[u]);return a}function a(e){var n={};if(p[e]||(e=e.split("-")[0],p[e])){var r=p[e];return t.each(d,function(t,e){e in r&&(n[e]=r[e])}),n}}var s=t(window),u=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,r=this.length;r>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new u;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),l=function(e,n){this.dates=new u,this.viewDate=r(),this.focusDate=null,this._process_options(n),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(e){this._o=t.extend({},this._o,e);var n=this.o=t.extend({},this._o),r=n.language;switch(p[r]||(r=r.split("-")[0],p[r]||(r=f.language)),n.language=r,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate=n.multidate!==!1?Math.max(0,n.multidate):1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var i=g.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):g.parseDate(n.startDate,i,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):g.parseDate(n.endDate,i,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)});var o=String(n.orientation).toLowerCase().split(/\s+/g),a=n.orientation.toLowerCase();if(o=t.grep(o,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0]}else a=t.grep(o,function(t){return/^left|right$/.test(t)}),n.orientation.x=a[0]||"auto",a=t.grep(o,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=a[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,r,i,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.on(i,r)},_unapplyEvents:function(t){for(var n,r,i,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.off(r,i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var r=n||this.dates.get(-1),i=this._utc_to_local(r);this.element.trigger({type:e,date:i,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return g.formatDate(n,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:i("setDates"),setUTCDate:i("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(n){n===e&&(n=this.o.format);var r=this.o.language;return t.map(this.dates,function(t){return g.formatDate(t,n,r)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),n=this.picker.outerHeight(),r=10,i=s.width(),o=s.height(),a=s.scrollTop(),u=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,l=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),f=l.left,d=l.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(f-=e-h)):(this.picker.addClass("datepicker-orient-left"),l.left<0?f-=l.left-r:l.left+e>i&&(f=i-e-r));var p,g,m=this.o.orientation.y;"auto"===m&&(p=-a+l.top-n,g=a+o-(l.top+c+n),m=Math.max(p,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+m),"top"===m?d+=c:d-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:d,left:f,zIndex:u})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),n=[],r=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return g.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),r?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';e+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<r||e.getUTCFullYear()===r&&e.getUTCMonth()<i?n.push("old"):(e.getUTCFullYear()>r||e.getUTCFullYear()===r&&e.getUTCMonth()>i)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var r,i=new Date(this.viewDate),o=i.getUTCFullYear(),a=i.getUTCMonth(),s=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,u=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,h=p[this.o.language].today||p.en.today||"",f=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[a]+" "+o),this.picker.find("tfoot th.today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(f).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var d=n(o,a-1,28),m=g.getDaysInMonth(d.getUTCFullYear(),d.getUTCMonth());d.setUTCDate(m),d.setUTCDate(m-(d.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(d);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];d.valueOf()<v;){if(d.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+d+(this.o.weekStart-d.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),_=new Date(Number(_=n(x.getUTCFullYear(),0,1))+(11-_.getUTCDay())%7*864e5),k=(x-_)/864e5/7+1;b.push('<td class="cw">'+k+"</td>")}if(y=this.getClassNames(d),y.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(d));C===e?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&y.push("disabled"),C.classes&&(y=y.concat(C.classes.split(/\s+/))),C.tooltip&&(r=C.tooltip)}y=t.unique(y),b.push('<td class="'+y.join(" ")+'"'+(r?' title="'+r+'"':"")+">"+d.getUTCDate()+"</td>"),d.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),d.setUTCDate(d.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var M=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===o&&M.eq(e.getUTCMonth()).addClass("active")}),(s>o||o>l)&&M.addClass("disabled"),o===s&&M.slice(0,u).addClass("disabled"),o===l&&M.slice(c+1).addClass("disabled"),b="",o=10*parseInt(o/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var E,A=t.map(this.dates,function(t){return t.getUTCFullYear()}),D=-1;11>D;D++)E=["year"],-1===D?E.push("old"):10===D&&E.push("new"),-1!==t.inArray(o,A)&&E.push("active"),(s>o||o>l)&&E.push("disabled"),b+='<span class="'+E.join(" ")+'">'+o+"</span>",o+=1;S.html(b)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(e){e.preventDefault();var r,i,o,a=t(e.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var s=g.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,s),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,s),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var u=new Date;u=n(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0),this.showMode(-2);var l="linked"===this.o.todayBtn?null:"view";this._setDate(u,l);break;case"clear":var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":a.is(".disabled")||(this.viewDate.setUTCDate(1),a.is(".month")?(o=1,i=a.parent().find("span").index(a),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(r,i,o))):(o=1,i=0,r=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(r),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(r,i,o))),this.showMode(-1),this.fill());break;case"td":a.is(".day")&&!a.is(".disabled")&&(o=parseInt(a.text(),10)||1,r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),a.is(".old")?0===i?(i=11,r-=1):i-=1:a.is(".new")&&(11===i?(i=0,r+=1):i+=1),this._setDate(n(r,i,o)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var r,i,o=new Date(t.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),u=Math.abs(n);if(n=n>0?1:-1,1===u)i=-1===n?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==r},r=s+n,o.setUTCMonth(r),(0>r||r>11)&&(r=(r+12)%12);else{for(var l=0;u>l;l++)o=this.moveMonth(o,n);r=o.getUTCMonth(),o.setUTCDate(a),i=function(){return r!==o.getUTCMonth()}}for(;i();)o.setUTCDate(--a),o.setUTCMonth(r);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,n,i,o=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||r(),e),i=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||r(),e),i=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||r()),n.setUTCDate(n.getUTCDate()+e),i=new Date(a),i.setUTCDate(a.getUTCDate()+e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||r(),e),i=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||r(),e),i=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||r()),n.setUTCDate(n.getUTCDate()+7*e),i=new Date(a),i.setUTCDate(a.getUTCDate()+7*e)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(a),o=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(o){this._trigger(this.dates.length?"changeDate":"clearDate");var s;this.isInput?s=this.element:this.component&&(s=this.element.find("input")),s&&s.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,t(this.inputs).datepicker(n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),r=n.getUTCDate(),i=t.inArray(e.target,this.inputs),o=this.inputs.length;if(-1!==i){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(r)}),r<this.dates[i])for(;i>=0&&r<this.dates[i];)this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])for(;o>i&&r>this.dates[i];)this.pickers[i++].setUTCDate(r);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var h=t.fn.datepicker;t.fn.datepicker=function(n){var r=Array.apply(null,arguments);r.shift();var i;return this.each(function(){var s=t(this),u=s.data("datepicker"),h="object"==typeof n&&n;if(!u){var d=o(this,"date"),p=t.extend({},f,d,h),g=a(p.language),m=t.extend({},f,g,d,h);if(s.is(".input-daterange")||m.inputs){var v={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",u=new c(this,t.extend(m,v)))}else s.data("datepicker",u=new l(this,m))}return"string"==typeof n&&"function"==typeof u[n]&&(i=u[n].apply(u,r),i!==e)?!1:void 0}),i!==e?i:this};var f=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},d=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=l;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,g.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(r,i,o){function a(){var t=this.slice(0,f[c].length),e=f[c].slice(0,t.length);return t===e}if(!r)return e;if(r instanceof Date)return r;"string"==typeof i&&(i=g.parseFormat(i));var s,u,c,h=/([\-+]\d+)([dmwy])/,f=r.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){for(r=new Date,c=0;c<f.length;c++)switch(s=h.exec(f[c]),u=parseInt(s[1]),s[2]){case"d":r.setUTCDate(r.getUTCDate()+u);break;case"m":r=l.prototype.moveMonth.call(l.prototype,r,u);break;case"w":r.setUTCDate(r.getUTCDate()+7*u);break;case"y":r=l.prototype.moveYear.call(l.prototype,r,u)}return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}f=r&&r.match(this.nonpunctuation)||[],r=new Date;var d,m,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,r=n(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var w=i.parts.slice();if(f.length!==w.length&&(w=t(w).filter(function(e,n){return-1!==t.inArray(n,y)}).toArray()),f.length===w.length){var x;for(c=0,x=w.length;x>c;c++){if(d=parseInt(f[c],10),s=w[c],isNaN(d))switch(s){case"MM":m=t(p[o].months).filter(a),d=t.inArray(m[0],p[o].months)+1;break;case"M":m=t(p[o].monthsShort).filter(a),d=t.inArray(m[0],p[o].monthsShort)+1}v[s]=d}var _,k;for(c=0;c<y.length;c++)k=y[c],k in v&&!isNaN(v[k])&&(_=new Date(r),b[k](_,v[k]),isNaN(_)||(r=_))}return r},formatDate:function(e,n,r){if(!e)return"";"string"==typeof n&&(n=g.parseFormat(n));var i={d:e.getUTCDate(),D:p[r].daysShort[e.getUTCDay()],DD:p[r].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[r].monthsShort[e.getUTCMonth()],MM:p[r].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,e=[];for(var o=t.extend([],n.separators),a=0,s=n.parts.length;s>=a;a++)o.length&&e.push(o.shift()),e.push(i[n.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=g,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=h,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),n.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),/* ===========================================================
 * bootstrap-modalmanager.js v2.2.5
 * ===========================================================
 * Copyright 2012 Jordan Schroter.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";function e(t){return function(e){return e&&this===e.target?t.apply(this,arguments):void 0}}var n=function(t,e){this.init(t,e)};n.prototype={constructor:n,init:function(e,n){if(this.$element=t(e),this.options=t.extend({},t.fn.modalmanager.defaults,this.$element.data(),"object"==typeof n&&n),this.stack=[],this.backdropCount=0,this.options.resize){var r,i=this;t(window).on("resize.modal",function(){r&&clearTimeout(r),r=setTimeout(function(){for(var t=0;t<i.stack.length;t++)i.stack[t].isShown&&i.stack[t].layout()},10)})}},createModal:function(e,n){t(e).modal(t.extend({manager:this},n))},appendModal:function(n){this.stack.push(n);var r=this;n.$element.on("show.modalmanager",e(function(){var e=function(){n.isShown=!0;var e=t.support.transition&&n.$element.hasClass("fade");r.$element.toggleClass("modal-open",r.hasOpenModal()).toggleClass("page-overflow",t(window).height()<r.$element.height()),n.$parent=n.$element.parent(),n.$container=r.createContainer(n),n.$element.appendTo(n.$container),r.backdrop(n,function(){n.$element.show(),e&&n.$element[0].offsetWidth,n.layout(),n.$element.addClass("in").attr("aria-hidden",!1);var i=function(){r.setFocus(),n.$element.trigger("shown")};e?n.$element.one(t.support.transition.end,i):i()})};n.options.replace?r.replace(e):e()})),n.$element.on("hidden.modalmanager",e(function(){if(r.backdrop(n),n.$element.parent().length)if(n.$backdrop){var e=t.support.transition&&n.$element.hasClass("fade");e&&n.$element[0].offsetWidth,t.support.transition&&n.$element.hasClass("fade")?n.$backdrop.one(t.support.transition.end,function(){n.destroy()}):n.destroy()}else n.destroy();else r.destroyModal(n)})),n.$element.on("destroyed.modalmanager",e(function(){r.destroyModal(n)}))},getOpenModals:function(){for(var t=[],e=0;e<this.stack.length;e++)this.stack[e].isShown&&t.push(this.stack[e]);return t},hasOpenModal:function(){return this.getOpenModals().length>0},setFocus:function(){for(var t,e=0;e<this.stack.length;e++)this.stack[e].isShown&&(t=this.stack[e]);t&&t.focus()},destroyModal:function(t){t.$element.off(".modalmanager"),t.$backdrop&&this.removeBackdrop(t),this.stack.splice(this.getIndexOfModal(t),1);var e=this.hasOpenModal();this.$element.toggleClass("modal-open",e),e||this.$element.removeClass("page-overflow"),this.removeContainer(t),this.setFocus()},getModalAt:function(t){return this.stack[t]},getIndexOfModal:function(t){for(var e=0;e<this.stack.length;e++)if(t===this.stack[e])return e},replace:function(n){for(var r,i=0;i<this.stack.length;i++)this.stack[i].isShown&&(r=this.stack[i]);r?(this.$backdropHandle=r.$backdrop,r.$backdrop=null,n&&r.$element.one("hidden",e(t.proxy(n,this))),r.hide()):n&&n()},removeBackdrop:function(t){t.$backdrop.remove(),t.$backdrop=null},createBackdrop:function(e,n){var r;return this.$backdropHandle?(r=this.$backdropHandle,r.off(".modalmanager"),this.$backdropHandle=null,this.isLoading&&this.removeSpinner()):r=t(n).addClass(e).appendTo(this.$element),r},removeContainer:function(t){t.$container.remove(),t.$container=null},createContainer:function(n){var i;return i=t('<div class="modal-scrollable">').css("z-index",r("modal",this.getOpenModals().length)).appendTo(this.$element),n&&"static"!=n.options.backdrop?i.on("click.modal",e(function(){n.hide()})):n&&i.on("click.modal",e(function(){n.attention()})),i},backdrop:function(e,n){var i=e.$element.hasClass("fade")?"fade":"",o=e.options.backdrop&&this.backdropCount<this.options.backdropLimit;if(e.isShown&&o){var a=t.support.transition&&i&&!this.$backdropHandle;e.$backdrop=this.createBackdrop(i,e.options.backdropTemplate),e.$backdrop.css("z-index",r("backdrop",this.getOpenModals().length)),a&&e.$backdrop[0].offsetWidth,e.$backdrop.addClass("in"),this.backdropCount+=1,a?e.$backdrop.one(t.support.transition.end,n):n()}else if(!e.isShown&&e.$backdrop){e.$backdrop.removeClass("in"),this.backdropCount-=1;var s=this;t.support.transition&&e.$element.hasClass("fade")?e.$backdrop.one(t.support.transition.end,function(){s.removeBackdrop(e)}):s.removeBackdrop(e)}else n&&n()},removeSpinner:function(){this.$spinner&&this.$spinner.remove(),this.$spinner=null,this.isLoading=!1},removeLoading:function(){this.$backdropHandle&&this.$backdropHandle.remove(),this.$backdropHandle=null,this.removeSpinner()},loading:function(e){if(e=e||function(){},this.$element.toggleClass("modal-open",!this.isLoading||this.hasOpenModal()).toggleClass("page-overflow",t(window).height()<this.$element.height()),this.isLoading)if(this.isLoading&&this.$backdropHandle){this.$backdropHandle.removeClass("in");var n=this;t.support.transition?this.$backdropHandle.one(t.support.transition.end,function(){n.removeLoading()}):n.removeLoading()}else e&&e(this.isLoading);else{this.$backdropHandle=this.createBackdrop("fade",this.options.backdropTemplate),this.$backdropHandle[0].offsetWidth;var i=this.getOpenModals();this.$backdropHandle.css("z-index",r("backdrop",i.length+1)).addClass("in");var o=t(this.options.spinner).css("z-index",r("modal",i.length+1)).appendTo(this.$element).addClass("in");this.$spinner=t(this.createContainer()).append(o).on("click.modalmanager",t.proxy(this.loading,this)),this.isLoading=!0,t.support.transition?this.$backdropHandle.one(t.support.transition.end,e):e()}}};var r=function(){var e,n={};return function(r,i){if("undefined"==typeof e){var o=t('<div class="modal hide" />').appendTo("body"),a=t('<div class="modal-backdrop hide" />').appendTo("body");n.modal=+o.css("z-index"),n.backdrop=+a.css("z-index"),e=n.modal-n.backdrop,o.remove(),a.remove(),a=o=null}return n[r]+e*i}}();t.fn.modalmanager=function(e,r){return this.each(function(){var i=t(this),o=i.data("modalmanager");o||i.data("modalmanager",o=new n(this,e)),"string"==typeof e&&o[e].apply(o,[].concat(r))})},t.fn.modalmanager.defaults={backdropLimit:999,resize:!0,spinner:'<div class="loading-spinner fade" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},t.fn.modalmanager.Constructor=n,t(function(){t(document).off("show.bs.modal").off("hidden.bs.modal")})}(jQuery),/* ===========================================================
 * bootstrap-modal.js v2.2.5
 * ===========================================================
 * Copyright 2012 Jordan Schroter
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(t,e){this.init(t,e)};e.prototype={constructor:e,init:function(e,n){var r=this;this.options=n,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var e=t.Event("loaded");r.$element.trigger(e)});var i="function"==typeof this.options.manager?this.options.manager.call(this):this.options.manager;i=i.appendModal?i:t(i).modalmanager().data("modalmanager"),i.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=t.Event("show");this.isShown||(this.$element.trigger(e),e.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(e){e&&e.preventDefault(),e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),t(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},layout:function(){var e=this.options.height?"height":"max-height",n=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var r=this;this.$element.css("margin-left",function(){return/%/gi.test(r.options.width)?-(parseInt(r.options.width)/2)+"%":-(t(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.find(".modal-body").css("overflow","").css(e,""),n&&this.$element.find(".modal-body").css("overflow","auto").css(e,n);var i=t(window).height()-10<this.$element.height();i||this.options.modalOverflow?this.$element.css("margin-top",0).addClass("modal-overflow"):this.$element.css("margin-top",0-this.$element.height()/2).removeClass("modal-overflow")},tab:function(){var e=this;this.isShown&&this.options.consumeTab?this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(n){if(n.keyCode&&9==n.keyCode){var r=t(this),i=t(this);e.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(e){r=e.shiftKey?r.data("tabindex")>t(this).data("tabindex")?r=t(this):i=t(this):r.data("tabindex")<t(this).data("tabindex")?r=t(this):i=t(this)}),r[0]!==t(this)[0]?r.focus():i.focus(),n.preventDefault()}}):this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){var t=this;this.isShown&&this.options.keyboard?(this.$element.attr("tabindex")||this.$element.attr("tabindex",-1),this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),e.hideModal()})},hideModal:function(){var t=this.options.height?"height":"max-height",e=this.options.height||this.options.maxHeight;e&&this.$element.find(".modal-body").css("overflow","").css(t,""),this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove(),this.$loading=null,this.isLoading=!1},loading:function(e){e=e||function(){};var n=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var r=this;t.support.transition&&this.$element.hasClass("fade")?this.$loading.one(t.support.transition.end,function(){r.removeLoading()}):r.removeLoading()}else e&&e(this.isLoading);else{var i=t.support.transition&&n;this.$loading=t('<div class="loading-mask '+n+'">').append(this.options.spinner).appendTo(this.$element),i&&this.$loading[0].offsetWidth,this.$loading.addClass("in"),this.isLoading=!0,i?this.$loading.one(t.support.transition.end,e):e()}},focus:function(){var t=this.$element.find(this.options.focusOn);t=t.length?t:this.$element,t.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var t=this;setTimeout(function(){t.$element.addClass("animated").addClass(t.options.attentionAnimation)},0)}this.focus()},destroy:function(){var e=t.Event("destroy");this.$element.trigger(e),e.isDefaultPrevented()||(this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",!0),this.$parent!==this.$element.parent()?this.$element.appendTo(this.$parent):this.$parent.length||(this.$element.remove(),this.$element=null),this.$element.trigger("destroyed"))}},t.fn.modal=function(n,r){return this.each(function(){var i=t(this),o=i.data("modal"),a=t.extend({},t.fn.modal.defaults,i.data(),"object"==typeof n&&n);o||i.data("modal",o=new e(this,a)),"string"==typeof n?o[n].apply(o,[].concat(r)):a.show&&o.show()})},t.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!1,attentionAnimation:"shake",manager:"body",spinner:'<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="bar" style="width: 100%;"></div></div></div>',backdropTemplate:'<div class="modal-backdrop" />'},t.fn.modal.Constructor=e,t(function(){t(document).off("click.modal").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),r=n.attr("href"),i=t(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},i.data(),n.data());e.preventDefault(),i.modal(o).one("hide",function(){n.focus()})})})}(window.jQuery),/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function n(t){return s.raw?t:decodeURIComponent(t)}function r(t){return e(s.json?JSON.stringify(t):String(t))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(e){}}function o(e,n){var r=s.raw?e:i(e);return t.isFunction(n)?n(r):r}var a=/\+/g,s=t.cookie=function(i,a,u){if(void 0!==a&&!t.isFunction(a)){if(u=t.extend({},s.defaults,u),"number"==typeof u.expires){var l=u.expires,c=u.expires=new Date;c.setTime(+c+864e5*l)}return document.cookie=[e(i),"=",r(a),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var h=i?void 0:{},f=document.cookie?document.cookie.split("; "):[],d=0,p=f.length;p>d;d++){var g=f[d].split("="),m=n(g.shift()),v=g.join("=");if(i&&i===m){h=o(v,a);break}i||void 0===(v=o(v))||(h[m]=v)}return h};s.defaults={},t.removeCookie=function(e,n){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){jQuery.fn.observe_field=function(e,n){return e=1e3*e,this.each(function(){var r=t(this),i=r.val(),o=r.prop("checked"),a=function(){if(s())return void(l&&clearInterval(l));var t=r.val(),e=r.prop("checked");(i!=t||e!=o)&&(i=t,o=e,r.map(n))},s=function(){return 0==r.closest("html").length},u=function(){l&&(clearInterval(l),l=setInterval(a,e))};a();var l=setInterval(a,e);r.bind("keyup click mousemove",u)})}}(jQuery),function(t){var e={init:function(n){return this.each(function(){e.destroy.call(this),this.opt=t.extend(!0,{},t.fn.raty.defaults,n);var r=t(this),i=["number","readOnly","score","scoreName"];e._callback.call(this,i),this.opt.precision&&e._adjustPrecision.call(this),this.opt.number=e._between(this.opt.number,0,this.opt.numberMax),this.opt.path=this.opt.path||"",this.opt.path&&"/"!==this.opt.path.slice(this.opt.path.length-1,this.opt.path.length)&&(this.opt.path+="/"),this.stars=e._createStars.call(this),this.score=e._createScore.call(this),e._apply.call(this,this.opt.score);var o=this.opt.space?4:0,a=this.opt.width||this.opt.number*this.opt.size+this.opt.number*o;this.opt.cancel&&(this.cancel=e._createCancel.call(this),a+=this.opt.size+o),this.opt.readOnly?e._lock.call(this):(r.css("cursor","pointer"),e._binds.call(this)),this.opt.width!==!1&&r.css("width",a),e._target.call(this,this.opt.score),r.data({settings:this.opt,raty:!0})})},_adjustPrecision:function(){this.opt.targetType="score",this.opt.half=!0},_apply:function(t){t&&t>0&&(t=e._between(t,0,this.opt.number),this.score.val(t)),e._fill.call(this,t),t&&e._roundStars.call(this,t)},_between:function(t,e,n){return Math.min(Math.max(parseFloat(t),e),n)},_binds:function(){this.cancel&&e._bindCancel.call(this),e._bindClick.call(this),e._bindOut.call(this),e._bindOver.call(this)},_bindCancel:function(){e._bindClickCancel.call(this),e._bindOutCancel.call(this),e._bindOverCancel.call(this)},_bindClick:function(){var e=this,n=t(e);e.stars.on("click.raty",function(t){e.score.val(e.opt.half||e.opt.precision?n.data("score"):this.alt),e.opt.click&&e.opt.click.call(e,parseFloat(e.score.val()),t)})},_bindClickCancel:function(){var t=this;t.cancel.on("click.raty",function(e){t.score.removeAttr("value"),t.opt.click&&t.opt.click.call(t,null,e)})},_bindOut:function(){var n=this;t(this).on("mouseleave.raty",function(t){var r=parseFloat(n.score.val())||void 0;e._apply.call(n,r),e._target.call(n,r,t),n.opt.mouseout&&n.opt.mouseout.call(n,r,t)})},_bindOutCancel:function(){var e=this;e.cancel.on("mouseleave.raty",function(n){t(this).attr("src",e.opt.path+e.opt.cancelOff),e.opt.mouseout&&e.opt.mouseout.call(e,e.score.val()||null,n)})},_bindOverCancel:function(){var n=this;n.cancel.on("mouseover.raty",function(r){t(this).attr("src",n.opt.path+n.opt.cancelOn),n.stars.attr("src",n.opt.path+n.opt.starOff),e._target.call(n,null,r),n.opt.mouseover&&n.opt.mouseover.call(n,null)})},_bindOver:function(){var n=this,r=t(n),i=n.opt.half?"mousemove.raty":"mouseover.raty";n.stars.on(i,function(i){var o=parseInt(this.alt,10);if(n.opt.half){var a=parseFloat((i.pageX-t(this).offset().left)/n.opt.size),s=a>.5?1:.5;o=o-1+s,e._fill.call(n,o),n.opt.precision&&(o=o-s+a),e._roundStars.call(n,o),r.data("score",o)}else e._fill.call(n,o);e._target.call(n,o,i),n.opt.mouseover&&n.opt.mouseover.call(n,o,i)})},_callback:function(t){for(i in t)"function"==typeof this.opt[t[i]]&&(this.opt[t[i]]=this.opt[t[i]].call(this))},_createCancel:function(){var e=t(this),n=this.opt.path+this.opt.cancelOff,r=t("<img />",{src:n,alt:"x",title:this.opt.cancelHint,"class":"raty-cancel"});return"left"==this.opt.cancelPlace?e.prepend("&#160;").prepend(r):e.append("&#160;").append(r),r},_createScore:function(){return t("<input />",{type:"hidden",name:this.opt.scoreName}).appendTo(this)},_createStars:function(){for(var n=t(this),r=1;r<=this.opt.number;r++){var i=e._getHint.call(this,r),o=this.opt.score&&this.opt.score>=r?"starOn":"starOff";o=this.opt.path+this.opt[o],t("<img />",{src:o,alt:r,title:i}).appendTo(this),this.opt.space&&n.append(r<this.opt.number?"&#160;":"")}return n.children("img")},_error:function(e){t(this).html(e),t.error(e)},_fill:function(t){for(var e=this,n=0,r=1;r<=e.stars.length;r++){var i=e.stars.eq(r-1),o=e.opt.single?r==t:t>=r;if(e.opt.iconRange&&e.opt.iconRange.length>n){var a=e.opt.iconRange[n],s=a.on||e.opt.starOn,u=a.off||e.opt.starOff,l=o?s:u;r<=a.range&&i.attr("src",e.opt.path+l),r==a.range&&n++}else{var l=o?"starOn":"starOff";i.attr("src",this.opt.path+this.opt[l])}}},_getHint:function(t){var e=this.opt.hints[t-1];return""===e?"":e||t},_lock:function(){var n=parseInt(this.score.val(),10),r=n?e._getHint.call(this,n):this.opt.noRatedMsg;t(this).data("readonly",!0).css("cursor","").attr("title",r),this.score.attr("readonly","readonly"),this.stars.attr("title",r),this.cancel&&this.cancel.hide()},_roundStars:function(t){var e=(t-Math.floor(t)).toFixed(2);if(e>this.opt.round.down){var n="starOn";this.opt.halfShow&&e<this.opt.round.up?n="starHalf":e<this.opt.round.full&&(n="starOff"),this.stars.eq(Math.ceil(t)-1).attr("src",this.opt.path+this.opt[n])}},_target:function(n,r){if(this.opt.target){var i=t(this.opt.target);0===i.length&&e._error.call(this,"Target selector invalid or missing!"),this.opt.targetFormat.indexOf("{score}")<0&&e._error.call(this,'Template "{score}" missing!');var o=r&&"mouseover"==r.type;void 0===n?n=this.opt.targetText:null===n?n=o?this.opt.cancelHint:this.opt.targetText:("hint"==this.opt.targetType?n=e._getHint.call(this,Math.ceil(n)):this.opt.precision&&(n=parseFloat(n).toFixed(1)),o||this.opt.targetKeep||(n=this.opt.targetText)),n&&(n=this.opt.targetFormat.toString().replace("{score}",n)),i.is(":input")?i.val(n):i.html(n)}},_unlock:function(){t(this).data("readonly",!1).css("cursor","pointer").removeAttr("title"),this.score.removeAttr("readonly","readonly");for(var n=0;n<this.opt.number;n++)this.stars.eq(n).attr("title",e._getHint.call(this,n+1));this.cancel&&this.cancel.css("display","")},cancel:function(n){return this.each(function(){t(this).data("readonly")!==!0&&(e[n?"click":"score"].call(this,null),this.score.removeAttr("value"))})},click:function(n){return t(this).each(function(){t(this).data("readonly")!==!0&&(e._apply.call(this,n),this.opt.click||e._error.call(this,'You must add the "click: function(score, evt) { }" callback.'),this.opt.click.call(this,n,{type:"click"}),e._target.call(this,n))})},destroy:function(){return t(this).each(function(){var e=t(this),n=e.data("raw");n?e.off(".raty").empty().css({cursor:n.style.cursor,width:n.style.width}).removeData("readonly"):e.data("raw",e.clone()[0])})},getScore:function(){var e,n=[];return t(this).each(function(){e=this.score.val(),n.push(e?parseFloat(e):void 0)}),n.length>1?n:n[0]},readOnly:function(n){return this.each(function(){var r=t(this);r.data("readonly")!==n&&(n?(r.off(".raty").children("img").off(".raty"),e._lock.call(this)):(e._binds.call(this),e._unlock.call(this)),r.data("readonly",n))})},reload:function(){return e.set.call(this,{})},score:function(){return arguments.length?e.setScore.apply(this,arguments):e.getScore.call(this)},set:function(e){return this.each(function(){var n=t(this),r=n.data("settings"),i=t.extend({},r,e);n.raty(i)})},setScore:function(n){return t(this).each(function(){t(this).data("readonly")!==!0&&(e._apply.call(this,n),e._target.call(this,n))})}};t.fn.raty=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist!"):e.init.apply(this,arguments)},t.fn.raty.defaults={cancel:!1,cancelHint:"Cancel this rating!",cancelOff:"cancel-off.png",cancelOn:"cancel-on.png",cancelPlace:"left",click:void 0,half:!1,halfShow:!0,hints:["bad","poor","regular","good","gorgeous"],iconRange:void 0,mouseout:void 0,mouseover:void 0,noRatedMsg:"Not rated yet!",number:5,numberMax:20,path:"",precision:!1,readOnly:!1,round:{down:.25,full:.6,up:.76},score:void 0,scoreName:"score",single:!1,size:16,space:!0,starHalf:"star-half.png",starOff:"star-off.png",starOn:"star-on.png",target:void 0,targetFormat:"{score}",targetKeep:!1,targetText:"",targetType:"hint",width:void 0}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.NProgress=e()}(this,function(){function t(t,e,n){return e>t?e:t>n?n:t}function e(t){return 100*(-1+t)}function n(t,n,r){var i;return i="translate3d"===l.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===l.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},i.transition="all "+n+"ms "+r,i}function r(t,e){var n="string"==typeof t?t:a(t);return n.indexOf(" "+e+" ")>=0}function i(t,e){var n=a(t),i=n+e;r(n,e)||(t.className=i.substring(1))}function o(t,e){var n,i=a(t);r(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))}function a(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function s(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var u={};u.version="0.1.6";var l=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(t){var e,n;for(e in t)n=t[e],void 0!==n&&t.hasOwnProperty(e)&&(l[e]=n);return this},u.status=null,u.set=function(e){var r=u.isStarted();e=t(e,l.minimum,1),u.status=1===e?null:e;var i=u.render(!r),o=i.querySelector(l.barSelector),a=l.speed,s=l.easing;return i.offsetWidth,c(function(t){""===l.positionUsing&&(l.positionUsing=u.getPositioningCSS()),h(o,n(e,a,s)),1===e?(h(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){h(i,{transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){u.remove(),t()},a)},a)):setTimeout(t,a)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var t=function(){setTimeout(function(){u.status&&(u.trickle(),t())},l.trickleSpeed)};return l.trickle&&t(),this},u.done=function(t){return t||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var n=u.status;return n?("number"!=typeof e&&(e=(1-n)*t(Math.random()*n,.1,.95)),n=t(n+e,0,.994),u.set(n)):u.start()},u.trickle=function(){return u.inc(Math.random()*l.trickleRate)},function(){var t=0,e=0;u.promise=function(n){return n&&"resolved"!=n.state()?(0==e&&u.start(),t++,e++,n.always(function(){e--,0==e?(t=0,u.done()):u.set((t-e)/t)}),this):this}}(),u.render=function(t){if(u.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=l.template;var r,o=n.querySelector(l.barSelector),a=t?"-100":e(u.status||0),c=document.querySelector(l.parent);return h(o,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),l.showSpinner||(r=n.querySelector(l.spinnerSelector),r&&s(r)),c!=document.body&&i(c,"nprogress-custom-parent"),c.appendChild(n),n},u.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(l.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&s(t)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var c=function(){function t(){var n=e.shift();n&&n(t)}var e=[];return function(n){e.push(n),1==e.length&&t()}}(),h=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var n,r=i.length,o=t.charAt(0).toUpperCase()+t.slice(1);r--;)if(n=i[r]+o,n in e)return n;return t}function n(n){return n=t(n),o[n]||(o[n]=e(n))}function r(t,e,r){e=n(e),t.style[e]=r}var i=["Webkit","O","Moz","ms"],o={};return function(t,e){var n,i,o=arguments;if(2==o.length)for(n in e)i=e[n],void 0!==i&&e.hasOwnProperty(n)&&r(t,n,i);else r(t,o[1],o[2])}}();return u}),/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.4 (Thu, 17 Jan 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
function(t,e,n,r){"use strict";var i=n(t),o=n(e),a=n.fancybox=function(){a.open.apply(this,arguments)},s=navigator.userAgent.match(/msie/i),u=null,l=e.createTouch!==r,c=function(t){return t&&t.hasOwnProperty&&t instanceof n},h=function(t){return t&&"string"===n.type(t)},f=function(t){return h(t)&&t.indexOf("%")>0},d=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},p=function(t,e){var n=parseInt(t,10)||0;return e&&f(t)&&(n=a.getViewport()[e]/100*n),Math.ceil(n)},g=function(t,e){return p(t,e)+"px"};n.extend(a,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!l,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(s?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){return t&&(n.isPlainObject(e)||(e={}),!1!==a.close(!0))?(n.isArray(t)||(t=c(t)?n(t).get():[t]),n.each(t,function(i,o){var s,u,l,f,d,p,g,m={};"object"===n.type(o)&&(o.nodeType&&(o=n(o)),c(o)?(m={href:o.data("fancybox-href")||o.attr("href"),title:o.data("fancybox-title")||o.attr("title"),isDom:!0,element:o},n.metadata&&n.extend(!0,m,o.metadata())):m=o),s=e.href||m.href||(h(o)?o:null),u=e.title!==r?e.title:m.title||"",l=e.content||m.content,f=l?"html":e.type||m.type,!f&&m.isDom&&(f=o.data("fancybox-type"),f||(d=o.prop("class").match(/fancybox\.(\w+)/),f=d?d[1]:null)),h(s)&&(f||(a.isImage(s)?f="image":a.isSWF(s)?f="swf":"#"===s.charAt(0)?f="inline":h(o)&&(f="html",l=o)),"ajax"===f&&(p=s.split(/\s+/,2),s=p.shift(),g=p.shift())),l||("inline"===f?s?l=n(h(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):m.isDom&&(l=o):"html"===f?l=s:f||s||!m.isDom||(f="inline",l=o)),n.extend(m,{href:s,type:f,content:l,title:u,selector:g}),t[i]=m}),a.opts=n.extend(!0,{},a.defaults,e),e.keys!==r&&(a.opts.keys=e.keys?n.extend({},a.defaults.keys,e.keys):!1),a.group=t,a._start(a.opts.index)):void 0},cancel:function(){var t=a.coming;t&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(t))},close:function(t){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&t!==!0?(a.isOpen=a.isOpened=!1,a.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(a.player.timer)},n=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},r=function(){e(),o.unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")},i=function(){a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,o.bind({"onCancel.player beforeClose.player":r,"onUpdate.player":n,"beforeLoad.player":e}),n(),a.trigger("onPlayStart"))};t===!0||!a.player.isActive&&t!==!1?i():r()},next:function(t){var e=a.current;e&&(h(t)||(t=e.direction.next),a.jumpto(e.index+1,t,"next"))},prev:function(t){var e=a.current;e&&(h(t)||(t=e.direction.prev),a.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var i=a.current;i&&(t=p(t),a.direction=e||i.direction[t>=i.index?"next":"prev"],a.router=n||"jumpto",i.loop&&(0>t&&(t=i.group.length+t%i.group.length),t%=i.group.length),i.group[t]!==r&&(a.cancel(),a._start(t)))},reposition:function(t,e){var r,i=a.current,o=i?i.wrap:null;o&&(r=a._getPosition(e),t&&"scroll"===t.type?(delete r.position,o.stop(!0,!0).animate(r,200)):(o.css(r),i.pos=n.extend({},i.dim,r)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(u),u=null),a.isOpen&&!u&&(u=setTimeout(function(){var r=a.current;r&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&r.autoResize)&&a._setDimension(),"scroll"===e&&r.canShrink||a.reposition(t),a.trigger("onUpdate"),u=null)},n&&!l?0:300))},toggle:function(t){a.isOpen&&(a.current.fitToView="boolean"===n.type(t)?t:!a.current.fitToView,l&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){o.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var t,e;a.hideLoading(),t=n('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),o.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),a.cancel())}),a.defaults.fixed||(e=a.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=a.current&&a.current.locked||!1,n={x:i.scrollLeft(),y:i.scrollTop()};return e?(n.w=e[0].clientWidth,n.h=e[0].clientHeight):(n.w=l&&t.innerWidth?t.innerWidth:i.width(),n.h=l&&t.innerHeight?t.innerHeight:i.height()),n},unbindEvents:function(){a.wrap&&c(a.wrap)&&a.wrap.unbind(".fb"),o.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var t,e=a.current;e&&(i.bind("orientationchange.fb"+(l?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update),t=e.keys,t&&o.bind("keydown.fb",function(i){var o=i.which||i.keyCode,s=i.target||i.srcElement;return 27===o&&a.coming?!1:void(i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||s&&(s.type||n(s).is("[contenteditable]"))||n.each(t,function(t,s){return e.group.length>1&&s[o]!==r?(a[t](s[o]),i.preventDefault(),!1):n.inArray(o,s)>-1?(a[t](),i.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",function(t,r,i,o){for(var s=t.target||null,u=n(s),l=!1;u.length&&!(l||u.is(".fancybox-skin")||u.is(".fancybox-wrap"));)l=d(u[0]),u=n(u).parent();0===r||l||a.group.length>1&&!e.canShrink&&(o>0||i>0?a.prev(o>0?"down":"left"):(0>o||0>i)&&a.next(0>o?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var r,i=e||a.coming||a.current;if(i){if(n.isFunction(i[t])&&(r=i[t].apply(i,Array.prototype.slice.call(arguments,1))),r===!1)return!1;i.helpers&&n.each(i.helpers,function(e,r){r&&a.helpers[e]&&n.isFunction(a.helpers[e][t])&&(r=n.extend(!0,{},a.helpers[e].defaults,r),a.helpers[e][t](r,i))}),o.trigger(t)}},isImage:function(t){return h(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(t){return h(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,r,i,o,s,u={};if(t=p(t),e=a.group[t]||null,!e)return!1;if(u=n.extend(!0,{},a.opts,e),o=u.margin,s=u.padding,"number"===n.type(o)&&(u.margin=[o,o,o,o]),"number"===n.type(s)&&(u.padding=[s,s,s,s]),u.modal&&n.extend(!0,u,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),u.autoSize&&(u.autoWidth=u.autoHeight=!0),"auto"===u.width&&(u.autoWidth=!0),"auto"===u.height&&(u.autoHeight=!0),u.group=a.group,u.index=t,a.coming=u,!1===a.trigger("beforeLoad"))return void(a.coming=null);if(i=u.type,r=u.href,!i)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=t,a[a.router](a.direction)):!1;if(a.isActive=!0,("image"===i||"swf"===i)&&(u.autoHeight=u.autoWidth=!1,u.scrolling="visible"),"image"===i&&(u.aspectRatio=!0),"iframe"===i&&l&&(u.scrolling="scroll"),u.wrap=n(u.tpl.wrap).addClass("fancybox-"+(l?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+u.wrapCSS).appendTo(u.parent||"body"),n.extend(u,{skin:n(".fancybox-skin",u.wrap),outer:n(".fancybox-outer",u.wrap),inner:n(".fancybox-inner",u.wrap)}),n.each(["Top","Right","Bottom","Left"],function(t,e){u.skin.css("padding"+e,g(u.padding[t]))}),a.trigger("onReady"),"inline"===i||"html"===i){if(!u.content||!u.content.length)return a._error("content")}else if(!r)return a._error("href");"image"===i?a._loadImage():"ajax"===i?a._loadAjax():"iframe"===i?a._loadIframe():a._afterLoad()},_error:function(t){n.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width,a.coming.height=this.height,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")},t.src=a.coming.href,t.complete!==!0&&a.showLoading()},_loadAjax:function(){var t=a.coming;a.showLoading(),a.ajaxLoad=n.ajax(n.extend({},t.ajax,{url:t.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,a._afterLoad())}}))},_loadIframe:function(){var t=a.coming,e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",l?"auto":t.iframe.scrolling).attr("src",t.href);n(t.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(a.showLoading(),e.one("load",function(){n(this).data("ready",1),l||n(this).bind("load.fb",a.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||a._afterLoad()},_preloadImages:function(){var t,e,n=a.group,r=a.current,i=n.length,o=r.preload?Math.min(r.preload,i-1):0;for(e=1;o>=e;e+=1)t=n[(r.index+e)%i],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,r,i,o,s,u=a.coming,l=a.current,h="fancybox-placeholder";if(a.hideLoading(),u&&a.isActive!==!1){if(!1===a.trigger("afterLoad",u,l))return u.wrap.stop(!0).trigger("onReset").remove(),void(a.coming=null);switch(l&&(a.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),t=u,e=u.content,r=u.type,i=u.scrolling,n.extend(a,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:l}),o=t.href,r){case"inline":case"ajax":case"html":t.selector?e=n("<div>").html(e).find(t.selector):c(e)&&(e.data(h)||e.data(h,n('<div class="'+h+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){n(this).find(e).length&&e.hide().replaceAll(e.data(h)).data(h,!1)}));break;case"image":e=t.tpl.image.replace("{href}",o);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',s="",n.each(t.swf,function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',s+=" "+t+'="'+n+'"'}),e+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}c(e)&&e.parent().is(t.inner)||t.inner.append(e),a.trigger("beforeShow"),t.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?l.prevMethod&&a.transitions[l.prevMethod]():n(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?t.nextMethod:t.openMethod](),a._preloadImages()}},_setDimension:function(){var t,e,r,i,o,s,u,l,c,h,d,m,v,y,b,w=a.getViewport(),x=0,_=!1,k=!1,C=a.wrap,M=a.skin,S=a.inner,E=a.current,A=E.width,D=E.height,T=E.minWidth,P=E.minHeight,B=E.maxWidth,$=E.maxHeight,N=E.scrolling,I=E.scrollOutside?E.scrollbarWidth:0,O=E.margin,F=p(O[1]+O[3]),R=p(O[0]+O[2]);if(C.add(M).add(S).width("auto").height("auto").removeClass("fancybox-tmp"),t=p(M.outerWidth(!0)-M.width()),e=p(M.outerHeight(!0)-M.height()),r=F+t,i=R+e,o=f(A)?(w.w-r)*p(A)/100:A,s=f(D)?(w.h-i)*p(D)/100:D,"iframe"===E.type){if(y=E.content,E.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(S.width(o).height(9999),b=y.contents().find("body"),I&&b.css("overflow-x","hidden"),s=b.height())}catch(L){}}else(E.autoWidth||E.autoHeight)&&(S.addClass("fancybox-tmp"),E.autoWidth||S.width(o),E.autoHeight||S.height(s),E.autoWidth&&(o=S.width()),E.autoHeight&&(s=S.height()),S.removeClass("fancybox-tmp"));if(A=p(o),D=p(s),c=o/s,T=p(f(T)?p(T,"w")-r:T),B=p(f(B)?p(B,"w")-r:B),P=p(f(P)?p(P,"h")-i:P),$=p(f($)?p($,"h")-i:$),u=B,l=$,E.fitToView&&(B=Math.min(w.w-r,B),$=Math.min(w.h-i,$)),m=w.w-F,v=w.h-R,E.aspectRatio?(A>B&&(A=B,D=p(A/c)),D>$&&(D=$,A=p(D*c)),T>A&&(A=T,D=p(A/c)),P>D&&(D=P,A=p(D*c))):(A=Math.max(T,Math.min(A,B)),E.autoHeight&&"iframe"!==E.type&&(S.width(A),D=S.height()),D=Math.max(P,Math.min(D,$))),E.fitToView)if(S.width(A).height(D),C.width(A+t),h=C.width(),d=C.height(),E.aspectRatio)for(;(h>m||d>v)&&A>T&&D>P&&!(x++>19);)D=Math.max(P,Math.min($,D-10)),A=p(D*c),T>A&&(A=T,D=p(A/c)),A>B&&(A=B,D=p(A/c)),S.width(A).height(D),C.width(A+t),h=C.width(),d=C.height();else A=Math.max(T,Math.min(A,A-(h-m))),D=Math.max(P,Math.min(D,D-(d-v)));I&&"auto"===N&&s>D&&m>A+t+I&&(A+=I),S.width(A).height(D),C.width(A+t),h=C.width(),d=C.height(),_=(h>m||d>v)&&A>T&&D>P,k=E.aspectRatio?u>A&&l>D&&o>A&&s>D:(u>A||l>D)&&(o>A||s>D),n.extend(E,{dim:{width:g(h),height:g(d)},origWidth:o,origHeight:s,canShrink:_,canExpand:k,wPadding:t,hPadding:e,wrapSpace:d-M.outerHeight(!0),skinSpace:M.height()-D}),!y&&E.autoHeight&&D>P&&$>D&&!k&&S.height("auto")},_getPosition:function(t){var e=a.current,n=a.getViewport(),r=e.margin,i=a.wrap.width()+r[1]+r[3],o=a.wrap.height()+r[0]+r[2],s={position:"absolute",top:r[0],left:r[3]};return e.autoCenter&&e.fixed&&!t&&o<=n.h&&i<=n.w?s.position="fixed":e.locked||(s.top+=n.y,s.left+=n.x),s.top=g(Math.max(s.top,s.top+(n.h-o)*e.topRatio)),s.left=g(Math.max(s.left,s.left+(n.w-i)*e.leftRatio)),s},_afterZoomIn:function(){var t=a.current;t&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(t.closeClick||t.nextClick&&a.group.length>1)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){n(e.target).is("a")||n(e.target).parent().is("a")||(e.preventDefault(),a[t.closeClick?"close":"next"]())}),t.closeBtn&&n(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(t){t.preventDefault(),a.close()}),t.arrows&&a.group.length>1&&((t.loop||t.index>0)&&n(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&n(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),t.loop||t.index!==t.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(t){t=t||a.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t=a.current,e=t.element,n=t.orig,r={},i=50,o=50,s=t.hPadding,u=t.wPadding,l=a.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),c(n)?(r=n.offset(),n.is("img")&&(i=n.outerWidth(),o=n.outerHeight())):(r.top=l.y+(l.h-o)*t.topRatio,r.left=l.x+(l.w-i)*t.leftRatio),("fixed"===a.wrap.css("position")||t.locked)&&(r.top-=l.y,r.left-=l.x),r={top:g(r.top-s*t.topRatio),left:g(r.left-u*t.leftRatio),width:g(i+u),height:g(o+s)}},step:function(t,e){var n,r,i,o=e.prop,s=a.current,u=s.wrapSpace,l=s.skinSpace;("width"===o||"height"===o)&&(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),a.isClosing&&(n=1-n),r="width"===o?s.wPadding:s.hPadding,i=t-r,a.skin[o](p("width"===o?i:i-u*n)),a.inner[o](p("width"===o?i:i-u*n-l*n)))},zoomIn:function(){var t=a.current,e=t.pos,r=t.openEffect,i="elastic"===r,o=n.extend({opacity:1},e);delete o.position,i?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===r&&(e.opacity=.1),a.wrap.css(e).animate(o,{duration:"none"===r?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,e=t.closeEffect,n="elastic"===e,r={opacity:.1};n&&(r=this.getOrigPosition(),t.closeOpacity&&(r.opacity=.1)),a.wrap.animate(r,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t,e=a.current,n=e.nextEffect,r=e.pos,i={opacity:1},o=a.direction,s=200;r.opacity=.1,"elastic"===n&&(t="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(r[t]=g(p(r[t])-s),i[t]="+="+s+"px"):(r[t]=g(p(r[t])+s),i[t]="-="+s+"px")),"none"===n?a._afterZoomIn():a.wrap.css(r).animate(i,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.previous,e=t.prevEffect,r={opacity:.1},i=a.direction,o=200;"elastic"===e&&(r["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"="+o+"px"),t.wrap.animate(r,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!l,fixed:!0},overlay:null,fixed:!1,create:function(t){t=n.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,t.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=n.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(i.bind("resize.overlay",n.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){n(t.target).hasClass("fancybox-overlay")&&(a.isActive?a.close():e.close())}),this.overlay.css(t.css).show()},close:function(){n(".fancybox-overlay").remove(),i.unbind("resize.overlay"),this.overlay=null,this.margin!==!1&&(n("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var t,n="100%";this.overlay.width(n).height("100%"),s?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),o.width()>t&&(n=o.width())):o.width()>i.width()&&(n=o.width()),this.overlay.width(n).height(o.height())},onReady:function(t,r){n(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=o.height()>i.height()||"scroll"===n("body").css("overflow-y")?n("body").css("margin-right"):!1,this.el=n(e.all&&!e.querySelector?"html":"body"),this.create(t)),t.locked&&this.fixed&&(r.locked=this.overlay.append(r.wrap),r.fixed=!1),t.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){e.locked&&(this.el.addClass("fancybox-lock"),this.margin!==!1&&n("body").css("margin-right",p(this.margin)+e.scrollbarWidth)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!a.isActive&&this.overlay.fadeOut(t.speedOut,n.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,r,i=a.current,o=i.title,u=t.type;if(n.isFunction(o)&&(o=o.call(i.element,i)),h(o)&&""!==n.trim(o)){switch(e=n('<div class="fancybox-title fancybox-title-'+u+'-wrap">'+o+"</div>"),u){case"inside":r=a.skin;break;case"outside":r=a.wrap;break;case"over":r=a.inner;break;default:r=a.skin,e.appendTo("body"),s&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(p(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](r)}}},n.fn.fancybox=function(t){var e,r=n(this),i=this.selector||"",s=function(o){var s,u,l=n(this).blur(),c=e;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||l.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",u=l.attr(s),u||(s="rel",u=l.get(0)[s]),u&&""!==u&&"nofollow"!==u&&(l=i.length?n(i):r,l=l.filter("["+s+'="'+u+'"]'),c=l.index(this)),t.index=c,a.open(l,t)!==!1&&o.preventDefault())};return t=t||{},e=t.index||0,i&&t.live!==!1?o.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",s):r.unbind("click.fb-start").bind("click.fb-start",s),this.filter("[data-fancybox-start=1]").trigger("click"),this},o.ready(function(){n.scrollbarWidth===r&&(n.scrollbarWidth=function(){var t=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),r=e.innerWidth()-e.height(99).innerWidth();return t.remove(),r}),n.support.fixedPosition===r&&(n.support.fixedPosition=function(){var t=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),n.extend(a.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")})})}(window,document,jQuery),function(t){var e=t.fancybox;e.helpers.buttons={defaults:{skipSingle:!1,position:"top",tpl:'<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:jQuery.fancybox.close();"></a></li></ul></div>'},list:null,buttons:null,beforeLoad:function(t,e){return t.skipSingle&&e.group.length<2?(e.helpers.buttons=!1,void(e.closeBtn=!0)):void(e.margin["bottom"===t.position?2:0]+=30)},onPlayStart:function(){this.buttons&&this.buttons.play.attr("title","Pause slideshow").addClass("btnPlayOn")},onPlayEnd:function(){this.buttons&&this.buttons.play.attr("title","Start slideshow").removeClass("btnPlayOn")},afterShow:function(n,r){var i=this.buttons;i||(this.list=t(n.tpl).addClass(n.position).appendTo("body"),i={prev:this.list.find(".btnPrev").click(e.prev),next:this.list.find(".btnNext").click(e.next),play:this.list.find(".btnPlay").click(e.play),toggle:this.list.find(".btnToggle").click(e.toggle)}),r.index>0||r.loop?i.prev.removeClass("btnDisabled"):i.prev.addClass("btnDisabled"),r.loop||r.index<r.group.length-1?(i.next.removeClass("btnDisabled"),i.play.removeClass("btnDisabled")):(i.next.addClass("btnDisabled"),i.play.addClass("btnDisabled")),this.buttons=i,this.onUpdate(n,r)},onUpdate:function(t,e){var n;this.buttons&&(n=this.buttons.toggle.removeClass("btnDisabled btnToggleOn"),e.canShrink?n.addClass("btnToggleOn"):e.canExpand||n.addClass("btnDisabled"))},beforeClose:function(){this.list&&this.list.remove(),this.list=null,this.buttons=null}}}(jQuery),function(t){var e=t.fancybox;e.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(e){var n;return e.element&&(n=t(e.element).find("img").attr("src")),!n&&"image"===e.type&&e.href&&(n=e.href),n}},wrap:null,list:null,width:0,init:function(e,n){var r,i=this,o=e.width,a=e.height,s=e.source;r="";for(var u=0;u<n.group.length;u++)r+='<li><a style="width:'+o+"px;height:"+a+'px;" href="javascript:jQuery.fancybox.jumpto('+u+');"></a></li>';this.wrap=t('<div id="fancybox-thumbs"></div>').addClass(e.position).appendTo("body"),this.list=t("<ul>"+r+"</ul>").appendTo(this.wrap),t.each(n.group,function(e){var r=s(n.group[e]);r&&t("<img />").load(function(){var n,r,s,u=this.width,l=this.height;i.list&&u&&l&&(n=u/o,r=l/a,s=i.list.children().eq(e).find("a"),n>=1&&r>=1&&(n>r?(u=Math.floor(u/r),l=a):(u=o,l=Math.floor(l/n))),t(this).css({width:u,height:l,top:Math.floor(a/2-l/2),left:Math.floor(o/2-u/2)}),s.width(o).height(a),t(this).hide().appendTo(s).fadeIn(300))}).attr("src",r)}),this.width=this.list.children().eq(0).outerWidth(!0),this.list.width(this.width*(n.group.length+1)).css("left",Math.floor(.5*t(window).width()-(n.index*this.width+.5*this.width)))},beforeLoad:function(t,e){return e.group.length<2?void(e.helpers.thumbs=!1):void(e.margin["top"===t.position?0:2]+=t.height+15)},afterShow:function(t,e){this.list?this.onUpdate(t,e):this.init(t,e),this.list.children().removeClass("active").eq(e.index).addClass("active")},onUpdate:function(e,n){this.list&&this.list.stop(!0).animate({left:Math.floor(.5*t(window).width()-(n.index*this.width+.5*this.width))},150)},beforeClose:function(){this.wrap&&this.wrap.remove(),this.wrap=null,this.list=null,this.width=0}}}(jQuery),function(t){"use strict";var e=t.fancybox,n=function(e,n,r){return r=r||"","object"===t.type(r)&&(r=t.param(r,!0)),t.each(n,function(t,n){e=e.replace("$"+t,n||"")}),r.length&&(e+=(e.indexOf("?")>0?"&":"?")+r),e};e.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(e,n,r){return r.swf.flashVars="playerVars="+t.param(n,!0),"//www.metacafe.com/fplayer/"+e[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[1]+"/"+t[3]+t[4]+"&output="+(t[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(e,r){var i,o,a,s,u=r.href||"",l=!1;for(i in e)if(o=e[i],a=u.match(o.matcher)){l=o.type,s=t.extend(!0,{},o.params,r[i]||(t.isPlainObject(e[i])?e[i].params:null)),u="function"===t.type(o.url)?o.url.call(this,a,s,r):n(o.url,a,s);break}l&&(r.href=u,r.type=l,r.autoHeight=!1)}}}(jQuery),function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,u=r.concat,l=i.toString,c=i.hasOwnProperty,h=r.forEach,f=r.map,d=r.reduce,p=r.reduceRight,g=r.filter,m=r.every,v=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,x=Object.keys,_=o.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.6.0";var C=k.each=k.forEach=function(t,e,r){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(r,t[i],i,t)===n)return}else for(var a=k.keys(t),i=0,o=a.length;o>i;i++)if(e.call(r,t[a[i]],a[i],t)===n)return;return t};k.map=k.collect=function(t,e,n){var r=[];return null==t?r:f&&t.map===f?t.map(e,n):(C(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var M="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return r&&(e=k.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(C(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError(M);return n},k.reduceRight=k.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return r&&(e=k.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=k.keys(t);o=a.length}if(C(t,function(s,u,l){u=a?a[--o]:--o,i?n=e.call(r,n,t[u],u,l):(n=t[u],i=!0)}),!i)throw new TypeError(M);return n},k.find=k.detect=function(t,e,n){var r;return S(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},k.filter=k.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(C(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},k.reject=function(t,e,n){return k.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},k.every=k.all=function(t,e,r){e||(e=k.identity);var i=!0;return null==t?i:m&&t.every===m?t.every(e,r):(C(t,function(t,o,a){return(i=i&&e.call(r,t,o,a))?void 0:n}),!!i)};var S=k.some=k.any=function(t,e,r){e||(e=k.identity);var i=!1;return null==t?i:v&&t.some===v?t.some(e,r):(C(t,function(t,o,a){return i||(i=e.call(r,t,o,a))?n:void 0}),!!i)};k.contains=k.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):S(t,function(t){return t===e})},k.invoke=function(t,e){var n=s.call(arguments,2),r=k.isFunction(e);return k.map(t,function(t){return(r?e:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,k.property(e))},k.where=function(t,e){return k.filter(t,k.matches(e))},k.findWhere=function(t,e){return k.find(t,k.matches(e))},k.max=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-1/0,i=-1/0;return C(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;s>i&&(r=t,i=s)}),r},k.min=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return C(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;i>s&&(r=t,i=s)}),r},k.shuffle=function(t){var e,n=0,r=[];return C(t,function(t){e=k.random(n++),r[n-1]=r[e],r[e]=t}),r},k.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=k.values(t)),t[k.random(t.length-1)]):k.shuffle(t).slice(0,Math.max(0,e))};var E=function(t){return null==t?k.identity:k.isFunction(t)?t:k.property(t)};k.sortBy=function(t,e,n){return e=E(e),k.pluck(k.map(t,function(t,r,i){return{value:t,index:r,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var A=function(t){return function(e,n,r){var i={};return n=E(n),C(e,function(o,a){var s=n.call(r,o,a,e);t(i,s,o)}),i}};k.groupBy=A(function(t,e,n){k.has(t,e)?t[e].push(n):t[e]=[n]}),k.indexBy=A(function(t,e,n){t[e]=n}),k.countBy=A(function(t,e){k.has(t,e)?t[e]++:t[e]=1}),k.sortedIndex=function(t,e,n,r){n=E(n);for(var i=n.call(r,e),o=0,a=t.length;a>o;){var s=o+a>>>1;n.call(r,t[s])<i?o=s+1:a=s}return o},k.toArray=function(t){return t?k.isArray(t)?s.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:s.call(t,0,e)},k.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var D=function(t,e,n){return e&&k.every(t,k.isArray)?u.apply(n,t):(C(t,function(t){k.isArray(t)||k.isArguments(t)?e?a.apply(n,t):D(t,e,n):n.push(t)}),n)};k.flatten=function(t,e){return D(t,e,[])},k.without=function(t){return k.difference(t,s.call(arguments,1))},k.partition=function(t,e){var n=[],r=[];
return C(t,function(t){(e(t)?n:r).push(t)}),[n,r]},k.uniq=k.unique=function(t,e,n,r){k.isFunction(e)&&(r=n,n=e,e=!1);var i=n?k.map(t,n,r):t,o=[],a=[];return C(i,function(n,r){(e?r&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),o.push(t[r]))}),o},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(t){var e=s.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.contains(e,t)})})},k.difference=function(t){var e=u.apply(r,s.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=k.max(k.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=k.pluck(arguments,""+n);return e},k.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},k.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=k.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},k.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(b&&t.lastIndexOf===b)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},k.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o};var T=function(){};k.bind=function(t,e){var n,r;if(_&&t.bind===_)return _.apply(t,s.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(s.call(arguments)));T.prototype=t.prototype;var i=new T;T.prototype=null;var o=t.apply(i,n.concat(s.call(arguments)));return Object(o)===o?o:i}},k.partial=function(t){var e=s.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===k&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},k.bindAll=function(t){var e=s.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return C(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var r=e.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},k.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(s.call(arguments,1)))},k.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:k.now(),a=null,o=t.apply(r,i),r=i=null};return function(){var l=k.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return r=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=l,o=t.apply(r,i),r=i=null):a||n.trailing===!1||(a=setTimeout(u,c)),o}},k.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var l=k.now()-a;e>l?r=setTimeout(u,e-l):(r=null,n||(s=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,a=k.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(o,i),o=i=null),s}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return k.partial(e,t)},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},k.keys=function(t){if(!k.isObject(t))return[];if(x)return x(t);var e=[];for(var n in t)k.has(t,n)&&e.push(n);return e},k.values=function(t){for(var e=k.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},k.pairs=function(t){for(var e=k.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},k.invert=function(t){for(var e={},n=k.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return C(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},k.pick=function(t){var e={},n=u.apply(r,s.call(arguments,1));return C(n,function(n){n in t&&(e[n]=t[n])}),e},k.omit=function(t){var e={},n=u.apply(r,s.call(arguments,1));for(var i in t)k.contains(n,i)||(e[i]=t[i]);return e},k.defaults=function(t){return C(s.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var P=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var i=l.call(t);if(i!=l.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var a=t.constructor,s=e.constructor;if(a!==s&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=P(t[u],e[u],n,r)););}else{for(var h in t)if(k.has(t,h)&&(u++,!(c=k.has(e,h)&&P(t[h],e[h],n,r))))break;if(c){for(h in e)if(k.has(e,h)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};k.isEqual=function(t,e){return P(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=w||function(t){return"[object Array]"==l.call(t)},k.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return c.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.constant=function(t){return function(){return t}},k.property=function(t){return function(e){return e[t]}},k.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},k.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},k.now=Date.now||function(){return(new Date).getTime()};var B={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=k.invert(B.escape);var $={escape:new RegExp("["+k.keys(B.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(B.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace($[t],function(e){return B[t][e]})}}),k.result=function(t,e){if(null==t)return void 0;var n=t[e];return k.isFunction(n)?n.call(t):n},k.mixin=function(t){C(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),R.call(this,n.apply(k,t))}})};var N=0;k.uniqueId=function(t){var e=++N+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,n){var r;n=k.defaults({},n,k.templateSettings);var i=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,s){return a+=t.slice(o,s).replace(F,function(t){return"\\"+O[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(e)return r(e,k);var u=function(t){return r.call(this,t,k)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},k.chain=function(t){return k(t).chain()};var R=function(t){return this._chain?k(t).chain():t};k.mixin(k),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}}),C(["concat","join","slice"],function(t){var e=r[t];k.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),function(){var t,e,n,r=function(t,e){return function(){return t.apply(e,arguments)}};(t=window.Coinbase).Views||(t.Views={}),(e=window.Coinbase).Widgets||(e.Widgets={}),(n=window.Coinbase.Views).Admin||(n.Admin={}),Coinbase.Views.Application=function(){function t(){this.initMixpanel=r(this.initMixpanel,this)}return t.prototype.render=function(){var t;return t=$("body").data(),Coinbase.utils.currentAction=""+t.controllerName+"#"+t.actionName,Coinbase.Modules.Sift.init(),Coinbase.Widgets.DeviceTracking.enable(),Coinbase.Widgets.PhoneNumbers.enable(),Coinbase.Widgets.ContactsAutocomplete.enable(),Coinbase.Widgets.PaymentMethods.enable(),Coinbase.Widgets.ExchangeRates.enable(),Coinbase.Widgets.CopyButton.enable(),Coinbase.Widgets.LocaleSelect.enable(),Coinbase.Widgets.Reports.enable(),Coinbase.Widgets.Transfers.enable(),Coinbase.Widgets.PhysicalAddress.enable(),Coinbase.Widgets.Highlight.enable(),Coinbase.Widgets.ReviewQueueOptions.enable(),Coinbase.Widgets.Bootstrap.enable(),$.prototype.fancybox&&$("a.fancybox").fancybox(),$("#main_nav_btn").on("click",function(){return $("body").toggleClass("nav-toggled")}),$(".focus").focus(),this.renderKeyboardShortcuts(),this.initMixpanel()},t.prototype.cleanup=function(){},t.prototype.renderKeyboardShortcuts=function(){var t;return t={j:74,k:75,arrowLeft:37,arrowRight:39},$(document).on("keyup",function(e){var n,r,i;return $("input, textarea").is(":focus")||(((r=e.keyCode)===t.j||r===t.arrowLeft)&&(n=$(".pagination a[rel=prev]").first().attr("href"),n&&Turbolinks.visit(n)),(i=e.keyCode)!==t.k&&i!==t.arrowRight||!(n=$(".pagination a[rel=next]").first().attr("href")))?void 0:Turbolinks.visit(n)})},t.prototype.initMixpanel=function(){return Coinbase.constants.MIXPANEL_TOKEN?(mixpanel.init(Coinbase.constants.MIXPANEL_TOKEN,{loaded:Coinbase.mixpanel.loadedCallback}),Coinbase.constants.USER?(mixpanel.identify(Coinbase.constants.USER.id),mixpanel.register(Coinbase.metrics.trackingInfo)):void 0):mixpanel.track="development"===Coinbase.constants.ENV?function(t,e){return console.log("mixpanel.track:",t,JSON.stringify(e),"(add ENV['MIXPANEL_TOKEN'] to track into mixpanel)")}:function(){}},t}()}.call(this),function(){Coinbase.Widgets.BaseWidget=function(){function t(){}return t.className="Coinbase.Widgets.BaseWidget",t.enable=function(){var t;try{return this.run()}catch(e){return t=e,Bugsnag.notifyException(t,""+this.className+" Error"),console.error(t)}},t}()}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.ApplicationSettings=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.ApplicationSettings",n.run=function(){return $("#account_app_submit").on("click",function(t){return t.preventDefault(),$("#edit_app_form").submit()})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.Bootstrap=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.Bootstrap",n.run=function(){return $(".alert").alert(),$(".carousel").carousel(),$(".dropdown-toggle").dropdown(),$(".tab").tab("show"),$(".show-tooltip").tooltip(),$("[rel=tooltip]").tooltip(),$("[rel=popover]").popover(),$(".accounts .highlight").effect("highlight",{},2e3),$(".datepicker").datepicker().on("changeDate",function(){return $(this).datepicker("hide")}),$(".datepicker-icon").on("click",function(){return $(this).siblings(".datepicker").datepicker("show"),navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)?void 0:$(".focus").focus()})},n.cleanup=function(){},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.Comments=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.Comments",n.run=function(){return $("#comment_text").focus(function(){return $(this).attr("rows",3),$("#comment_submit").show()}),$("#cancel_comment").click(function(t){return $("#comment_text").attr("rows",1),$("#comment_submit").hide(),t.preventDefault()})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.ContactsAutocomplete=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.ContactsAutocomplete",n.run=function(){return $(".typeahead").typeahead({source:function(t,e){return $.post("/contacts",{query:t},function(t){return e(t)})}})},n}(Coinbase.Widgets.BaseWidget)}.call(this),/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.1.6
 */
function(t,e){"use strict";var n,r,i=t,o=i.document,a=i.navigator,s=i.setTimeout,u=i.encodeURIComponent,l=i.ActiveXObject,c=i.Error,h=i.Number.parseInt||i.parseInt,f=i.Number.parseFloat||i.parseFloat,d=i.Number.isNaN||i.isNaN,p=i.Math.round,g=i.Date.now,m=i.Object.keys,v=i.Object.defineProperty,y=i.Object.prototype.hasOwnProperty,b=i.Array.prototype.slice,w=function(){var t=function(t){return t};if("function"==typeof i.wrap&&"function"==typeof i.unwrap)try{var e=o.createElement("div"),n=i.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=i.unwrap)}catch(r){}return t}(),x=function(t){return b.call(t,0)},_=function(){var t,n,r,i,o,a,s=x(arguments),u=s[0]||{};for(t=1,n=s.length;n>t;t++)if(null!=(r=s[t]))for(i in r)y.call(r,i)&&(o=u[i],a=r[i],u!==a&&a!==e&&(u[i]=a));return u},k=function(t){var e,n,r,i;if("object"!=typeof t||null==t)e=t;else if("number"==typeof t.length)for(e=[],n=0,r=t.length;r>n;n++)y.call(t,n)&&(e[n]=k(t[n]));else{e={};for(i in t)y.call(t,i)&&(e[i]=k(t[i]))}return e},C=function(t,e){for(var n={},r=0,i=e.length;i>r;r++)e[r]in t&&(n[e[r]]=t[e[r]]);return n},M=function(t,e){var n={};for(var r in t)-1===e.indexOf(r)&&(n[r]=t[r]);return n},S=function(t){if(t)for(var e in t)y.call(t,e)&&delete t[e];return t},E=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},A=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},D=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},T=function(){var t,e;try{throw new c}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||D(e.stack)),t},P=function(){var t,n,r;if(o.currentScript&&(t=o.currentScript.src))return t;if(n=o.getElementsByTagName("script"),1===n.length)return n[0].src||e;if("readyState"in n[0])for(r=n.length;r--;)if("interactive"===n[r].readyState&&(t=n[r].src))return t;return"loading"===o.readyState&&(t=n[n.length-1].src)?t:(t=T())?t:e},B=function(){var t,n,r,i=o.getElementsByTagName("script");for(t=i.length;t--;){if(!(r=i[t].src)){n=null;break}if(r=A(r),null==n)n=r;else if(n!==r){n=null;break}}return n||e},$=function(){var t=A(P())||B()||"";return t+"ZeroClipboard.swf"},N={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,unavailable:null,deactivated:null,overdue:null,ready:null},I="11.0.0",O={},F={},R=null,L={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate","flash-overdue":"Flash communication was established but NOT within the acceptable time limit"}},j={swfPath:$(),trustedDomains:t.location.host?[t.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},W=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(y.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))j[e]=t[e];else if(null==N.bridge)if("containerId"===e||"swfObjectId"===e){if(!ne(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");j[e]=t[e]}else j[e]=t[e];{if("string"!=typeof t||!t)return k(j);if(y.call(j,t))return j[t]}},z=function(){return{browser:C(a,["userAgent","platform","appName"]),flash:M(N,["bridge"]),zeroclipboard:{version:Pe.version,config:Pe.config()}}},V=function(){return!!(N.disabled||N.outdated||N.unavailable||N.deactivated)},U=function(t,e){var n,r,i,o={};if("string"==typeof t&&t)i=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)y.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Pe.on(n,t[n]);if(i&&i.length){for(n=0,r=i.length;r>n;n++)t=i[n].replace(/^on/,""),o[t]=!0,O[t]||(O[t]=[]),O[t].push(e);if(o.ready&&N.ready&&Pe.emit({type:"ready"}),o.error){var a=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,r=a.length;r>n;n++)if(N[a[n]]===!0){Pe.emit({type:"error",name:"flash-"+a[n]});break}}}return Pe},q=function(t,e){var n,r,i,o,a;if(0===arguments.length)o=m(O);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)y.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Pe.off(n,t[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=O[t],a&&a.length)if(e)for(i=a.indexOf(e);-1!==i;)a.splice(i,1),i=a.indexOf(e,i);else a.length=0;return Pe},H=function(t){var e;return e="string"==typeof t&&t?k(O[t])||null:k(O)},Y=function(t){var e,n,r;return t=re(t),t&&!le(t)?"ready"===t.type&&N.overdue===!0?Pe.emit({type:"error",name:"flash-overdue"}):(e=_({},t),ue.call(this,e),"copy"===t.type&&(r=ge(F),n=r.data,R=r.formatMap),n):void 0},X=function(){if("boolean"!=typeof N.ready&&(N.ready=!1),!Pe.isFlashUnusable()&&null===N.bridge){var t=j.flashLoadTimeout;"number"==typeof t&&t>=0&&s(function(){"boolean"!=typeof N.deactivated&&(N.deactivated=!0),N.deactivated===!0&&Pe.emit({type:"error",name:"flash-deactivated"})},t),N.overdue=!1,de()}},G=function(){Pe.clearData(),Pe.blur(),Pe.emit("destroy"),pe(),Pe.off()},K=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,Pe.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var r in n)"string"==typeof r&&r&&y.call(n,r)&&"string"==typeof n[r]&&n[r]&&(F[r]=n[r])},Z=function(t){"undefined"==typeof t?(S(F),R=null):"string"==typeof t&&y.call(F,t)&&delete F[t]},Q=function(t){return"undefined"==typeof t?k(F):"string"==typeof t&&y.call(F,t)?F[t]:void 0},J=function(t){if(t&&1===t.nodeType){n&&(ke(n,j.activeClass),n!==t&&ke(n,j.hoverClass)),n=t,_e(t,j.hoverClass);var e=t.getAttribute("title")||j.title;if("string"==typeof e&&e){var r=fe(N.bridge);r&&r.setAttribute("title",e)}var i=j.forceHandCursor===!0||"pointer"===Ce(t,"cursor");Ae(i),Ee()}},te=function(){var t=fe(N.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.top="1px"),n&&(ke(n,j.hoverClass),ke(n,j.activeClass),n=null)},ee=function(){return n||null},ne=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},re=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){!t.target&&/^(copy|aftercopy|_click)$/.test(e.toLowerCase())&&(t.target=r),_(t,{type:e.toLowerCase(),target:t.target||n||null,relatedTarget:t.relatedTarget||null,currentTarget:N&&N.bridge||null,timeStamp:t.timeStamp||g()||null});var i=L[t.type];return"error"===t.type&&t.name&&i&&(i=i[t.name]),i&&(t.message=i),"ready"===t.type&&_(t,{target:null,version:N.version}),"error"===t.type&&(/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(t.name)&&_(t,{target:null,minimumVersion:I}),/^flash-(outdated|unavailable|deactivated|overdue)$/.test(t.name)&&_(t,{version:N.version})),"copy"===t.type&&(t.clipboardData={setData:Pe.setData,clearData:Pe.clearData}),"aftercopy"===t.type&&(t=me(t,R)),t.target&&!t.relatedTarget&&(t.relatedTarget=ie(t.target)),t=oe(t)}},ie=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?o.getElementById(e):null},oe=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var n=t.target,r="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:e,a="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:e,s=Se(n),u=i.screenLeft||i.screenX||0,l=i.screenTop||i.screenY||0,c=o.body.scrollLeft+o.documentElement.scrollLeft,h=o.body.scrollTop+o.documentElement.scrollTop,f=s.left+("number"==typeof t._stageX?t._stageX:0),d=s.top+("number"==typeof t._stageY?t._stageY:0),p=f-c,g=d-h,m=u+p,v=l+g,y="number"==typeof t.movementX?t.movementX:0,b="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,_(t,{srcElement:n,fromElement:r,toElement:a,screenX:m,screenY:v,pageX:f,pageY:d,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:b,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},ae=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},se=function(t,e,n,r){r?s(function(){t.apply(e,n)},0):t.apply(e,n)},ue=function(t){if("object"==typeof t&&t&&t.type){var e=ae(t),n=O["*"]||[],r=O[t.type]||[],o=n.concat(r);if(o&&o.length){var a,s,u,l,c,h=this;for(a=0,s=o.length;s>a;a++)u=o[a],l=h,"string"==typeof u&&"function"==typeof i[u]&&(u=i[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(l=u,u=u.handleEvent),"function"==typeof u&&(c=_({},t),se(u,l,[c],e))}return this}},le=function(t){var e=t.target||n||null,i="swf"===t._source;delete t._source;var o=["flash-disabled","flash-outdated","flash-unavailable","flash-deactivated","flash-overdue"];switch(t.type){case"error":-1!==o.indexOf(t.name)&&_(N,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1});break;case"ready":var a=N.deactivated===!0;_(N,{disabled:!1,outdated:!1,unavailable:!1,deactivated:!1,overdue:a,ready:!a});break;case"beforecopy":r=e;break;case"copy":var s,u,l=t.relatedTarget;!F["text/html"]&&!F["text/plain"]&&l&&(u=l.value||l.outerHTML||l.innerHTML)&&(s=l.value||l.textContent||l.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",s),u!==s&&t.clipboardData.setData("text/html",u)):!F["text/plain"]&&t.target&&(s=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",s));break;case"aftercopy":Pe.clearData(),e&&e!==xe()&&e.focus&&e.focus();break;case"_mouseover":Pe.focus(e),j.bubbleEvents===!0&&i&&(e&&e!==t.relatedTarget&&!E(t.relatedTarget,e)&&ce(_({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),ce(_({},t,{type:"mouseover"})));break;case"_mouseout":Pe.blur(),j.bubbleEvents===!0&&i&&(e&&e!==t.relatedTarget&&!E(t.relatedTarget,e)&&ce(_({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),ce(_({},t,{type:"mouseout"})));break;case"_mousedown":_e(e,j.activeClass),j.bubbleEvents===!0&&i&&ce(_({},t,{type:t.type.slice(1)}));break;case"_mouseup":ke(e,j.activeClass),j.bubbleEvents===!0&&i&&ce(_({},t,{type:t.type.slice(1)}));break;case"_click":r=null,j.bubbleEvents===!0&&i&&ce(_({},t,{type:t.type.slice(1)}));break;case"_mousemove":j.bubbleEvents===!0&&i&&ce(_({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},ce=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,r=n&&n.ownerDocument||o,a={view:r.defaultView||i,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:r.createEvent?0:1},s=_(a,t);n&&r.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],e=r.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,s),e._source="js",n.dispatchEvent(e)))}},he=function(){var t=o.createElement("div");return t.id=j.containerId,t.className=j.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+De(j.zIndex),t},fe=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},de=function(){var t,e=N.bridge,n=fe(e);if(!e){var r=we(i.location.host,j),a="never"===r?"none":"all",s=ye(j),u=j.swfPath+ve(j.swfPath,j);n=he();var l=o.createElement("div");n.appendChild(l),o.body.appendChild(n);var c=o.createElement("div"),h="activex"===N.pluginType;c.innerHTML='<object id="'+j.swfObjectId+'" name="'+j.swfObjectId+'" width="100%" height="100%" '+(h?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+u+'"')+">"+(h?'<param name="movie" value="'+u+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+a+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/></object>',e=c.firstChild,c=null,w(e).ZeroClipboard=Pe,n.replaceChild(e,l)}return e||(e=o[j.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),N.bridge=e||null,e},pe=function(){var t=N.bridge;if(t){var e=fe(t);e&&("activex"===N.pluginType&&"readyState"in t?(t.style.display="none",function n(){if(4===t.readyState){for(var r in t)"function"==typeof t[r]&&(t[r]=null);t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e)}else s(n,10)}()):(t.parentNode&&t.parentNode.removeChild(t),e.parentNode&&e.parentNode.removeChild(e))),N.ready=null,N.bridge=null,N.deactivated=null}},ge=function(t){var e={},n={};if("object"==typeof t&&t){for(var r in t)if(r&&y.call(t,r)&&"string"==typeof t[r]&&t[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[r],n.rtf=r}return{data:e,formatMap:n}}},me=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var r in t)if(y.call(t,r)){if("success"!==r&&"data"!==r){n[r]=t[r];continue}n[r]={};var i=t[r];for(var o in i)o&&y.call(i,o)&&y.call(e,o)&&(n[r][e[o]]=i[o])}return n},ve=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+g():""},ye=function(t){var e,n,r,o,a="",s=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?o=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(o=t.trustedDomains)),o&&o.length)for(e=0,n=o.length;n>e;e++)if(y.call(o,e)&&o[e]&&"string"==typeof o[e]){if(r=be(o[e]),!r)continue;if("*"===r){s.length=0,s.push(r);break}s.push.apply(s,[r,"//"+r,i.location.protocol+"//"+r])}return s.length&&(a+="trustedOrigins="+u(s.join(","))),t.forceEnhancedClipboard===!0&&(a+=(a?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(a+=(a?"&":"")+"swfObjectId="+u(t.swfObjectId)),a},be=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},we=function(){var t=function(t){var e,n,r,i=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return i;for(e=0,n=t.length;n>e;e++)if(y.call(t,e)&&(r=be(t[e]))){if("*"===r){i.length=0,i.push("*");break}-1===i.indexOf(r)&&i.push(r)}return i};return function(e,n){var r=be(n.swfPath);null===r&&(r=e);var i=t(n.trustedDomains),o=i.length;if(o>0){if(1===o&&"*"===i[0])return"always";if(-1!==i.indexOf(e))return 1===o&&e===r?"sameDomain":"always"}return"never"}}(),xe=function(){try{return o.activeElement}catch(t){return null}},_e=function(t,e){if(!t||1!==t.nodeType)return t;if(t.classList)return t.classList.contains(e)||t.classList.add(e),t;if(e&&"string"==typeof e){var n=(e||"").split(/\s+/);if(1===t.nodeType)if(t.className){for(var r=" "+t.className+" ",i=t.className,o=0,a=n.length;a>o;o++)r.indexOf(" "+n[o]+" ")<0&&(i+=" "+n[o]);t.className=i.replace(/^\s+|\s+$/g,"")}else t.className=e}return t},ke=function(t,e){if(!t||1!==t.nodeType)return t;if(t.classList)return t.classList.contains(e)&&t.classList.remove(e),t;if("string"==typeof e&&e){var n=e.split(/\s+/);if(1===t.nodeType&&t.className){for(var r=(" "+t.className+" ").replace(/[\n\t]/g," "),i=0,o=n.length;o>i;i++)r=r.replace(" "+n[i]+" "," ");t.className=r.replace(/^\s+|\s+$/g,"")}}return t},Ce=function(t,e){var n=i.getComputedStyle(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},Me=function(){var t,e,n,r=1;return"function"==typeof o.body.getBoundingClientRect&&(t=o.body.getBoundingClientRect(),e=t.right-t.left,n=o.body.offsetWidth,r=p(e/n*100)/100),r},Se=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n,r,a,s=t.getBoundingClientRect();"pageXOffset"in i&&"pageYOffset"in i?(n=i.pageXOffset,r=i.pageYOffset):(a=Me(),n=p(o.documentElement.scrollLeft/a),r=p(o.documentElement.scrollTop/a));var u=o.documentElement.clientLeft||0,l=o.documentElement.clientTop||0;e.left=s.left+n-u,e.top=s.top+r-l,e.width="width"in s?s.width:s.right-s.left,e.height="height"in s?s.height:s.bottom-s.top}return e},Ee=function(){var t;if(n&&(t=fe(N.bridge))){var e=Se(n);_(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+De(j.zIndex)})}},Ae=function(t){N.ready===!0&&(N.bridge&&"function"==typeof N.bridge.setHandCursor?N.bridge.setHandCursor(t):N.ready=!1)},De=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||d(t)?"string"==typeof t&&(e=De(h(t,10))):e=t,"number"==typeof e?e:"auto"},Te=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function r(t){t&&(u=!0,t.version&&(h=e(t.version)),!h&&t.description&&(h=e(t.description)),t.filename&&(c=n(t.filename)))}var i,o,s,u=!1,l=!1,c=!1,h="";if(a.plugins&&a.plugins.length)i=a.plugins["Shockwave Flash"],r(i),a.plugins["Shockwave Flash 2.0"]&&(u=!0,h="2.0.0.11");else if(a.mimeTypes&&a.mimeTypes.length)s=a.mimeTypes["application/x-shockwave-flash"],i=s&&s.enabledPlugin,r(i);else if("undefined"!=typeof t){l=!0;try{o=new t("ShockwaveFlash.ShockwaveFlash.7"),u=!0,h=e(o.GetVariable("$version"))}catch(d){try{o=new t("ShockwaveFlash.ShockwaveFlash.6"),u=!0,h="6.0.21"}catch(p){try{o=new t("ShockwaveFlash.ShockwaveFlash"),u=!0,h=e(o.GetVariable("$version"))}catch(g){l=!1}}}}N.disabled=u!==!0,N.outdated=h&&f(h)<f(I),N.version=h||"0.0.0",N.pluginType=c?"pepper":l?"activex":u?"netscape":"unknown"};Te(l);var Pe=function(){return this instanceof Pe?void("function"==typeof Pe._createClient&&Pe._createClient.apply(this,x(arguments))):new Pe};v(Pe,"version",{value:"2.1.6",writable:!1,configurable:!0,enumerable:!0}),Pe.config=function(){return W.apply(this,x(arguments))},Pe.state=function(){return z.apply(this,x(arguments))},Pe.isFlashUnusable=function(){return V.apply(this,x(arguments))},Pe.on=function(){return U.apply(this,x(arguments))},Pe.off=function(){return q.apply(this,x(arguments))},Pe.handlers=function(){return H.apply(this,x(arguments))},Pe.emit=function(){return Y.apply(this,x(arguments))},Pe.create=function(){return X.apply(this,x(arguments))},Pe.destroy=function(){return G.apply(this,x(arguments))},Pe.setData=function(){return K.apply(this,x(arguments))},Pe.clearData=function(){return Z.apply(this,x(arguments))},Pe.getData=function(){return Q.apply(this,x(arguments))},Pe.focus=Pe.activate=function(){return J.apply(this,x(arguments))},Pe.blur=Pe.deactivate=function(){return te.apply(this,x(arguments))},Pe.activeElement=function(){return ee.apply(this,x(arguments))};var Be=0,$e={},Ne=0,Ie={},Oe={};_(j,{autoActivate:!0});var Fe=function(t){var e=this;e.id=""+Be++,$e[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),Pe.on("*",function(t){return e.emit(t)}),Pe.on("destroy",function(){e.destroy()}),Pe.create()},Re=function(t,e){var n,r,i,o={},a=$e[this.id]&&$e[this.id].handlers;if("string"==typeof t&&t)i=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)y.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.on(n,t[n]);if(i&&i.length){for(n=0,r=i.length;r>n;n++)t=i[n].replace(/^on/,""),o[t]=!0,a[t]||(a[t]=[]),a[t].push(e);if(o.ready&&N.ready&&this.emit({type:"ready",client:this}),o.error){var s=["disabled","outdated","unavailable","deactivated","overdue"];for(n=0,r=s.length;r>n;n++)if(N[s[n]]){this.emit({type:"error",name:"flash-"+s[n],client:this});break}}}return this},Le=function(t,e){var n,r,i,o,a,s=$e[this.id]&&$e[this.id].handlers;if(0===arguments.length)o=m(s);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)y.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=s[t],a&&a.length)if(e)for(i=a.indexOf(e);-1!==i;)a.splice(i,1),i=a.indexOf(e,i);else a.length=0;return this},je=function(t){var e=null,n=$e[this.id]&&$e[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:k(n)),e},We=function(t){if(He.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=_({},t));var e=_({},re(t),{client:this});Ye.call(this,e)}return this},ze=function(t){t=Xe(t);for(var e=0;e<t.length;e++)if(y.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Ie[t[e].zcClippingId].indexOf(this.id)&&Ie[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Ne++,Ie[t[e].zcClippingId]=[this.id],j.autoActivate===!0&&Ge(t[e]));var n=$e[this.id]&&$e[this.id].elements;-1===n.indexOf(t[e])&&n.push(t[e])}return this},Ve=function(t){var e=$e[this.id];if(!e)return this;var n,r=e.elements;t="undefined"==typeof t?r.slice(0):Xe(t);for(var i=t.length;i--;)if(y.call(t,i)&&t[i]&&1===t[i].nodeType){for(n=0;-1!==(n=r.indexOf(t[i],n));)r.splice(n,1);var o=Ie[t[i].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(j.autoActivate===!0&&Ke(t[i]),delete t[i].zcClippingId)}}return this},Ue=function(){var t=$e[this.id];return t&&t.elements?t.elements.slice(0):[]},qe=function(){this.unclip(),this.off(),delete $e[this.id]},He=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=$e[this.id]&&$e[this.id].elements,n=!!e&&e.length>0,r=!t.target||n&&-1!==e.indexOf(t.target),i=t.relatedTarget&&n&&-1!==e.indexOf(t.relatedTarget),o=t.client&&t.client===this;return r||i||o?!0:!1},Ye=function(t){if("object"==typeof t&&t&&t.type){var e=ae(t),n=$e[this.id]&&$e[this.id].handlers["*"]||[],r=$e[this.id]&&$e[this.id].handlers[t.type]||[],o=n.concat(r);if(o&&o.length){var a,s,u,l,c,h=this;for(a=0,s=o.length;s>a;a++)u=o[a],l=h,"string"==typeof u&&"function"==typeof i[u]&&(u=i[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(l=u,u=u.handleEvent),"function"==typeof u&&(c=_({},t),se(u,l,[c],e))}return this}},Xe=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},Ge=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=i.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=i.event))&&(e(n),Pe.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),Oe[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},Ke=function(t){if(t&&1===t.nodeType){var e=Oe[t.zcClippingId];if("object"==typeof e&&e){for(var n,r,i=["move","leave","enter","out","over"],o=0,a=i.length;a>o;o++)n="mouse"+i[o],r=e[n],"function"==typeof r&&t.removeEventListener(n,r,!1);delete Oe[t.zcClippingId]}}};Pe._createClient=function(){Fe.apply(this,x(arguments))},Pe.prototype.on=function(){return Re.apply(this,x(arguments))},Pe.prototype.off=function(){return Le.apply(this,x(arguments))},Pe.prototype.handlers=function(){return je.apply(this,x(arguments))},Pe.prototype.emit=function(){return We.apply(this,x(arguments))},Pe.prototype.clip=function(){return ze.apply(this,x(arguments))},Pe.prototype.unclip=function(){return Ve.apply(this,x(arguments))},Pe.prototype.elements=function(){return Ue.apply(this,x(arguments))},Pe.prototype.destroy=function(){return qe.apply(this,x(arguments))},Pe.prototype.setText=function(t){return Pe.setData("text/plain",t),this},Pe.prototype.setHtml=function(t){return Pe.setData("text/html",t),this},Pe.prototype.setRichText=function(t){return Pe.setData("application/rtf",t),this},Pe.prototype.setData=function(){return Pe.setData.apply(this,x(arguments)),this},Pe.prototype.clearData=function(){return Pe.clearData.apply(this,x(arguments)),this},Pe.prototype.getData=function(){return Pe.getData.apply(this,x(arguments))},"function"==typeof define&&define.amd?define(function(){return Pe}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Pe:t.ZeroClipboard=Pe}(function(){return this||window}()),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.CopyButton=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.CopyButton",n.run=function(){return $(".copy-button").trigger("initCopy")},n}(Coinbase.Widgets.BaseWidget),ZeroClipboard.config({swfPath:"/assets/zeroclipboard/dist/ZeroClipboard-a4fa4b8f760668543930b79e2b8b49b1.swf"}),$(document).on("click",".copy-target",function(){return $(this).select()}),$(document).on("initCopy",".copy-button",function(){var t,e;return e=$(this),t=new ZeroClipboard(e),t.on("ready",function(){return e.show(),t.on("aftercopy",function(t){return $(t.target).attr("data-original-title","Copied!").tooltip("fixTitle").tooltip("show")}),e.on("click",function(t){return t.preventDefault(),t.stopPropagation()}),e.on("mouseover",function(){return $(this).tooltip("destroy").attr("data-original-title",$(this).data("hover")).tooltip("fixTitle").tooltip("show")}),e.on("hidden",function(t){return t.stopPropagation()})}),t.on("error",function(){return t.destroy()})})}.call(this),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.md5=e()}(this,function(){function t(t,e){var a=t[0],s=t[1],u=t[2],l=t[3];a=n(a,s,u,l,e[0],7,-680876936),l=n(l,a,s,u,e[1],12,-389564586),u=n(u,l,a,s,e[2],17,606105819),s=n(s,u,l,a,e[3],22,-1044525330),a=n(a,s,u,l,e[4],7,-176418897),l=n(l,a,s,u,e[5],12,1200080426),u=n(u,l,a,s,e[6],17,-1473231341),s=n(s,u,l,a,e[7],22,-45705983),a=n(a,s,u,l,e[8],7,1770035416),l=n(l,a,s,u,e[9],12,-1958414417),u=n(u,l,a,s,e[10],17,-42063),s=n(s,u,l,a,e[11],22,-1990404162),a=n(a,s,u,l,e[12],7,1804603682),l=n(l,a,s,u,e[13],12,-40341101),u=n(u,l,a,s,e[14],17,-1502002290),s=n(s,u,l,a,e[15],22,1236535329),a=r(a,s,u,l,e[1],5,-165796510),l=r(l,a,s,u,e[6],9,-1069501632),u=r(u,l,a,s,e[11],14,643717713),s=r(s,u,l,a,e[0],20,-373897302),a=r(a,s,u,l,e[5],5,-701558691),l=r(l,a,s,u,e[10],9,38016083),u=r(u,l,a,s,e[15],14,-660478335),s=r(s,u,l,a,e[4],20,-405537848),a=r(a,s,u,l,e[9],5,568446438),l=r(l,a,s,u,e[14],9,-1019803690),u=r(u,l,a,s,e[3],14,-187363961),s=r(s,u,l,a,e[8],20,1163531501),a=r(a,s,u,l,e[13],5,-1444681467),l=r(l,a,s,u,e[2],9,-51403784),u=r(u,l,a,s,e[7],14,1735328473),s=r(s,u,l,a,e[12],20,-1926607734),a=i(a,s,u,l,e[5],4,-378558),l=i(l,a,s,u,e[8],11,-2022574463),u=i(u,l,a,s,e[11],16,1839030562),s=i(s,u,l,a,e[14],23,-35309556),a=i(a,s,u,l,e[1],4,-1530992060),l=i(l,a,s,u,e[4],11,1272893353),u=i(u,l,a,s,e[7],16,-155497632),s=i(s,u,l,a,e[10],23,-1094730640),a=i(a,s,u,l,e[13],4,681279174),l=i(l,a,s,u,e[0],11,-358537222),u=i(u,l,a,s,e[3],16,-722521979),s=i(s,u,l,a,e[6],23,76029189),a=i(a,s,u,l,e[9],4,-640364487),l=i(l,a,s,u,e[12],11,-421815835),u=i(u,l,a,s,e[15],16,530742520),s=i(s,u,l,a,e[2],23,-995338651),a=o(a,s,u,l,e[0],6,-198630844),l=o(l,a,s,u,e[7],10,1126891415),u=o(u,l,a,s,e[14],15,-1416354905),s=o(s,u,l,a,e[5],21,-57434055),a=o(a,s,u,l,e[12],6,1700485571),l=o(l,a,s,u,e[3],10,-1894986606),u=o(u,l,a,s,e[10],15,-1051523),s=o(s,u,l,a,e[1],21,-2054922799),a=o(a,s,u,l,e[8],6,1873313359),l=o(l,a,s,u,e[15],10,-30611744),u=o(u,l,a,s,e[6],15,-1560198380),s=o(s,u,l,a,e[13],21,1309151649),a=o(a,s,u,l,e[4],6,-145523070),l=o(l,a,s,u,e[11],10,-1120210379),u=o(u,l,a,s,e[2],15,718787259),s=o(s,u,l,a,e[9],21,-343485551),t[0]=h(a,t[0]),t[1]=h(s,t[1]),t[2]=h(u,t[2]),t[3]=h(l,t[3])}function e(t,e,n,r,i,o){return e=h(h(e,t),h(r,o)),h(e<<i|e>>>32-i,n)}function n(t,n,r,i,o,a,s){return e(n&r|~n&i,t,n,o,a,s)}function r(t,n,r,i,o,a,s){return e(n&i|r&~i,t,n,o,a,s)}function i(t,n,r,i,o,a,s){return e(n^r^i,t,n,o,a,s)}function o(t,n,r,i,o,a,s){return e(r^(n|~i),t,n,o,a,s)}function a(e){txt="";var n,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)t(i,s(e.substring(n-64,n)));e=e.substring(n-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)o[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(o[n>>2]|=128<<(n%4<<3),n>55)for(t(i,o),n=0;16>n;n++)o[n]=0;return o[14]=8*r,t(i,o),i}function s(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function u(t){for(var e="",n=0;4>n;n++)e+=f[t>>8*n+4&15]+f[t>>8*n&15];return e}function l(t){for(var e=0;e<t.length;e++)t[e]=u(t[e]);return t.join("")}function c(t){return l(a(t))}function h(t,e){return t+e&4294967295}function h(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}var f="0123456789abcdef".split("");return"5d41402abc4b2a76b9719d911017c592"!=c("hello"),c}),function(t){t.fontlist=function(){function e(e){return t(e).css("width")}function n(){return t(o).css("height")}var r=["ACaslonPro-Bold","ACaslonPro-BoldItalic","ACaslonPro-Italic","ACaslonPro-Regular","ACaslonPro-Semibold","ACaslonPro-SemiboldItalic","AGaramondPro-Bold","AGaramondPro-BoldItalic","AGaramondPro-Italic","AGaramondPro-Regular","Academy Engraved LET","AdobeArabic-Bold","AdobeArabic-BoldItalic","AdobeArabic-Italic","AdobeArabic-Regular","AdobeFanHeitiStd-Bold","AdobeFangsongStd-Regular","AdobeGothicStd-Bold","AdobeHebrew-Bold","AdobeHebrew-BoldItalic","AdobeHebrew-Italic","AdobeHebrew-Regular","AdobeHeitiStd-Regular","AdobeKaitiStd-Regular","AdobeMingStd-Light","AdobeMyungjoStd-Medium","AdobeSongStd-Light","AlBayan","AlBayan-Bold","AmericanTypewriter","Andale Mono","Apple Chancery","AppleMyungjo","Ayuthaya","Baghdad","Bank Gothic","Baskerville","BellGothicStd-Black","BellGothicStd-Bold","BiauKai","Big Caslon","BirchStd","Blackmoor LET","BlackoakStd","Bodoni Ornaments ITC TT","Bodoni SvtyTwo ITC TT","Bodoni SvtyTwo OS ITC TT","Bodoni SvtyTwo SC ITC TT","Bordeaux Roman Bold LET","Brush Script MT","BrushScriptStd","Capitals","Chalkboard","Chalkduster","ChaparralPro-Bold","ChaparralPro-BoldIt","ChaparralPro-Italic","ChaparralPro-Regular","CharcoalCY","CharlemagneStd-Bold","Cochin","CooperBlackStd","CooperBlackStd-Italic","Copperplate","Corsiva Hebrew","DecoTypeNaskh","DevanagariMT","DevanagariMT-Bold","Didot","Doremi","EccentricStd","EuphemiaUCAS","EuphemiaUCAS-Bold","EuphemiaUCAS-Italic","Futura","Geneva","GiddyupStd","GillSans","GujaratiMT","GujaratiMT-Bold","Gungseo","Gurmukhi MT","HeadlineA","Hei","Helvetica Neue","Herculanum","Hiragino Sans GB","HoboStd","Hoefler Text","Impact","InaiMathi","Jazz LET","Kai","Kailasa","Kokonor","KozGoPro-Bold","KozGoPro-ExtraLight","KozGoPro-Heavy","KozGoPro-Light","KozGoPro-Medium","KozGoPro-Regular","KozMinPro-Bold","KozMinPro-ExtraLight","KozMinPro-Heavy","KozMinPro-Light","KozMinPro-Medium","KozMinPro-Regular","Krungthep","KufiStandardGK","LetterGothicStd","LetterGothicStd-Bold","LetterGothicStd-BoldSlanted","LetterGothicStd-Slanted","LithosPro-Black","LithosPro-Regular","MarkerFelt-Thin","MarkerFelt-Wide","MesquiteStd","Microsoft Sans Serif","MinionPro-Bold","MinionPro-BoldCn","MinionPro-BoldCnIt","MinionPro-BoldIt","MinionPro-It","MinionPro-Medium","MinionPro-MediumIt","MinionPro-Regular","MinionPro-Semibold","MinionPro-SemiboldIt","Mona Lisa Solid ITC TT","Mshtakan","MshtakanBold","MshtakanBoldOblique","MshtakanOblique","MyriadPro-Bold","MyriadPro-BoldCond","MyriadPro-BoldCondIt","MyriadPro-BoldIt","MyriadPro-Cond","MyriadPro-CondIt","MyriadPro-It","MyriadPro-Regular","MyriadPro-Semibold","MyriadPro-SemiboldIt","Nadeem","NewPeninimMT","NewPeninimMT-Bold","NewPeninimMT-BoldInclined","NewPeninimMT-Inclined","NuevaStd-BoldCond","NuevaStd-BoldCondItalic","NuevaStd-Cond","NuevaStd-CondItalic","OCRAStd","Optima","OratorStd","OratorStd-Slanted","Osaka","Osaka-Mono","Palatino","Papyrus","Party LET","Pilgi","PlantagenetCherokee","PoplarStd","PortagoITC TT","PrestigeEliteStd-Bd","Princetown LET","Raanana","RaananaBold","RosewoodStd-Regular","STHeiti","Santa Fe LET","Sathu","Savoye LET","SchoolHouse Cursive B","SchoolHouse Printed A","Silom","Skia","Snell Roundhand","StencilStd","Stone Sans ITC TT","Synchro LET","Tahoma","Tahoma-Bold","TektonPro-Bold","TektonPro-BoldCond","TektonPro-BoldExt","TektonPro-BoldObl","TrajanPro-Bold","TrajanPro-Regular","Trebuchet MS","Type Embellishments One LET","Zapfino"],i=[],o="#fontlist_test";
t("<p>").appendTo("body").html("abcdefghijklmnopqrstuvwxyz0123456789").attr("id",o.replace("#","")).css({fontSize:"13.47px",position:"absolute",opacity:0,top:"0px",left:"0px"});var a={w:e(o),h:n(o)};return t.each(r,function(r,s){t(o).css({fontFamily:s}),(a.w!==e(o)||a.h!==n(o))&&i.push(s)}),i}}(jQuery),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.DeviceTracking=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.DeviceTracking",n.run=function(){return $.cookie("df")?void 0:$.cookie("df",jQuery.fingerprint(),{expires:99999,path:"/",secure:Coinbase.constants.HTTPS})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.ExchangeRates=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.ExchangeRates",n.run=function(){var t,e,n,r,i;return r=function(t,e){var n;return n=Math.pow(10,e),Math.round(t*n)/n},t=function(t){return Math.log(t)/Math.LN10},i=function(e,n){var i;return i=t(e),0>i&&(n+=Math.min(2,Math.floor(-i))),r(e,n)},e=function(t,e){var n;return n=e.replace(Coinbase.translations.CURRENCY_UNIT,""),n=e.replace(Coinbase.translations.CURRENCY_DELIMITER,""),n!==e&&t.val(n),n=e.replace(Coinbase.translations.CURRENCY_SEPARATOR,".")},n=function(t){return t.replace(".",Coinbase.translations.CURRENCY_SEPARATOR)},$(document).on("keyup","[data-convert-target]",function(t){var o,a,s,u,l,c,h;return o=t.keyCode||t.which,9!==o&&16!==o&&37!==o&&38!==o&&39!==o&&40!==o?(a=$(this).data("convert-from"),c=$(this).data("convert-to"),l=$(this).data("convert-target"),u=$("#"+l),s=e($(this),$(this).val()),h=parseFloat(s)*Coinbase.exchangeRatesGlobal[(a+"_to_"+c).toLowerCase()],h="BTC"===c?i(h,4):r(h,2),isNaN(h)&&(h=""),h=n(h.toString()),u.val(h)):void 0})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.Highlight=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.Highlight",n.run=function(){var t,e,n,r,i,o;if($("body.verifications, body.settings, body.accounts, body.payment_methods").length&&document.location.hash){for(n=$(document.location.hash),e=["top","right","bottom","left"],$("body.verifications").length&&(e=["right","left"]),i=0,o=e.length;o>i;i++)r=e[i],t=e[r],n.css("padding-"+t,"+=10px").css("margin-"+t,"-=10px");return n.effect("highlight",{color:"#fcf8e3"},2e3,function(){var i,o,a;for(a=[],i=0,o=e.length;o>i;i++)r=e[i],t=e[r],a.push(n.css("padding-"+t,"-=10px").css("margin-"+t,"+=10px"));return a})}},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.jQueryRaty=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.jQueryRaty",n.run=function(){var t,e;return t=$("#rating_rating"),e=t.val(),$("#user-rating").raty({score:e,starOff:"/assets/apps/star-off.png",starOn:"/assets/apps/star-on.png",click:function(e){return t.val(e)}})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.LocaleSelect=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.LocaleSelect",n.run=function(){return $(document).on("change","#locale_select",function(){var t,e,n;return e=this.value,n=/[\?&]locale=.*(&|$)/,t=document.location.toString(),t=t.replace(n,""),document.location=t.indexOf("?")>-1?t+"&locale="+e:t+"?locale="+e})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.PaymentMethods=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.PaymentMethods",n.run=function(){return $(document).on("change","#select_bank_account, #select_payment_method",function(){return""===$(this).val()&&Turbolinks.visit($(this).data("redirect")),$("#buy_limit").length>0&&$.ajax({type:"GET",url:"/buys/limit",data:{bank_account_id:$(this).val()},dataType:"script"}),$("#sell_limit").length>0?$.ajax({type:"GET",url:"/sells/limit",data:{bank_account_id:$(this).val()},dataType:"script"}):void 0})},n.cleanup=function(){},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.PhoneNumbers=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}var r;return e(n,t),n.className="Coinbase.Widgets.PhoneNumbers",r={AD:"376",AE:"971",AF:"93",AG:"1",AI:"1",AL:"355",AM:"374",AN:"599",AO:"244",AQ:"672",AR:"54",AS:"1",AT:"43",AU:"61",AW:"297",AX:"358",AZ:"994",BA:"387",BB:"1",BD:"880",BE:"32",BF:"226",BG:"359",BH:"973",BI:"257",BJ:"229",BL:"590",BM:"1",BN:"673",BO:"591",BR:"55",BS:"1",BT:"975",BV:"",BW:"267",BY:"375",BZ:"501",CA:"1",CC:"61",CD:"243",CF:"236",CG:"242",CH:"41",CI:"225",CK:"682",CL:"56",CM:"237",CN:"86",CO:"57",CR:"506",CU:"53",CV:"238",CX:"61",CY:"357",CZ:"420",DE:"49",DJ:"253",DK:"45",DM:"1",DO:"1",DZ:"213",EC:"593",EE:"372",EG:"20",EH:"212",ER:"291",ES:"34",ET:"251",FI:"358",FJ:"679",FK:"500",FM:"691",FO:"298",FR:"33",GA:"241",GB:"44",GD:"1",GE:"995",GF:"594",GG:"44",GH:"233",GI:"350",GL:"299",GM:"220",GN:"224",GP:"590",GQ:"240",GR:"30",GS:"500",GT:"502",GU:"1",GW:"245",GY:"592",HK:"852",HM:"",HN:"504",HR:"385",HT:"509",HU:"36",ID:"62",IE:"353",IL:"972",IM:"44",IN:"91",IO:"246",IQ:"964",IR:"98",IS:"354",IT:"39",JE:"44",JM:"1",JO:"962",JP:"81",KE:"254",KG:"996",KH:"855",KI:"686",KM:"269",KN:"1",KP:"850",KR:"82",KW:"965",KY:"1",KZ:"7",LA:"856",LB:"961",LC:"1",LI:"423",LK:"94",LR:"231",LS:"266",LT:"370",LU:"352",LV:"371",LY:"218",MA:"212",MC:"377",MD:"373",ME:"382",MF:"590",MG:"261",MH:"692",MK:"389",ML:"223",MM:"95",MN:"976",MO:"853",MP:"1",MQ:"596",MR:"222",MS:"1",MT:"356",MU:"230",MV:"960",MW:"265",MX:"52",MY:"60",MZ:"258",NA:"264",NC:"687",NE:"227",NF:"672",NG:"234",NI:"505",NL:"31",NO:"47",NP:"977",NR:"674",NU:"683",NZ:"64",OM:"968",PA:"507",PE:"51",PF:"689",PG:"675",PH:"63",PK:"92",PL:"48",PM:"508",PN:"",PR:"1",PS:"970",PT:"351",PW:"680",PY:"595",QA:"974",RE:"262",RO:"40",RS:"381",RU:"7",RW:"250",SA:"966",SB:"677",SC:"248",SD:"249",SE:"46",SG:"65",SH:"290",SI:"386",SJ:"47",SK:"421",SL:"232",SM:"378",SN:"221",SO:"252",SR:"597",ST:"239",SV:"503",SY:"963",SZ:"268",TC:"1",TD:"235",TF:"",TG:"228",TH:"66",TJ:"992",TK:"690",TL:"670",TM:"993",TN:"216",TO:"676",TR:"90",TT:"1",TV:"688",TW:"886",TZ:"255",UA:"380",UG:"256",UM:"",US:"1",UY:"598",UZ:"998",VA:"39",VC:"1",VE:"58",VG:"1",VI:"1",VN:"84",VU:"678",WF:"681",WS:"685",YE:"967",YT:"269",ZA:"27",ZM:"260",ZW:"263"},n.run=function(){return $(document).on("change","#phone_number_country",function(){return $("#country_code_prepend").html("+"+r[$("#phone_number_country").val()]),$("#phone_number_number").attr("data-country-code",$("#phone_number_country").val())})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.PhysicalAddress=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.PhysicalAddress",n.run=function(){return this.selectUSOrInternational(),$(document).on("shown","#coinbase_modal",this.selectUSOrInternational),$(document).on("refresh","#coinbase_modal",this.selectUSOrInternational),$(document).on("change","form.physical-address .country-selector",this.selectUSOrInternational)},n.selectUSOrInternational=function(){return $("form.physical-address .country-selector").length>0?"US"===$("form.physical-address .country-selector").val()?($("form.physical-address .us-only").show(),$("form.physical-address input.us-only, form.physical-address select.us-only").removeAttr("disabled"),$("form.physical-address .international").hide(),$("form.physical-address input.international, form.physical-address select.international").attr("disabled",!0)):($("form.physical-address .us-only").hide(),$("form.physical-address input.us-only, form.physical-address select.us-only").attr("disabled",!0),$("form.physical-address .international").show(),$("form.physical-address input.international, form.physical-address select.international").removeAttr("disabled")):void 0},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.PullMoney=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.PullMoney",n.run=function(){return $("#pull_money").on("shown",function(){return $("#pull_money #transaction_from").focus()}),$("#pull_money_submit").on("click",function(t){return t.preventDefault(),$("#pull_money_spinner").show(),$("#pull_money form").submit()})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.Reports=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.Reports",n.run=function(){return $(".datepicker").datepicker({autoclose:!0}),$("#report_modal").on("shown",function(){return $(this).find(".focus").focus()}),$("table.reports-list").on("click","td.clicktarget",function(){var t;return t=$(this).parent("tr").attr("id").split("_"),Turbolinks.visit("/reports/"+t[t.length-1])})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.ReviewQueueOptions=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.ReviewQueueOptions",n.run=function(){var t;return t=function(t){return $(".reason_checkbox").prop("checked",t),!1},$(document).on("click","#reasons-select-none",function(){return t(!1)}),$(document).on("click","#reasons-select-all",function(){return t(!0)})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.TransferMoney=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.TransferMoney",n.run=function(){return Coinbase.cache.transferModalCache=void 0,this.transferModalRecipients(),$("#transfer_money_submit").on("click",function(t){return t.preventDefault(),$("#transfer_money_spinner").show(),$("#transfer_money form").submit()}),$("#select_transfer_from").on("change",function(t){return function(e){return e.preventDefault(),t.transferModalRecipients()}}(this))},n.transferModalRecipients=function(){var t,e,n;return t=$("#select_transfer_from"),n=$("#select_transfer_to"),Coinbase.cache.transferModalCache||(Coinbase.cache.transferModalCache=n.children()),e=t.val(),n.empty(),Coinbase.cache.transferModalCache.each(function(){return function(t,r){return $(r).val()!==e?n.append($(r).clone()):void 0}}(this))},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Coinbase.Widgets.Transfers=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.className="Coinbase.Widgets.Transfers",n.run=function(){return $(document).on("click",".payments-toggle",function(){var t;return t=$($(this).data("target")),t.toggle(),t.find(".replace-me").length>0&&$.ajax({type:"PUT",url:$(this).attr("href")}),!1}),$(document).on("click","#max",function(){return $(this).parents("form").submit(),!1}),$(".transfers-observe-field").observe_field(.3,function(){return $.ajax({type:"POST",url:$(this).data("url"),data:$(this).parents("form").serialize(),dataType:"script"})})},n}(Coinbase.Widgets.BaseWidget)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Accounts||(t.Accounts={}),Coinbase.Views.Accounts.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),Coinbase.Widgets.TransferMoney.enable(),$("#create_account_btn").on("click",function(t){return t.preventDefault(),$("#create_account").modal("show")}),$("#create_account").on("show",function(t){return function(e){return e.preventDefault(),t.createAccountMode("default")}}(this)),$("#create_account .wallet").on("click",function(t){return function(e){return e.preventDefault(),t.createAccountMode("wallet")}}(this)),$("#create_account .vault").on("click",function(t){return function(e){var n;return e.preventDefault(),n=$(e.currentTarget),n.hasClass("requires-2fa")?t.createAccountMode("2fa"):(n.off("click"),$.ajax({type:"POST",url:n.attr("href"),dataType:"script",data:{account:{type:"vault"}}}))}}(this)),$("#create_account_submit").on("click",function(t){return t.preventDefault(),$("#create_account_spinner").show(),$("#create_account form").submit()}),$("#create_account .enable-2fa").on("click",function(t){return t.preventDefault(),Turbolinks.visit($(this).attr("href"))}),$("#transfer_money_btn").on("click",function(){return function(t){return t.preventDefault(),$("#transfer_money").modal("show")}}(this)),$("table#accounts_list tbody tr td.clickable").on("click",function(){var t;if(!$(this).find("form").is(":visible"))return t=$(this).parents(".account_row").data("id"),Turbolinks.visit("/accounts/"+t),!1}),$("table#accounts_list .rename").on("click",function(t){var e,n,r,i;return t.preventDefault(),i=$("#account_name_"+$(this).data("id")),n=i.find("h4"),r=i.find("form"),n.is(":visible")?(n.hide(),r.show(),e=r.find("#account_name"),e.focus(),e.val(e.val())):(n.show(),r.hide())}),$(".get_btc_address").on("click",function(t){var e;return t.preventDefault(),e=$(this).data("id"),$("#btc_address_modal_"+e).modal("show")})},e.prototype.createAccountMode=function(t){var e;return t=t||"default",e=$("#create_account"),e.find(".selector").hide(),e.find(".two-factor-alert").hide(),0===e.find(".selector").length&&"default"===t&&(t="wallet"),"default"===t?(e.find(".selector").show(),e.find(".wallet-form").hide(),e.find(".modal-footer").hide()):"wallet"===t?(e.find(".wallet-form").show(),e.find(".modal-footer").show(),e.find("input[type=text]").focus()):"2fa"===t?e.find(".two-factor-alert").show():void 0},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Accounts||(t.Accounts={}),Coinbase.Views.Accounts.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t,n;return e.__super__.render.call(this),$.ajax({type:"POST",url:""+location.pathname+"/load",dataType:"script",data:Coinbase.transaction_params}).always(function(t){return function(){return t.bindTXs()}}(this)),$('.expandable-search input[type="text"]').keyup(function(t){return $(t.target).val()?$(t.target).addClass("has-value"):($(t.target).removeClass("has-value"),$(".note.search").removeClass("show"))}),$('.transaction-search input[type="text"]').keyup(function(t){return $(t.target).val()?$(t.target).closest(".transaction-search").addClass("has-value"):$(t.target).closest(".transaction-search").removeClass("has-value")}),$('.transaction-search input[type="text"]').keydown(function(t){return 27===t.keyCode?$(".transaction-search").find("form").trigger("reset").submit():void 0}),$(".transaction-search .clear").click(function(){return $(".transaction-search").removeClass("has-value").find("form").trigger("reset").submit()}),$("#request_money_btn").on("click",function(t){return t.preventDefault(),$("#request_money").modal("show")}),$("#request_money").on("shown",function(){return $("#request_money #transaction_from").focus()}),$("#withdraw_money_btn").on("click",function(t){return t.preventDefault(),$("#withdraw_money").modal("show")}),$("#withdraw_money_submit").on("click",function(t){return t.preventDefault(),$("#withdraw_money_spinner").show(),$("#withdraw_money form").submit()}),$("#deposit_btn").on("click",function(t){return t.preventDefault(),$("#deposit_money_modal").modal("show")}),$("#withdraw_btn").on("click",function(t){return $(this).hasClass("disabled")?void 0:(t.preventDefault(),$("#withdraw_money_modal").modal("show"))}),$("#deposit_money_btn").on("click",function(t){return t.preventDefault(),$("#deposit_money").modal("show")}),n=_.throttle(function(){return $("#main .balance").is(":visible")?$(".balance").effect("highlight",{},2e3):void 0},2e3,{trailing:!1}),t=$("#main").data("accountId"),Coinbase.live.bind("update-account-"+t,function(e){return 0===$(e.id).length?$("#account_changes_list tbody").prepend(e.account_change).find(":first").fadeIn():$(e.id).replaceWith(e.account_change).fadeIn(),$("#account_changes_list tbody tr:first td").effect("highlight",{},2e3),$(".balance .full").html(e.balance_full),$(".balance .abbr").html(e.balance_abbr),$("#account_link_"+t+" span").html(e.balance_abbr),$(".native-amount").html(e.balance_native),n(),$("#no_records_yet").hide()})},e.prototype.cleanup=function(){var t;return t=$("#main").data("accountId"),Coinbase.live.unbind("update-account-"+t)},e.prototype.bindTXs=function(){return $("table#account_changes_list tr td a").off("click.open-username").on("click.open-username",function(t){return t.preventDefault(),t.stopPropagation(),Turbolinks.visit($(this).attr("href"))}),$("table#account_changes_list tr").off("click.open-tx").on("click.open-tx",function(t){var e,n,r;return e=$(this).data("account-id"),r=$(this).data("transaction-id"),n="/accounts/"+e+"/transactions/"+r,t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey?window.open(n,"_blank"):(t.preventDefault(),Turbolinks.visit(n))})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Addresses||(t.Addresses={}),Coinbase.Views.Addresses.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("select#account_id").on("change",function(t){return t.preventDefault(),Turbolinks.visit("/addresses?account_id="+$(this).val())})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Addresses||(t.Addresses={}),Coinbase.Views.Addresses.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#sign_message").on("ajax:success",function(t,e){return $("#signature_error").hide(),$("#signature").val(e.signature),$("#signature").closest(".control-group").show()}).bind("ajax:error",function(t,e){var n;return 429===e.status?(n=JSON.parse(e.responseText),$("#signature_error").text(n.error),$("#signature_error").show()):void 0})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Applications||(t.Applications={}),Coinbase.Views.Applications.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#account_app_submit").on("click",function(t){return t.preventDefault(),$("#edit_app_form").submit()})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).Apps||(t.Apps={}),Coinbase.Views.Apps.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$(".fancybox-thumb").fancybox({prevEffect:"none",nextEffect:"none"}),Coinbase.Widgets.jQueryRaty.enable()},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).Buys||(t.Buys={}),Coinbase.Views.Buys.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),Coinbase.constants.USER.is_verified?(this.buyFormProperties={has_instant_buy:Coinbase.constants.USER.has_instant_buy,buy_level:Coinbase.constants.USER.buy_level},mixpanel.track("Page Viewed",{"page name":document.title,page:"buys#index",url:window.location.pathname}),$("#transfer_btc").one("keyup",function(){return mixpanel.track("Buy Form Changed",this.buyFormProperties)}),$("#buy_bitcoins").one("click",function(){return mixpanel.track("Buy Form Submit",this.buyFormProperties)}),$("#confirmation_modal").one("hidden.bs.modal",function(){return"Buy Confirmation"===$("#confirmation_modal h4").text()?mixpanel.track("Buy Form Confirm Closed",this.buyFormProperties):void 0})):void 0},e}(Coinbase.Views.Application)}.call(this),d3=function(){function t(t){return null!=t&&!isNaN(t)}function e(t){return t.length}function n(t){for(var e=1;t*e%1;)e*=10;return e}function r(t,e){try{for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}catch(r){t.prototype=e}}function i(){}function o(){}function a(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function s(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.substring(1);for(var n=0,r=fs.length;r>n;++n){var i=fs[n]+e;if(i in t)return i}}function u(){}function l(){}function c(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new i;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function h(){Ga.event.preventDefault()}function f(){for(var t,e=Ga.event;t=e.sourceEvent;)e=t;return e}function d(t){for(var e=new l,n=0,r=arguments.length;++n<r;)e[arguments[n]]=c(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=Ga.event;i.target=t,Ga.event=i,e[i.type].apply(n,r)}finally{Ga.event=o}}},e}function p(t){return ps(t,bs),t}function g(t){return"function"==typeof t?t:function(){return gs(t,this)}}function m(t){return"function"==typeof t?t:function(){return ms(t,this)}}function v(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=Ga.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function y(t){return t.trim().replace(/\s+/g," ")}function b(t){return new RegExp("(?:^|\\s+)"+Ga.requote(t)+"(?:\\s+|$)","g")}function w(t){return t.trim().split(/^|\s+/)}function x(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=w(t).map(_);var i=t.length;return"function"==typeof e?r:n}function _(t){var e=b(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",y(i+" "+t))):n.setAttribute("class",y(i.replace(e," ")))}}function k(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function C(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function M(t){return"function"==typeof t?t:(t=Ga.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function S(t){return{__data__:t}}function E(t){return function(){return ys(this,t)}}function A(t){return arguments.length||(t=Ga.ascending),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function D(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function T(t){return ps(t,xs),t}function P(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function B(){var t=this.__transition__;t&&++t.active}function $(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=l(e,Za(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+Ga.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=N;s>0&&(t=t.substring(0,s));var c=ks.get(t);return c&&(t=c,l=I),s?e?i:r:e?u:o}function N(t,e){return function(n){var r=Ga.event;Ga.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{Ga.event=r}}}function I(t,e){var n=N(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function O(){var t=".dragsuppress-"+ ++Ms,e="click"+t,n=Ga.select(ts).on("touchmove"+t,h).on("dragstart"+t,h).on("selectstart"+t,h);if(Cs){var r=Ja.style,i=r[Cs];r[Cs]="none"}return function(o){function a(){n.on(e,null)}n.on(t,null),Cs&&(r[Cs]=i),o&&(n.on(e,function(){h(),a()},!0),setTimeout(a,0))}}function F(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Ss&&(ts.scrollX||ts.scrollY)){n=Ga.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Ss=!(i.f||i.e),n.remove()}return Ss?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function R(t){return t>0?1:0>t?-1:0}function L(t){return t>1?0:-1>t?Es:Math.acos(t)}function j(t){return t>1?Ds:-1>t?-Ds:Math.asin(t)}function W(t){return((t=Math.exp(t))-1/t)/2}function z(t){return((t=Math.exp(t))+1/t)/2}function V(t){return((t=Math.exp(2*t))-1)/(t+1)}function U(t){return(t=Math.sin(t/2))*t}function q(){}function H(t,e,n){return new Y(t,e,n)}function Y(t,e,n){this.h=t,this.s=e,this.l=n}function X(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,se(i(t+120),i(t),i(t-120))}function G(t,e,n){return new K(t,e,n)}function K(t,e,n){this.h=t,this.c=e,this.l=n}function Z(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),Q(n,Math.cos(t*=Bs)*e,Math.sin(t)*e)}function Q(t,e,n){return new J(t,e,n)}function J(t,e,n){this.l=t,this.a=e,this.b=n}function te(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=ne(i)*Vs,r=ne(r)*Us,o=ne(o)*qs,se(ie(3.2404542*i-1.5371385*r-.4985314*o),ie(-.969266*i+1.8760108*r+.041556*o),ie(.0556434*i-.2040259*r+1.0572252*o))}function ee(t,e,n){return t>0?G(Math.atan2(n,e)*$s,Math.sqrt(e*e+n*n),t):G(0/0,0/0,t)}function ne(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function re(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ie(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function oe(t){return se(t>>16,t>>8&255,255&t)}function ae(t){return oe(t)+""}function se(t,e,n){return new ue(t,e,n)}function ue(t,e,n){this.r=t,this.g=e,this.b=n}function le(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ce(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(pe(i[0]),pe(i[1]),pe(i[2]))}return(o=Xs.get(t))?e(o.r,o.g,o.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(a=t.charAt(1),a+=a,s=t.charAt(2),s+=s,u=t.charAt(3),u+=u):7===t.length&&(a=t.substring(1,3),s=t.substring(3,5),u=t.substring(5,7)),a=parseInt(a,16),s=parseInt(s,16),u=parseInt(u,16)),e(a,s,u))}function he(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),H(r,i,u)}function fe(t,e,n){t=de(t),e=de(e),n=de(n);var r=re((.4124564*t+.3575761*e+.1804375*n)/Vs),i=re((.2126729*t+.7151522*e+.072175*n)/Us),o=re((.0193339*t+.119192*e+.9503041*n)/qs);return Q(116*i-16,500*(r-i),200*(i-o))}function de(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pe(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function ge(t){return"function"==typeof t?t:function(){return t}}function me(t){return t}function ve(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ye(e,n,t,r)}}function ye(t,e,n,r){function i(){var t,e=u.status;if(!e&&u.responseText||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=Ga.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!ts.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=Ga.event;Ga.event=t;try{a.progress.call(o,u)}finally{Ga.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o
},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(Za(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},Ga.rebind(o,a,"on"),null==r?o:o.get(be(r))}function be(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function we(){var t=xe(),e=_e()-t;e>24?(isFinite(e)&&(clearTimeout(Qs),Qs=setTimeout(we,e)),Zs=0):(Zs=1,tu(we))}function xe(){var t=Date.now();for(Js=Gs;Js;)t>=Js.t&&(Js.f=Js.c(t-Js.t)),Js=Js.n;return t}function _e(){for(var t,e=Gs,n=1/0;e;)e.f?e=t?t.n=e.n:Gs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return Ks=t,n}function ke(t,e){var n=Math.pow(10,3*ls(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ce(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Me(t){return t+""}function Se(){}function Ee(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function Ae(t,e){t&&fu.hasOwnProperty(t.type)&&fu[t.type](t,e)}function De(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Te(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)De(t[n],e,1);e.polygonEnd()}function Pe(){function t(t,e){t*=Bs,e=e*Bs/2+Es/4;var n=t-r,a=Math.cos(e),s=Math.sin(e),u=o*s,l=i*a+u*Math.cos(n),c=u*Math.sin(n);pu.add(Math.atan2(c,l)),r=t,i=a,o=s}var e,n,r,i,o;gu.point=function(a,s){gu.point=t,r=(e=a)*Bs,i=Math.cos(s=(n=s)*Bs/2+Es/4),o=Math.sin(s)},gu.lineEnd=function(){t(e,n)}}function Be(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function $e(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ne(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ie(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Oe(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Fe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Re(t){return[Math.atan2(t[1],t[0]),j(t[2])]}function Le(t,e){return ls(t[0]-e[0])<Ts&&ls(t[1]-e[1])<Ts}function je(t,e){t*=Bs;var n=Math.cos(e*=Bs);We(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function We(t,e,n){++mu,yu+=(t-yu)/mu,bu+=(e-bu)/mu,wu+=(n-wu)/mu}function ze(){function t(t,i){t*=Bs;var o=Math.cos(i*=Bs),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);vu+=l,xu+=l*(e+(e=a)),_u+=l*(n+(n=s)),ku+=l*(r+(r=u)),We(e,n,r)}var e,n,r;Eu.point=function(i,o){i*=Bs;var a=Math.cos(o*=Bs);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Eu.point=t,We(e,n,r)}}function Ve(){Eu.point=je}function Ue(){function t(t,e){t*=Bs;var n=Math.cos(e*=Bs),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=Math.sqrt(l*l+c*c+h*h),d=r*a+i*s+o*u,p=f&&-L(d)/f,g=Math.atan2(f,d);Cu+=p*l,Mu+=p*c,Su+=p*h,vu+=g,xu+=g*(r+(r=a)),_u+=g*(i+(i=s)),ku+=g*(o+(o=u)),We(r,i,o)}var e,n,r,i,o;Eu.point=function(a,s){e=a,n=s,Eu.point=t,a*=Bs;var u=Math.cos(s*=Bs);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),We(r,i,o)},Eu.lineEnd=function(){t(e,n),Eu.lineEnd=Ve,Eu.point=je}}function qe(){return!0}function He(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Le(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Xe(n,t,null,!0),l=new Xe(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Xe(r,t,null,!1),l=new Xe(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(e),Ye(o),Ye(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;l>s;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Ye(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Xe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ge(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function u(){y.point=s,m.lineStart()}function l(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);w.point(n[0],n[1])}function h(){w.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),w.lineEnd();var t,e=w.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r){if(1&e){t=n[0];var i,r=t.length-1,a=-1;for(o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);return void o.lineEnd()}r>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Ke))}}var d,p,g,m=e(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=f,d=[],p=[],o.polygonStart()},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,d=Ga.merge(d);var t=Je(v,p);d.length?He(d,Qe,t,n,o):t&&(o.lineStart(),n(null,null,1,o),o.lineEnd()),o.polygonEnd(),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=Ze(),w=e(b);return y}}function Ke(t){return t.length>1}function Ze(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:u,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Qe(t,e){return((t=t.x)[0]<0?t[1]-Ds-Ts:Ds-t[1])-((e=e.x)[0]<0?e[1]-Ds-Ts:Ds-e[1])}function Je(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;pu.reset();for(var s=0,u=e.length;u>s;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Es/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0),t=l[m];var v=t[0],y=t[1]/2+Es/4,b=Math.sin(y),w=Math.cos(y),x=v-f,_=ls(x)>Es,k=p*b;if(pu.add(Math.atan2(k*Math.sin(x),g*w+k*Math.cos(x))),o+=_?x+(x>=0?As:-As):x,_^f>=n^v>=n){var C=Ne(Be(h),Be(t));Fe(C);var M=Ne(i,C);Fe(M);var S=(_^x>=0?-1:1)*j(M[2]);(r>S||r===S&&(C[0]||C[1]))&&(a+=_^x>=0?1:-1)}if(!m++)break;f=v,p=b,g=w,h=t}}return(-Ts>o||Ts>o&&0>pu)^1&a}function tn(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Es:-Es,u=ls(o-n);ls(u-Es)<Ts?(t.point(n,r=(r+a)/2>0?Ds:-Ds),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Es&&(ls(n-i)<Ts&&(n-=i*Ts),ls(o-s)<Ts&&(o-=s*Ts),r=en(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function en(t,e,n,r){var i,o,a=Math.sin(t-n);return ls(a)>Ts?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function nn(t,e,n,r){var i;if(null==t)i=n*Ds,r.point(-Es,i),r.point(0,i),r.point(Es,i),r.point(Es,0),r.point(Es,-i),r.point(0,-i),r.point(-Es,-i),r.point(-Es,0),r.point(-Es,i);else if(ls(t[0]-e[0])>Ts){var o=t[0]<e[0]?Es:-Es;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function rn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=e(h,f),m=a?g?0:i(h,f):g?i(h+(0>h?Es:-Es),f):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=r(n,p),(Le(n,d)||Le(p,d))&&(p[0]+=Ts,p[1]+=Ts,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=r(p,n),t.point(d[0],d[1])):(d=r(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var v;m&o||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Le(n,p)||t.point(p[0],p[1]),n=p,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=Be(t),i=Be(e),a=[1,0,0],s=Ne(r,i),u=$e(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,f=-o*l/c,d=Ne(a,s),p=Oe(a,h),g=Oe(s,f);Ie(p,g);var m=d,v=$e(p,m),y=$e(m,m),b=v*v-y*($e(p,p)-1);if(!(0>b)){var w=Math.sqrt(b),x=Oe(m,(-v-w)/y);if(Ie(x,p),x=Re(x),!n)return x;var _,k=t[0],C=e[0],M=t[1],S=e[1];k>C&&(_=k,k=C,C=_);var E=C-k,A=ls(E-Es)<Ts,D=A||Ts>E;if(!A&&M>S&&(_=M,M=S,S=_),D?A?M+S>0^x[1]<(ls(x[0]-k)<Ts?M:S):M<=x[1]&&x[1]<=S:E>Es^(k<=x[0]&&x[0]<=C)){var T=Oe(m,(-v+w)/y);return Ie(T,p),[x,Re(T)]}}}function i(e,n){var r=a?t:Es-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=ls(o)>Ts,u=Bn(t,6*Bs);return Ge(e,n,u,a?[0,-t]:[-Es,t-Es])}function on(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,h=s.y,f=0,d=1,p=c-u,g=h-l;if(o=t-u,p||!(o>0)){if(o/=p,0>p){if(f>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>f&&(f=o)}else if(p>0){if(f>o)return;d>o&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,0>g){if(f>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=r-l,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>f&&(f=o)}else if(g>0){if(f>o)return;d>o&&(d=o)}return f>0&&(i.a={x:u+f*p,y:l+f*g}),1>d&&(i.b={x:u+d*p,y:l+d*g}),i}}}}}}function an(t,e,n,r){function i(r,i){return ls(r[0]-t)<Ts?i>0?0:3:ls(r[0]-n)<Ts?i>0?2:1:ls(r[1]-e)<Ts?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=v.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=v[i],u=s.length,c=s[0];u>a;++a)o=s[a],c[1]<=r?o[1]>r&&l(c,o,t)>0&&++e:o[1]<=r&&l(c,o,t)<0&&--e,c=o;return 0!==e}function l(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function c(o,s,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==h)}else l.point(s[0],s[1])}function h(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function f(t,e){h(t,e)&&s.point(t,e)}function d(){T.point=g,v&&v.push(y=[]),M=!0,C=!1,_=k=0/0}function p(){m&&(g(b,w),x&&C&&A.rejoin(),m.push(A.buffer())),T.point=f,C&&s.lineEnd()}function g(t,e){t=Math.max(-Du,Math.min(Du,t)),e=Math.max(-Du,Math.min(Du,e));var n=h(t,e);if(v&&y.push([t,e]),M)b=t,w=e,x=n,M=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&C)s.point(t,e);else{var r={a:{x:_,y:k},b:{x:t,y:e}};D(r)?(C||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}_=t,k=e,C=n}var m,v,y,b,w,x,_,k,C,M,S,E=s,A=Ze(),D=on(t,e,n,r),T={point:f,lineStart:d,lineEnd:p,polygonStart:function(){s=A,m=[],v=[],S=!0},polygonEnd:function(){s=E,m=Ga.merge(m);var e=u([t,r]),n=S&&e,i=m.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),i&&He(m,o,e,c,s),s.polygonEnd()),m=v=y=null}};return T}}function sn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function un(t){var e=0,n=Es/3,r=Cn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Es/180,n=t[1]*Es/180):[e/Es*180,n/Es*180]},i}function ln(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,j((o-(t*t+n*n)*i*i)/(2*i))]},n}function cn(){function t(t,e){Pu+=i*t-r*e,r=t,i=e}var e,n,r,i;Ou.point=function(o,a){Ou.point=t,e=r=o,n=i=a},Ou.lineEnd=function(){t(e,n)}}function hn(t,e){Bu>t&&(Bu=t),t>Nu&&(Nu=t),$u>e&&($u=e),e>Iu&&(Iu=e)}function fn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=dn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=dn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function dn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function pn(t,e){yu+=t,bu+=e,++wu}function gn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);xu+=a*(e+t)/2,_u+=a*(n+r)/2,ku+=a,pn(e=t,n=r)}var e,n;Ru.point=function(r,i){Ru.point=t,pn(e=r,n=i)}}function mn(){Ru.point=pn}function vn(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);xu+=a*(r+t)/2,_u+=a*(i+e)/2,ku+=a,a=i*t-r*e,Cu+=a*(r+t),Mu+=a*(i+e),Su+=3*a,pn(r=t,i=e)}var e,n,r,i;Ru.point=function(o,a){Ru.point=t,pn(e=r=o,n=i=a)},Ru.lineEnd=function(){t(e,n)}}function yn(t){function e(e,n){t.moveTo(e,n),t.arc(e,n,a,0,As)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:u};return s}function bn(t){function e(t){return(s?r:n)(t)}function n(e){return _n(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=0/0,C.point=o,e.lineStart()}function o(n,r){var o=Be([n,r]),a=t(n,r);i(b,w,y,x,_,k,b=a[0],w=a[1],y=n,x=o[0],_=o[1],k=o[2],s,e),e.point(b,w)}function a(){C.point=n,e.lineEnd()}function u(){r(),C.point=l,C.lineEnd=c}function l(t,e){o(h=t,f=e),d=b,p=w,g=x,m=_,v=k,C.point=o}function c(){i(b,w,y,x,_,k,d,p,h,g,m,v,s,e),C.lineEnd=a,a()}var h,f,d,p,g,m,v,y,b,w,x,_,k,C={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=u},polygonEnd:function(){e.polygonEnd(),C.lineStart=r}};return C}function i(e,n,r,s,u,l,c,h,f,d,p,g,m,v){var y=c-e,b=h-n,w=y*y+b*b;if(w>4*o&&m--){var x=s+d,_=u+p,k=l+g,C=Math.sqrt(x*x+_*_+k*k),M=Math.asin(k/=C),S=ls(ls(k)-1)<Ts||ls(r-f)<Ts?(r+f)/2:Math.atan2(_,x),E=t(S,M),A=E[0],D=E[1],T=A-e,P=D-n,B=b*T-y*P;(B*B/w>o||ls((y*T+b*P)/w-.5)>.3||a>s*d+u*p+l*g)&&(i(e,n,r,s,u,l,A,D,S,x/=C,_/=C,k,m,v),v.point(A,D),i(A,D,S,x,_,k,c,h,f,d,p,g,m,v))}}var o=.5,a=Math.cos(30*Bs),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function wn(t){var e=bn(function(e,n){return t([e*$s,n*$s])});return function(t){return Mn(e(t))}}function xn(t){this.stream=t}function _n(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function kn(t){return Cn(function(){return t})()}function Cn(t){function e(t){return t=s(t[0]*Bs,t[1]*Bs),[t[0]*f+u,l-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(l-t[1])/f),t&&[t[0]*$s,t[1]*$s]}function r(){s=sn(a=An(v,y,b),o);var t=o(g,m);return u=d-t[0]*f,l=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=bn(function(t,e){return t=o(t,e),[t[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,y=0,b=0,w=Au,x=me,_=null,k=null;return e.stream=function(t){return c&&(c.valid=!1),c=Mn(w(a,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(_=t,Au):rn((_=+t)*Bs),i()):_},e.clipExtent=function(t){return arguments.length?(k=t,x=t?an(t[0][0],t[0][1],t[1][0],t[1][1]):me,i()):k},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Bs,m=t[1]%360*Bs,r()):[g*$s,m*$s]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Bs,y=t[1]%360*Bs,b=t.length>2?t[2]%360*Bs:0,r()):[v*$s,y*$s,b*$s]},Ga.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function Mn(t){return _n(t,function(e,n){t.point(e*Bs,n*Bs)})}function Sn(t,e){return[t,e]}function En(t,e){return[t>Es?t-As:-Es>t?t+As:t,e]}function An(t,e,n){return t?e||n?sn(Tn(t),Pn(e,n)):Tn(t):e||n?Pn(e,n):En}function Dn(t){return function(e,n){return e+=t,[e>Es?e-As:-Es>e?e+As:e,n]}}function Tn(t){var e=Dn(t);return e.invert=Dn(-t),e}function Pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),j(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),j(c*r-s*i)]},n}function Bn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=$n(n,i),o=$n(n,o),(a>0?o>i:i>o)&&(i+=a*As)):(i=t+a*As,o=t-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=Re([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function $n(t,e){var n=Be(e);n[0]-=t,Fe(n);var r=L(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ts)%(2*Math.PI)}function Nn(t,e,n){var r=Ga.range(t,e-Ts,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function In(t,e,n){var r=Ga.range(t,e-Ts,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function On(t){return t.source}function Fn(t){return t.target}function Rn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(U(r-e)+i*a*U(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*$s,Math.atan2(a,Math.sqrt(r*r+i*i))*$s]}:function(){return[t*$s,e*$s]};return p.distance=f,p}function Ln(){function t(t,i){var o=Math.sin(i*=Bs),a=Math.cos(i),s=ls((t*=Bs)-e),u=Math.cos(s);Lu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;ju.point=function(i,o){e=i*Bs,n=Math.sin(o*=Bs),r=Math.cos(o),ju.point=t},ju.lineEnd=function(){ju.point=ju.lineEnd=u}}function jn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function Wn(t,e){function n(t,e){var n=ls(ls(e)-Ds)<Ts?0:a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Es/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=R(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ds]},n):Vn}function zn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ls(i)<Ts?Sn:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-R(i)*Math.sqrt(t*t+n*n)]},n)}function Vn(t,e){return[t,Math.log(Math.tan(Es/4+e/2))]}function Un(t){var e,n=kn(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Es*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function qn(t,e){return[Math.log(Math.tan(Es/4+e/2)),-t]}function Hn(t){return t[0]}function Yn(t){return t[1]}function Xn(t,e,n,r){var i,o,a,s,u,l,c;return i=r[t],o=i[0],a=i[1],i=r[e],s=i[0],u=i[1],i=r[n],l=i[0],c=i[1],(c-a)*(s-o)-(u-a)*(l-o)>0}function Gn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Kn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+f*a,u+f*c]}function Zn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Qn(){br(this),this.edge=this.site=this.circle=null}function Jn(t){var e=Qu.pop()||new Qn;return e.site=t,e}function tr(t){cr(t),Gu.remove(t),Qu.push(t),br(t)}function er(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];tr(t);for(var u=o;u.circle&&ls(n-u.circle.x)<Ts&&ls(r-u.circle.cy)<Ts;)o=u.P,s.unshift(u),tr(u),u=o;s.unshift(u),cr(u);for(var l=a;l.circle&&ls(n-l.circle.x)<Ts&&ls(r-l.circle.cy)<Ts;)a=l.N,s.push(l),tr(l),l=a;s.push(l),cr(l);var c,h=s.length;for(c=1;h>c;++c)l=s[c],u=s[c-1],mr(l.edge,u.site,l.site,i);u=s[0],l=s[h-1],l.edge=pr(u.site,l.site,null,i),lr(u),lr(l)}function nr(t){for(var e,n,r,i,o=t.x,a=t.y,s=Gu._;s;)if(r=rr(s,a)-o,r>Ts)s=s.L;else{if(i=o-ir(s,a),!(i>Ts)){r>-Ts?(e=s.P,n=s):i>-Ts?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Jn(t);if(Gu.insert(e,u),e||n){if(e===n)return cr(e),n=Jn(e.site),Gu.insert(u,n),u.edge=n.edge=pr(e.site,u.site),lr(e),void lr(n);if(!n)return void(u.edge=pr(e.site,u.site));cr(e),cr(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(f*m-d*g),y=f*f+d*d,b=g*g+m*m,w={x:(m*y-d*b)/v+c,y:(f*b-g*y)/v+h};mr(n.edge,l,p,w),u.edge=pr(l,t,null,w),n.edge=pr(t,p,null,w),lr(e),lr(n)}}function rr(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function ir(t,e){var n=t.N;if(n)return rr(n,e);var r=t.site;return r.y===e?r.x:1/0}function or(t){this.site=t,this.edges=[]}function ar(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=Xu,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(ls(r-e)>Ts||ls(i-n)>Ts)&&(s.splice(a,0,new vr(gr(o.site,c,ls(r-h)<Ts&&p-i>Ts?{x:h,y:ls(e-h)<Ts?n:p}:ls(i-p)<Ts&&f-r>Ts?{x:ls(n-p)<Ts?e:f,y:p}:ls(r-f)<Ts&&i-d>Ts?{x:f,y:ls(e-f)<Ts?n:d}:ls(i-d)<Ts&&r-h>Ts?{x:ls(n-d)<Ts?e:h,y:d}:null),o.site,null)),++u)}function sr(t,e){return e.angle-t.angle}function ur(){br(this),this.x=this.y=this.arc=this.site=this.cy=null}function lr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=o.y-s,f=2*(u*h-l*c);if(!(f>=-Ps)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,m=(u*p-c*d)/f,h=m+s,v=Ju.pop()||new ur;v.arc=t,v.site=i,v.x=g+a,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,b=Zu._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Zu.insert(y,v),y||(Ku=v)}}}}function cr(t){var e=t.circle;e&&(e.P||(Ku=e.N),Zu.remove(e),Ju.push(e),br(e),t.circle=null)}function hr(t){for(var e,n=Yu,r=on(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!fr(e,t)||!r(e)||ls(e.a.x-e.b.x)<Ts&&ls(e.a.y-e.b.y)<Ts)&&(e.a=e.b=null,n.splice(i,1))}function fr(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(a>m||m>=s)return;if(f>p){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(r=(f-p)/(g-d),i=v-r*m,-1>r||r>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function dr(t,e){this.l=t,this.r=e,this.a=this.b=null}function pr(t,e,n,r){var i=new dr(t,e);return Yu.push(i),n&&mr(i,t,e,n),r&&mr(i,e,t,r),Xu[t.i].edges.push(new vr(i,t,e)),Xu[e.i].edges.push(new vr(i,e,t)),i}function gr(t,e,n){var r=new dr(t,null);return r.a=e,r.b=n,Yu.push(r),r}function mr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function vr(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function yr(){this._=null}function br(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function wr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function xr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function _r(t){for(;t.L;)t=t.L;return t}function kr(t,e){var n,r,i,o=t.sort(Cr).pop();for(Yu=[],Xu=new Array(t.length),Gu=new yr,Zu=new yr;;)if(i=Ku,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Xu[o.i]=new or(o),nr(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;er(i.arc)}e&&(hr(e),ar(e));var a={cells:Xu,edges:Yu};return Gu=Zu=Yu=Xu=null,a}function Cr(t,e){return e.y-t.y||e.x-t.x}function Mr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function Sr(t){return t.x}function Er(t){return t.y}function Ar(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&Dr(t,u[0],n,r,a,s),u[1]&&Dr(t,u[1],a,r,i,s),u[2]&&Dr(t,u[2],n,s,a,o),u[3]&&Dr(t,u[3],a,s,i,o)}}function Tr(t,e){t=Ga.rgb(t),e=Ga.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+le(Math.round(n+o*t))+le(Math.round(r+a*t))+le(Math.round(i+s*t))}}function Pr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=Nr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function Br(t,e){return e-=t=+t,function(n){return t+e*n}}function $r(t,e){var n,r,i,o,a,s=0,u=0,l=[],c=[];for(t+="",e+="",el.lastIndex=0,r=0;n=el.exec(e);++r)n.index&&l.push(e.substring(s,u=n.index)),c.push({i:l.length,x:n[0]}),l.push(null),s=el.lastIndex;for(s<e.length&&l.push(e.substring(s)),r=0,o=c.length;(n=el.exec(t))&&o>r;++r)if(a=c[r],a.x==n[0]){if(a.i)if(null==l[a.i+1])for(l[a.i-1]+=a.x,l.splice(a.i,1),i=r+1;o>i;++i)c[i].i--;else for(l[a.i-1]+=a.x+l[a.i+1],l.splice(a.i,2),i=r+1;o>i;++i)c[i].i-=2;else if(null==l[a.i+1])l[a.i]=a.x;else for(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1),i=r+1;o>i;++i)c[i].i--;c.splice(r,1),o--,r--}else a.x=Br(parseFloat(n[0]),parseFloat(a.x));for(;o>r;)a=c.pop(),null==l[a.i+1]?l[a.i]=a.x:(l[a.i]=a.x+l[a.i+1],l.splice(a.i+1,1)),o--;return 1===l.length?null==l[0]?(a=c[0].x,function(t){return a(t)+""}):function(){return e}:function(t){for(r=0;o>r;++r)l[(a=c[r]).i]=a.x(t);return l.join("")}}function Nr(t,e){for(var n,r=Ga.interpolators.length;--r>=0&&!(n=Ga.interpolators[r](t,e)););return n}function Ir(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(Nr(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function Or(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Fr(t){return function(e){return 1-t(1-e)}}function Rr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Lr(t){return t*t}function jr(t){return t*t*t}function Wr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function zr(t){return function(e){return Math.pow(e,t)}}function Vr(t){return 1-Math.cos(t*Ds)}function Ur(t){return Math.pow(2,10*(t-1))}function qr(t){return 1-Math.sqrt(1-t*t)}function Hr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/As*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*As/e)}}function Yr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Xr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Gr(t,e){t=Ga.hcl(t),e=Ga.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return Z(n+o*t,r+a*t,i+s*t)+""}}function Kr(t,e){t=Ga.hsl(t),e=Ga.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return X(n+o*t,r+a*t,i+s*t)+""}}function Zr(t,e){t=Ga.lab(t),e=Ga.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return te(n+o*t,r+a*t,i+s*t)+""}}function Qr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Jr(t){var e=[t.a,t.b],n=[t.c,t.d],r=ei(e),i=ti(e,n),o=ei(ni(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*$s,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*$s:0}function ti(t,e){return t[0]*e[0]+t[1]*e[1]}function ei(t){var e=Math.sqrt(ti(t,t));return e&&(t[0]/=e,t[1]/=e),e}function ni(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function ri(t,e){var n,r=[],i=[],o=Ga.transform(t),a=Ga.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,h=o.skew,f=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:Br(s[0],u[0])},{i:3,x:Br(s[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Br(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Br(h,f)}):f&&r.push(r.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:Br(d[0],p[0])},{i:n-2,x:Br(d[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function ii(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function oi(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function ai(t){for(var e=t.source,n=t.target,r=ui(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function si(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ui(t,e){if(t===e)return t;for(var n=si(t),r=si(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function li(t){t.fixed|=2}function ci(t){t.fixed&=-7}function hi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function fi(t){t.fixed&=-5}function di(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(di(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function pi(t,e){return Ga.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=yi,t}function gi(t){return t.children}function mi(t){return t.value}function vi(t,e){return e.value-t.value}function yi(t){return Ga.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function bi(t){return t.x}function wi(t){return t.y}function xi(t,e,n){t.y0=e,t.y=n}function _i(t){return Ga.range(t.length)}function ki(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Ci(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Mi(t){return t.reduce(Si,0)}function Si(t,e){return t+e[1]}function Ei(t,e){return Ai(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ai(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function Di(t){return[Ga.min(t),Ga.max(t)]}function Ti(t,e){return t.parent==e.parent?1:2}function Pi(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function Bi(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function $i(t,e){var n=t.children;if(n&&(i=n.length))for(var r,i,o=-1;++o<i;)e(r=$i(n[o],e),t)>0&&(t=r);return t}function Ni(t,e){return t.x-e.x}function Ii(t,e){return e.x-t.x}function Oi(t,e){return t.depth-e.depth}function Fi(t,e){function n(t,r){var i=t.children;if(i&&(a=i.length))for(var o,a,s=null,u=-1;++u<a;)o=i[u],n(o,s),s=o;e(t,r)}n(t,null)}function Ri(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o]._tree,e.prelim+=n,e.mod+=n,n+=e.shift+(r+=e.change)}function Li(t,e,n){t=t._tree,e=e._tree;var r=n/(e.number-t.number);t.change+=r,e.change-=r,e.shift+=n,e.prelim+=n,e.mod+=n}function ji(t,e,n){return t._tree.ancestor.parent==e.parent?t._tree.ancestor:n}function Wi(t,e){return t.value-e.value}function zi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Vi(t,e){t._pack_next=e,e._pack_prev=t}function Ui(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function qi(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(Hi),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(i=n[1],i.x=i.r,i.y=0,e(i),l>2))for(o=n[2],Gi(r,i,o),e(o),zi(r,o),r._pack_prev=o,zi(o,i),i=r._pack_next,a=3;l>a;a++){Gi(r,i,o=n[a]);var p=0,g=1,m=1;
for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Ui(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!Ui(u,o);u=u._pack_prev,m++);p?(m>g||g==m&&i.r<r.r?Vi(r,i=s):Vi(r=u,i),a--):(zi(r,o),i=o,e(o))}var v=(c+h)/2,y=(f+d)/2,b=0;for(a=0;l>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(Yi)}}function Hi(t){t._pack_next=t._pack_prev=t}function Yi(t){delete t._pack_next,delete t._pack_prev}function Xi(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Xi(i[o],e,n,r)}function Gi(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function Ki(t){return 1+Ga.max(t,function(t){return t.y})}function Zi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Qi(t){var e=t.children;return e&&e.length?Qi(e[0]):t}function Ji(t){var e,n=t.children;return n&&(e=n.length)?Ji(n[e-1]):t}function to(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function eo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function no(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function ro(t){return t.rangeExtent?t.rangeExtent():no(t.range())}function io(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function oo(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function ao(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:hl}function so(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=Ga.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function uo(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?so:io,u=r?oi:ii;return a=i(t,e,u,n),s=i(e,t,u,Nr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Qr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return fo(t,e)},o.tickFormat=function(e,n){return po(t,e,n)},o.nice=function(e){return co(t,e),i()},o.copy=function(){return uo(t,e,n,r)},i()}function lo(t,e){return Ga.rebind(t,e,"range","rangeRound","interpolate","clamp")}function co(t,e){return oo(t,ao(ho(t,e)[2]))}function ho(t,e){null==e&&(e=10);var n=no(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function fo(t,e){return Ga.range.apply(Ga,ho(t,e))}function po(t,e,n){var r=ho(t,e);return Ga.format(n?n.replace(au,function(t,e,n,i,o,a,s,u,l,c){return[e,n,i,o,a,s,u,l||"."+mo(c,r),c].join("")}):",."+go(r[2])+"f")}function go(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function mo(t,e){var n=go(e[2]);return t in fl?Math.abs(n-go(Math.max(Math.abs(e[0]),Math.abs(e[1]))))+ +("e"!==t):n-2*("%"===t)}function vo(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=oo(r.map(i),n?Math:pl);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=no(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var f=1;h>f;f++)a.push(o(l)*f);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var f=h-1;f>0;f--)a.push(o(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return dl;arguments.length<2?e=dl:"function"!=typeof e&&(e=Ga.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return vo(t.copy(),e,n,r)},lo(a,t)}function yo(t,e,n){function r(e){return t(i(e))}var i=bo(e),o=bo(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return fo(n,t)},r.tickFormat=function(t,e){return po(n,t,e)},r.nice=function(t){return r.domain(co(n,t))},r.exponent=function(a){return arguments.length?(i=bo(e=a),o=bo(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return yo(t.copy(),e,n)},lo(r,t)}function bo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function wo(t,e){function n(n){return a[((o.get(n)||"range"===e.t&&o.set(n,t.push(n)))-1)%a.length]}function r(e,n){return Ga.range(t.length).map(function(t){return e+n*t})}var o,a,s;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new i;for(var a,s=-1,u=r.length;++s<u;)o.has(a=r[s])||o.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,s=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(i,o){arguments.length<2&&(o=0);var u=i[0],l=i[1],c=(l-u)/(Math.max(1,t.length-1)+o);return a=r(t.length<2?(u+l)/2:u+c*o/2,c),s=0,e={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=(h-c)/(t.length-o+2*u);return a=r(c+f*u,f),l&&a.reverse(),s=f*(1-o),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,o,u){arguments.length<2&&(o=0),arguments.length<3&&(u=o);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=Math.floor((h-c)/(t.length-o+2*u)),d=h-c-(t.length-o)*f;return a=r(c+Math.round(d/2),f),l&&a.reverse(),s=Math.round(f*(1-o)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return s},n.rangeExtent=function(){return no(e.a[0])},n.copy=function(){return wo(t,e)},n.domain(t)}function xo(t,e){function n(){var n=0,o=e.length;for(i=[];++n<o;)i[n-1]=Ga.quantile(t,n/o);return r}function r(t){return isNaN(t=+t)?void 0:e[Ga.bisect(i,t)]}var i;return r.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(Ga.ascending),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return i},r.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?i[n-1]:t[0],n<i.length?i[n]:t[t.length-1]]},r.copy=function(){return xo(t,e)},n()}function _o(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return _o(t,e,n)},i()}function ko(t,e){function n(n){return n>=n?e[Ga.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ko(t,e)},n}function Co(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return fo(t,e)},e.tickFormat=function(e,n){return po(t,e,n)},e.copy=function(){return Co(t)},e}function Mo(t){return t.innerRadius}function So(t){return t.outerRadius}function Eo(t){return t.startAngle}function Ao(t){return t.endAngle}function Do(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,f=e.length,d=ge(n),p=ge(r);++h<f;)i.call(this,u=e[h],h)?c.push([+d.call(this,u,h),+p.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Hn,r=Yn,i=qe,o=To,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=xl.get(t)||To).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function To(t){return t.join("L")}function Po(t){return To(t)+"Z"}function Bo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function $o(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function No(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Io(t,e){return t.length<4?To(t):t[1]+Ro(t.slice(1,t.length-1),Lo(t,e))}function Oo(t,e){return t.length<3?To(t):t[0]+Ro((t.push(t[0]),t),Lo([t[t.length-2]].concat(t,[t[1]]),e))}function Fo(t,e){return t.length<3?To(t):t[0]+Ro(t,Lo(t,e))}function Ro(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return To(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Lo(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function jo(t){if(t.length<3)return To(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Uo(Cl,a),",",Uo(Cl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),qo(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Wo(t){if(t.length<4)return To(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Uo(Cl,o)+","+Uo(Cl,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),qo(n,o,a);return n.join("")}function zo(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Uo(Cl,a),",",Uo(Cl,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),qo(e,a,s);return e.join("")}function Vo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return jo(t)}function Uo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function qo(t,e,n){t.push("C",Uo(_l,e),",",Uo(_l,n),",",Uo(kl,e),",",Uo(kl,n),",",Uo(Cl,e),",",Uo(Cl,n))}function Ho(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Yo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Ho(i,o);++e<n;)r[e]=(a+(a=Ho(i=o,o=t[e+1])))/2;return r[e]=a,r}function Xo(t){for(var e,n,r,i,o=[],a=Yo(t),s=-1,u=t.length-1;++s<u;)e=Ho(t[s],t[s+1]),ls(e)<Ts?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Go(t){return t.length<3?To(t):t[0]+Ro(t,Xo(t))}function Ko(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]+bl,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Zo(t){function e(e){function u(){g.push("M",s(t(v),h),c,l(t(m.reverse()),h),"Z")}for(var f,d,p,g=[],m=[],v=[],y=-1,b=e.length,w=ge(n),x=ge(i),_=n===r?function(){return d}:ge(r),k=i===o?function(){return p}:ge(o);++y<b;)a.call(this,f=e[y],y)?(m.push([d=+w.call(this,f,y),p=+x.call(this,f,y)]),v.push([+_.call(this,f,y),+k.call(this,f,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=Hn,r=Hn,i=0,o=Yn,a=qe,s=To,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=xl.get(t)||To).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Qo(t){return t.radius}function Jo(t){return[t.x,t.y]}function ta(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]+bl;return[n*Math.cos(r),n*Math.sin(r)]}}function ea(){return 64}function na(){return"circle"}function ra(t){var e=Math.sqrt(t/Es);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function ia(t,e){return ps(t,Tl),t.id=e,t}function oa(t,e,n,r){var i=t.id;return D(t,"function"==typeof n?function(t,o,a){t.__transition__[i].tween.set(e,r(n.call(t,t.__data__,o,a)))}:(n=r(n),function(t){t.__transition__[i].tween.set(e,n)}))}function aa(t){return null==t&&(t=""),function(){this.textContent=t}}function sa(t,e,n,r){var o=t.__transition__||(t.__transition__={active:0,count:0}),a=o[n];if(!a){var s=r.time;a=o[n]={tween:new i,time:s,ease:r.ease,delay:r.delay,duration:r.duration},++o.count,Ga.timer(function(r){function i(r){return o.active>n?l():(o.active=n,a.event&&a.event.start.call(t,c,e),a.tween.forEach(function(n,r){(r=r.call(t,c,e))&&g.push(r)}),void Ga.timer(function(){return p.c=u(r||1)?qe:u,1},0,s))}function u(r){if(o.active!==n)return l();for(var i=r/d,s=h(i),u=g.length;u>0;)g[--u].call(t,s);return i>=1?(a.event&&a.event.end.call(t,c,e),l()):void 0}function l(){return--o.count?delete o[n]:delete t.__transition__,1}var c=t.__data__,h=a.ease,f=a.delay,d=a.duration,p=Js,g=[];return p.t=f+s,r>=f?i(r-f):void(p.c=i)},0,s)}}function ua(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function la(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function ca(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ha(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new Fl(n-1)),1),n}function o(t,n){return e(t=new Fl(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{Fl=ca;var r=new ca;return r._=t,a(r,e,n)}finally{Fl=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=fa(t);return u.floor=u,u.round=fa(r),u.ceil=fa(i),u.offset=fa(o),u.range=s,t}function fa(t){return function(e,n){try{Fl=ca;var r=new ca;return r._=e,t(r,n)._}finally{Fl=Date}}}function da(t){function e(e){for(var r,i,o,a=[],s=-1,u=0;++s<n;)37===t.charCodeAt(s)&&(a.push(t.substring(u,s)),null!=(i=nc[r=t.charAt(++s)])&&(r=t.charAt(++s)),(o=rc[r])&&(r=o(e,null==i?"e"===r?" ":"0":i)),a.push(r),u=s+1);return a.push(t.substring(u,s)),a.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=pa(n,t,e,0);if(r!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Fl!==ca,o=new(i?ca:Fl);return"j"in n?o.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+Math.floor(n.Z/100),n.M+n.Z%100,n.S,n.L),i?o._:o},e.toString=function(){return t},e}function pa(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;u>s;){if(r>=l)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=ic[a in nc?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function ga(t){return new RegExp("^(?:"+t.map(Ga.requote).join("|")+")","i")}function ma(t){for(var e=new i,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function va(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function ya(t,e,n){Gl.lastIndex=0;var r=Gl.exec(e.substring(n));return r?(t.w=Kl.get(r[0].toLowerCase()),n+r[0].length):-1}function ba(t,e,n){Yl.lastIndex=0;var r=Yl.exec(e.substring(n));return r?(t.w=Xl.get(r[0].toLowerCase()),n+r[0].length):-1}function wa(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xa(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n));return r?(t.U=+r[0],n+r[0].length):-1}function _a(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n));return r?(t.W=+r[0],n+r[0].length):-1}function ka(t,e,n){Jl.lastIndex=0;var r=Jl.exec(e.substring(n));return r?(t.m=tc.get(r[0].toLowerCase()),n+r[0].length):-1}function Ca(t,e,n){Zl.lastIndex=0;var r=Zl.exec(e.substring(n));return r?(t.m=Ql.get(r[0].toLowerCase()),n+r[0].length):-1}function Ma(t,e,n){return pa(t,rc.c.toString(),e,n)}function Sa(t,e,n){return pa(t,rc.x.toString(),e,n)}function Ea(t,e,n){return pa(t,rc.X.toString(),e,n)}function Aa(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Da(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+2));return r?(t.y=Pa(+r[0]),n+r[0].length):-1}function Ta(t,e,n){return/^[+-]\d{4}$/.test(e=e.substring(n,n+5))?(t.Z=+e,n+5):-1}function Pa(t){return t+(t>68?1900:2e3)}function Ba(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $a(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Na(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function Ia(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Oa(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fa(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ra(t,e,n){oc.lastIndex=0;var r=oc.exec(e.substring(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function La(t,e,n){var r=ac.get(e.substring(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}function ja(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=~~(ls(e)/60),i=ls(e)%60;return n+va(r,"0",2)+va(i,"0",2)}function Wa(t,e,n){ec.lastIndex=0;var r=ec.exec(e.substring(n,n+1));return r?n+r[0].length:-1}function za(t){function e(t){try{Fl=ca;var e=new Fl;return e._=t,n(e)}finally{Fl=Date}}var n=da(t);return e.parse=function(t){try{Fl=ca;var e=n.parse(t);return e&&e._}finally{Fl=Date}},e.toString=n.toString,e}function Va(t){return t.toISOString()}function Ua(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=Ga.bisect(uc,i);return o==uc.length?[e.year,ho(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/uc[o-1]<uc[o]/i?o-1:o]:[fc,ho(t,n)[2]]}return r.invert=function(e){return qa(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(qa)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,qa(+n+1),e).length}var o=r.domain(),a=no(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(oo(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=qa(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=qa(+e+1);return e}}:t))},r.ticks=function(t,e){var n=no(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],qa(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ua(t.copy(),e,n)},lo(r,t)}function qa(t){return new Date(t)}function Ha(t){return function(e){for(var n=t.length-1,r=t[n];!r[1](e);)r=t[--n];return r[0](e)}}function Ya(t){return JSON.parse(t.responseText)}function Xa(t){var e=Qa.createRange();return e.selectNode(Qa.body),e.createContextualFragment(t.responseText)}var Ga={version:"3.3.13"};Date.now||(Date.now=function(){return+new Date});var Ka=[].slice,Za=function(t){return Ka.call(t)},Qa=document,Ja=Qa.documentElement,ts=window;try{Za(Ja.childNodes)[0].nodeType}catch(es){Za=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{Qa.createElement("div").style.setProperty("opacity",0,"")}catch(ns){var rs=ts.Element.prototype,is=rs.setAttribute,os=rs.setAttributeNS,as=ts.CSSStyleDeclaration.prototype,ss=as.setProperty;rs.setAttribute=function(t,e){is.call(this,t,e+"")},rs.setAttributeNS=function(t,e,n){os.call(this,t,e,n+"")},as.setProperty=function(t,e,n){ss.call(this,t,e+"",n)}}Ga.ascending=function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0},Ga.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},Ga.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},Ga.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&!(null!=(n=t[i])&&n>=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&!(null!=(n=e.call(t,t[i],i))&&n>=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},Ga.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&!(null!=(n=i=t[o])&&n>=n);)n=i=void 0;for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a&&!(null!=(n=i=e.call(t,t[o],o))&&n>=n);)n=void 0;for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},Ga.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+t[o])||(r+=n);else for(;++o<i;)isNaN(n=+e.call(t,t[o],o))||(r+=n);return r},Ga.mean=function(e,n){var r,i=e.length,o=0,a=-1,s=0;if(1===arguments.length)for(;++a<i;)t(r=e[a])&&(o+=(r-o)/++s);else for(;++a<i;)t(r=n.call(e,e[a],a))&&(o+=(r-o)/++s);return s?o:void 0},Ga.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},Ga.median=function(e,n){return arguments.length>1&&(e=e.map(n)),e=e.filter(t),e.length?Ga.quantile(e.sort(Ga.ascending),.5):void 0},Ga.bisector=function(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t.call(e,e[o],o)<n?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;n<t.call(e,e[o],o)?i=o:r=o+1}return r}}};var us=Ga.bisector(function(t){return t});Ga.bisectLeft=us.left,Ga.bisect=Ga.bisectRight=us.right,Ga.shuffle=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t},Ga.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},Ga.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},Ga.zip=function(){if(!(i=arguments.length))return[];for(var t=-1,n=Ga.min(arguments,e),r=new Array(n);++t<n;)for(var i,o=-1,a=r[t]=new Array(i);++o<i;)a[o]=arguments[o][t];return r},Ga.transpose=function(t){return Ga.zip.apply(Ga,t)},Ga.keys=function(t){var e=[];for(var n in t)e.push(n);return e},Ga.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},Ga.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Ga.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var ls=Math.abs;Ga.range=function(t,e,r){if(arguments.length<3&&(r=1,arguments.length<2&&(e=t,t=0)),(e-t)/r===1/0)throw new Error("infinite range");var i,o=[],a=n(ls(r)),s=-1;if(t*=a,e*=a,r*=a,0>r)for(;(i=t+r*++s)>e;)o.push(i/a);else for(;(i=t+r*++s)<e;)o.push(i/a);return o},Ga.map=function(t){var e=new i;if(t instanceof i)t.forEach(function(t,n){e.set(t,n)});else for(var n in t)e.set(n,t[n]);return e},r(i,{has:function(t){return cs+t in this},get:function(t){return this[cs+t]},set:function(t,e){return this[cs+t]=e},remove:function(t){return t=cs+t,t in this&&delete this[t]},keys:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},values:function(){var t=[];return this.forEach(function(e,n){t.push(n)}),t},entries:function(){var t=[];return this.forEach(function(e,n){t.push({key:e,value:n})}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===hs&&t.call(this,e.substring(1),this[e])}});var cs="\x00",hs=cs.charCodeAt(0);Ga.nest=function(){function t(e,s,u){if(u>=a.length)return r?r.call(o,s):n?s.sort(n):s;for(var l,c,h,f,d=-1,p=s.length,g=a[u++],m=new i;++d<p;)(f=m.get(l=g(c=s[d])))?f.push(c):m.set(l,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,u))}):(c={},h=function(n,r){c[n]=t(e,r,u)}),m.forEach(h),c}function e(t,n){if(n>=a.length)return t;var r=[],i=s[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,o={},a=[],s=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(Ga.map,n,0),0)},o.key=function(t){return a.push(t),o},o.sortKeys=function(t){return s[a.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},Ga.set=function(t){var e=new o;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},r(o,{has:function(t){return cs+t in this},add:function(t){return this[cs+t]=!0,t},remove:function(t){return t=cs+t,t in this&&delete this[t]},values:function(){var t=[];return this.forEach(function(e){t.push(e)}),t},forEach:function(t){for(var e in this)e.charCodeAt(0)===hs&&t.call(this,e.substring(1))}}),Ga.behavior={},Ga.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=a(t,e,e[n]);return t};var fs=["webkit","ms","moz","Moz","o","O"];Ga.dispatch=function(){for(var t=new l,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=c(t);return t},l.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.substring(n+1),t=t.substring(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},Ga.event=null,Ga.requote=function(t){return t.replace(ds,"\\$&")};var ds=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ps={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},gs=function(t,e){return e.querySelector(t)},ms=function(t,e){return e.querySelectorAll(t)},vs=Ja[s(Ja,"matchesSelector")],ys=function(t,e){return vs.call(t,e)};"function"==typeof Sizzle&&(gs=function(t,e){return Sizzle(t,e)[0]||null},ms=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},ys=Sizzle.matchesSelector),Ga.selection=function(){return _s};var bs=Ga.selection.prototype=[];bs.select=function(t){var e,n,r,i,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return p(o)},bs.selectAll=function(t){var e,n,r=[];t=m(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=Za(t.call(n,n.__data__,s,i))),e.parentNode=n);return p(r)};var ws={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Ga.ns={prefix:ws,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.substring(0,e),t=t.substring(e+1)),ws.hasOwnProperty(n)?{space:ws[n],local:t}:t}},bs.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=Ga.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(v(e,t[e]));return this}return this.each(v(t,e))},bs.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=w(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!b(t[i]).test(e))return!1;return!0}for(e in t)this.each(x(e,t[e]));return this}return this.each(x(t,e))},bs.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(k(n,t[n],e));return this}if(2>r)return ts.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(k(t,e,n))},bs.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(C(e,t[e]));return this}return this.each(C(t,e))},bs.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},bs.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},bs.append=function(t){return t=M(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},bs.insert=function(t,e){return t=M(t),e=g(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},bs.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},bs.data=function(t,e){function n(t,n){var r,o,a,s=t.length,h=n.length,f=Math.min(s,h),d=new Array(h),p=new Array(h),g=new Array(s);if(e){var m,v=new i,y=new i,b=[];for(r=-1;++r<s;)m=e.call(o=t[r],o.__data__,r),v.has(m)?g[r]=o:v.set(m,o),b.push(m);for(r=-1;++r<h;)m=e.call(n,a=n[r],r),(o=v.get(m))?(d[r]=o,o.__data__=a):y.has(m)||(p[r]=S(a)),y.set(m,a),v.remove(m);for(r=-1;++r<s;)v.has(b[r])&&(g[r]=t[r])}else{for(r=-1;++r<f;)o=t[r],a=n[r],o?(o.__data__=a,d[r]=o):p[r]=S(a);for(;h>r;++r)p[r]=S(n[r]);for(;s>r;++r)g[r]=t[r]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,u.push(p),l.push(d),c.push(g)}var r,o,a=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(r=this[0]).length);++a<s;)(o=r[a])&&(t[a]=o.__data__);return t}var u=T([]),l=p([]),c=p([]);if("function"==typeof t)for(;++a<s;)n(r=this[a],t.call(r,r.parentNode.__data__,a));else for(;++a<s;)n(r=this[a],t);return l.enter=function(){return u},l.exit=function(){return c},l},bs.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},bs.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=E(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return p(i)},bs.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},bs.sort=function(t){t=A.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},bs.each=function(t){return D(this,function(e,n,r){t.call(e,e.__data__,n,r)})},bs.call=function(t){var e=Za(arguments);return t.apply(e[0]=this,e),this},bs.empty=function(){return!this.node()},bs.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},bs.size=function(){var t=0;return this.each(function(){++t}),t};var xs=[];Ga.selection.enter=T,Ga.selection.enter.prototype=xs,xs.append=bs.append,xs.empty=bs.empty,xs.node=bs.node,xs.call=bs.call,xs.size=bs.size,xs.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return p(a)},xs.insert=function(t,e){return arguments.length<2&&(e=P(this)),bs.insert.call(this,t,e)},bs.transition=function(){for(var t,e,n=Sl||++Pl,r=[],i=El||{time:Date.now(),ease:Wr,delay:0,duration:250},o=-1,a=this.length;++o<a;){r.push(t=[]);for(var s=this[o],u=-1,l=s.length;++u<l;)(e=s[u])&&sa(e,u,n,i),t.push(e)}return ia(r,n)},bs.interrupt=function(){return this.each(B)},Ga.select=function(t){var e=["string"==typeof t?gs(t,Qa):t];return e.parentNode=Ja,p([e])},Ga.selectAll=function(t){var e=Za("string"==typeof t?ms(t,Qa):t);return e.parentNode=Ja,p([e])};var _s=Ga.select(Ja);bs.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each($(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each($(t,e,n))};var ks=Ga.map({mouseenter:"mouseover",mouseleave:"mouseout"});ks.forEach(function(t){"on"+t in Qa&&ks.remove(t)
});var Cs="onselectstart"in Qa?null:s(Ja.style,"userSelect"),Ms=0;Ga.mouse=function(t){return F(t,f())};var Ss=/WebKit/.test(ts.navigator.userAgent)?-1:0;Ga.touches=function(t,e){return arguments.length<2&&(e=f().touches),e?Za(e).map(function(e){var n=F(t,e);return n.identifier=e.identifier,n}):[]},Ga.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",s)}function e(){return Ga.event.changedTouches[0].identifier}function n(t,e){return Ga.touches(t).filter(function(t){return t.identifier===e})[0]}function r(t,e,n,r){return function(){function a(){var t=e(c,d),n=t[0]-g[0],r=t[1]-g[1];m|=n|r,g=t,h({type:"drag",x:t[0]+u[0],y:t[1]+u[1],dx:n,dy:r})}function s(){v.on(n+"."+p,null).on(r+"."+p,null),y(m&&Ga.event.target===f),h({type:"dragend"})}var u,l=this,c=l.parentNode,h=i.of(l,arguments),f=Ga.event.target,d=t(),p=null==d?"drag":"drag-"+d,g=e(c,d),m=0,v=Ga.select(ts).on(n+"."+p,a).on(r+"."+p,s),y=O();o?(u=o.apply(l,arguments),u=[u.x-g[0],u.y-g[1]]):u=[0,0],h({type:"dragstart"})}}var i=d(t,"drag","dragstart","dragend"),o=null,a=r(u,Ga.mouse,"mousemove","mouseup"),s=r(e,n,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},Ga.rebind(t,i,"on")};var Es=Math.PI,As=2*Es,Ds=Es/2,Ts=1e-6,Ps=Ts*Ts,Bs=Es/180,$s=180/Es,Ns=Math.SQRT2,Is=2,Os=4;Ga.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=z(g),a=o/(Is*f)*(n*V(Ns*e+g)-W(g));return[r+a*l,i+a*c,o*n/z(Ns*e+g)]}return[r+t*l,i+t*c,o*Math.exp(Ns*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,h=l*l+c*c,f=Math.sqrt(h),d=(u*u-o*o+Os*h)/(2*o*Is*f),p=(u*u-o*o-Os*h)/(2*u*Is*f),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(u/o))/Ns;return n.duration=1e3*y,n},Ga.behavior.zoom=function(){function t(t){t.on(E,l).on(Ls+".zoom",f).on(A,p).on("dblclick.zoom",g).on(T,c)}function e(t){return[(t[0]-C.x)/C.k,(t[1]-C.y)/C.k]}function n(t){return[t[0]*C.k+C.x,t[1]*C.k+C.y]}function r(t){C.k=Math.max(S[0],Math.min(S[1],t))}function i(t,e){e=n(e),C.x+=t[0]-e[0],C.y+=t[1]-e[1]}function o(){x&&x.domain(w.range().map(function(t){return(t-C.x)/C.k}).map(w.invert)),k&&k.domain(_.range().map(function(t){return(t-C.y)/C.k}).map(_.invert))}function a(t){t({type:"zoomstart"})}function s(t){o(),t({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function u(t){t({type:"zoomend"})}function l(){function t(){c=1,i(Ga.mouse(r),f),s(o)}function n(){h.on(A,ts===r?p:null).on(D,null),d(c&&Ga.event.target===l),u(o)}var r=this,o=P.of(r,arguments),l=Ga.event.target,c=0,h=Ga.select(ts).on(A,t).on(D,n),f=e(Ga.mouse(r)),d=O();B.call(r),a(o)}function c(){function t(){var t=Ga.touches(p);return d=C.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){for(var e=Ga.event.changedTouches,n=0,o=e.length;o>n;++n)m[e[n].identifier]=null;var a=t(),u=Date.now();if(1===a.length){if(500>u-b){var l=a[0],c=m[l.identifier];r(2*C.k),i(l,c),h(),s(g)}b=u}else if(a.length>1){var l=a[0],f=a[1],d=l[0]-f[0],p=l[1]-f[1];v=d*d+p*p}}function o(){for(var t,e,n,o,a=Ga.touches(p),u=0,l=a.length;l>u;++u,o=null)if(n=a[u],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*d)}b=null,i(t,e),s(g)}function f(){if(Ga.event.touches.length){for(var e=Ga.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var i in m)return void t()}_.on(w,null).on(x,null),k.on(E,l).on(T,c),M(),u(g)}var d,p=this,g=P.of(p,arguments),m={},v=0,y=Ga.event.changedTouches[0].identifier,w="touchmove.zoom-"+y,x="touchend.zoom-"+y,_=Ga.select(ts).on(w,o).on(x,f),k=Ga.select(p).on(E,null).on(T,n),M=O();B.call(p),n(),a(g)}function f(){var t=P.of(this,arguments);y?clearTimeout(y):(B.call(this),a(t)),y=setTimeout(function(){y=null,u(t)},50),h();var n=v||Ga.mouse(this);m||(m=e(n)),r(Math.pow(2,.002*Fs())*C.k),i(n,m),s(t)}function p(){m=null}function g(){var t=P.of(this,arguments),n=Ga.mouse(this),o=e(n),l=Math.log(C.k)/Math.LN2;a(t),r(Math.pow(2,Ga.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1)),i(n,o),s(t),u(t)}var m,v,y,b,w,x,_,k,C={x:0,y:0,k:1},M=[960,500],S=Rs,E="mousedown.zoom",A="mousemove.zoom",D="mouseup.zoom",T="touchstart.zoom",P=d(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=P.of(this,arguments),e=C;Sl?Ga.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},a(t)}).tween("zoom:zoom",function(){var n=M[0],r=M[1],i=n/2,o=r/2,a=Ga.interpolateZoom([(i-C.x)/C.k,(o-C.y)/C.k,n/C.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),u=n/r[2];this.__chart__=C={x:i-r[0]*u,y:o-r[1]*u,k:u},s(t)}}).each("end.zoom",function(){u(t)}):(this.__chart__=C,a(t),s(t),u(t))})},t.translate=function(e){return arguments.length?(C={x:+e[0],y:+e[1],k:C.k},o(),t):[C.x,C.y]},t.scale=function(e){return arguments.length?(C={x:C.x,y:C.y,k:+e},o(),t):C.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?Rs:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(M=e&&[+e[0],+e[1]],t):M},t.x=function(e){return arguments.length?(x=e,w=e.copy(),C={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(k=e,_=e.copy(),C={x:0,y:0,k:1},t):k},Ga.rebind(t,P,"on")};var Fs,Rs=[0,1/0],Ls="onwheel"in Qa?(Fs=function(){return-Ga.event.deltaY*(Ga.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Qa?(Fs=function(){return Ga.event.wheelDelta},"mousewheel"):(Fs=function(){return-Ga.event.detail},"MozMousePixelScroll");q.prototype.toString=function(){return this.rgb()+""},Ga.hsl=function(t,e,n){return 1===arguments.length?t instanceof Y?H(t.h,t.s,t.l):ce(""+t,he,H):H(+t,+e,+n)};var js=Y.prototype=new q;js.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),H(this.h,this.s,this.l/t)},js.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),H(this.h,this.s,t*this.l)},js.rgb=function(){return X(this.h,this.s,this.l)},Ga.hcl=function(t,e,n){return 1===arguments.length?t instanceof K?G(t.h,t.c,t.l):t instanceof J?ee(t.l,t.a,t.b):ee((t=fe((t=Ga.rgb(t)).r,t.g,t.b)).l,t.a,t.b):G(+t,+e,+n)};var Ws=K.prototype=new q;Ws.brighter=function(t){return G(this.h,this.c,Math.min(100,this.l+zs*(arguments.length?t:1)))},Ws.darker=function(t){return G(this.h,this.c,Math.max(0,this.l-zs*(arguments.length?t:1)))},Ws.rgb=function(){return Z(this.h,this.c,this.l).rgb()},Ga.lab=function(t,e,n){return 1===arguments.length?t instanceof J?Q(t.l,t.a,t.b):t instanceof K?Z(t.l,t.c,t.h):fe((t=Ga.rgb(t)).r,t.g,t.b):Q(+t,+e,+n)};var zs=18,Vs=.95047,Us=1,qs=1.08883,Hs=J.prototype=new q;Hs.brighter=function(t){return Q(Math.min(100,this.l+zs*(arguments.length?t:1)),this.a,this.b)},Hs.darker=function(t){return Q(Math.max(0,this.l-zs*(arguments.length?t:1)),this.a,this.b)},Hs.rgb=function(){return te(this.l,this.a,this.b)},Ga.rgb=function(t,e,n){return 1===arguments.length?t instanceof ue?se(t.r,t.g,t.b):ce(""+t,se,X):se(~~t,~~e,~~n)};var Ys=ue.prototype=new q;Ys.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),se(Math.min(255,~~(e/t)),Math.min(255,~~(n/t)),Math.min(255,~~(r/t)))):se(i,i,i)},Ys.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),se(~~(t*this.r),~~(t*this.g),~~(t*this.b))},Ys.hsl=function(){return he(this.r,this.g,this.b)},Ys.toString=function(){return"#"+le(this.r)+le(this.g)+le(this.b)};var Xs=Ga.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Xs.forEach(function(t,e){Xs.set(t,oe(e))}),Ga.functor=ge,Ga.xhr=ve(me),Ga.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=ye(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(s).join(t)}function s(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.substring(e,c-s)}return t.substring(e)}for(var r,i,o={},a={},s=[],u=t.length,c=0,h=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();(!e||(f=e(f,h++)))&&s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new o,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(s).join(t)].concat(e.map(function(e){return i.map(function(t){return s(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},Ga.csv=Ga.dsv(",","text/csv"),Ga.tsv=Ga.dsv("	","text/tab-separated-values");var Gs,Ks,Zs,Qs,Js,tu=ts[s(ts,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Ga.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};Ks?Ks.n=o:Gs=o,Ks=o,Zs||(Qs=clearTimeout(Qs),Zs=1,tu(we))},Ga.timer.flush=function(){xe(),_e()};var eu=".",nu=",",ru=[3,3],iu="$",ou=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(ke);Ga.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=Ga.round(t,Ce(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),ou[8+n/3]},Ga.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},Ga.format=function(t){var e=au.exec(t),n=e[1]||" ",r=e[2]||">",i=e[3]||"",o=e[4]||"",a=e[5],s=+e[6],u=e[7],l=e[8],c=e[9],h=1,f="",d=!1;switch(l&&(l=+l.substring(1)),(a||"0"===n&&"="===r)&&(a=n="0",r="=",u&&(s-=Math.floor((s-1)/4))),c){case"n":u=!0,c="g";break;case"%":h=100,f="%",c="f";break;case"p":h=100,f="%",c="r";break;case"b":case"o":case"x":case"X":"#"===o&&(o="0"+c.toLowerCase());case"c":case"d":d=!0,l=0;break;case"s":h=-1,c="r"}"#"===o?o="":"$"===o&&(o=iu),"r"!=c||l||(c="g"),null!=l&&("g"==c?l=Math.max(1,Math.min(21,l)):("e"==c||"f"==c)&&(l=Math.max(0,Math.min(20,l)))),c=su.get(c)||Me;var p=a&&u;return function(t){if(d&&t%1)return"";var e=0>t||0===t&&0>1/t?(t=-t,"-"):i;if(0>h){var g=Ga.formatPrefix(t,l);t=g.scale(t),f=g.symbol}else t*=h;t=c(t,l);var m=t.lastIndexOf("."),v=0>m?t:t.substring(0,m),y=0>m?"":eu+t.substring(m+1);!a&&u&&(v=uu(v));var b=o.length+v.length+y.length+(p?0:e.length),w=s>b?new Array(b=s-b+1).join(n):"";return p&&(v=uu(w+v)),e+=o,t=v+y,("<"===r?e+t+w:">"===r?w+e+t:"^"===r?w.substring(0,b>>=1)+e+t+w.substring(b):e+(p?t:w+t))+f}};var au=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,su=Ga.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=Ga.round(t,Ce(t,e))).toFixed(Math.max(0,Math.min(20,Ce(t*(1+1e-15),e))))}}),uu=me;if(ru){var lu=ru.length;uu=function(t){for(var e=t.length,n=[],r=0,i=ru[0];e>0&&i>0;)n.push(t.substring(e-=i,e+i)),i=ru[r=(r+1)%lu];return n.reverse().join(nu)}}Ga.geo={},Se.prototype={s:0,t:0,add:function(t){Ee(t,this.t,cu),Ee(cu.s,this.s,this),this.s?this.t+=cu.t:this.s=cu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var cu=new Se;Ga.geo.stream=function(t,e){t&&hu.hasOwnProperty(t.type)?hu[t.type](t,e):Ae(t,e)};var hu={Feature:function(t,e){Ae(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ae(n[r].geometry,e)}},fu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){De(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)De(n[r],e,0)},Polygon:function(t,e){Te(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Te(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ae(n[r],e)}};Ga.geo.area=function(t){return du=0,Ga.geo.stream(t,gu),du};var du,pu=new Se,gu={sphere:function(){du+=4*Es},point:u,lineStart:u,lineEnd:u,polygonStart:function(){pu.reset(),gu.lineStart=Pe},polygonEnd:function(){var t=2*pu;du+=0>t?4*Es+t:t,gu.lineStart=gu.lineEnd=gu.point=u}};Ga.geo.bounds=function(){function t(t,e){b.push(w=[c=t,f=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var r=Be([e*Bs,n*Bs]);if(v){var i=Ne(v,r),o=[i[1],-i[0],0],a=Ne(o,i);Fe(a),a=Re(a);var u=e-p,l=u>0?1:-1,g=a[0]*$s*l,m=ls(u)>180;if(m^(g>l*p&&l*e>g)){var y=a[1]*$s;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(g>l*p&&l*e>g)){var y=-a[1]*$s;h>y&&(h=y)}else h>n&&(h=n),n>d&&(d=n);m?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=r,p=e}function n(){x.point=e}function r(){w[0]=c,w[1]=f,x.point=t,v=null}function i(t,n){if(v){var r=t-p;y+=ls(r)>180?r+(r>0?360:-360):r}else g=t,m=n;gu.point(t,n),e(t,n)}function o(){gu.lineStart()}function a(){i(g,m),gu.lineEnd(),ls(y)>Ts&&(c=-(f=180)),w[0]=c,w[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,d,p,g,m,v,y,b,w,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,gu.polygonStart()},polygonEnd:function(){gu.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,0>pu?(c=-(f=180),h=-(d=90)):y>Ts?d=90:-Ts>y&&(h=-90),w[0]=c,w[1]=f}};return function(t){d=f=-(c=h=1/0),b=[],Ga.geo.stream(t,x);var e=b.length;if(e){b.sort(u);for(var n,r=1,i=b[0],o=[i];e>r;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-1/0,e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],f=i[1])}return b=w=null,1/0===c||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[c,h],[f,d]]}}(),Ga.geo.centroid=function(t){mu=vu=yu=bu=wu=xu=_u=ku=Cu=Mu=Su=0,Ga.geo.stream(t,Eu);var e=Cu,n=Mu,r=Su,i=e*e+n*n+r*r;return Ps>i&&(e=xu,n=_u,r=ku,Ts>vu&&(e=yu,n=bu,r=wu),i=e*e+n*n+r*r,Ps>i)?[0/0,0/0]:[Math.atan2(n,e)*$s,j(r/Math.sqrt(i))*$s]};var mu,vu,yu,bu,wu,xu,_u,ku,Cu,Mu,Su,Eu={sphere:u,point:je,lineStart:ze,lineEnd:Ve,polygonStart:function(){Eu.lineStart=Ue},polygonEnd:function(){Eu.lineStart=ze}},Au=Ge(qe,tn,nn,[-Es,-Es/2]),Du=1e9;Ga.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=an(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(Ga.geo.conicEqualArea=function(){return un(ln)}).raw=ln,Ga.geo.albers=function(){return Ga.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Ga.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=Ga.geo.albers(),a=Ga.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Ga.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,r=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Ts,h+.12*l+Ts],[c-.214*l-Ts,h+.234*l-Ts]]).stream(u).point,i=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Ts,h+.166*l+Ts],[c-.115*l-Ts,h+.234*l-Ts]]).stream(u).point,t},t.scale(1070)};var Tu,Pu,Bu,$u,Nu,Iu,Ou={point:u,lineStart:u,lineEnd:u,polygonStart:function(){Pu=0,Ou.lineStart=cn},polygonEnd:function(){Ou.lineStart=Ou.lineEnd=Ou.point=u,Tu+=ls(Pu/2)}},Fu={point:hn,lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u},Ru={point:pn,lineStart:gn,lineEnd:mn,polygonStart:function(){Ru.lineStart=vn},polygonEnd:function(){Ru.point=pn,Ru.lineStart=gn,Ru.lineEnd=mn}};Ga.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),Ga.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Tu=0,Ga.geo.stream(t,i(Ou)),Tu},t.centroid=function(t){return yu=bu=wu=xu=_u=ku=Cu=Mu=Su=0,Ga.geo.stream(t,i(Ru)),Su?[Cu/Su,Mu/Su]:ku?[xu/ku,_u/ku]:wu?[yu/wu,bu/wu]:[0/0,0/0]},t.bounds=function(t){return Nu=Iu=-(Bu=$u=1/0),Ga.geo.stream(t,i(Fu)),[[Bu,$u],[Nu,Iu]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||wn(t):me,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new fn:new yn(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(Ga.geo.albersUsa()).context(null)},Ga.geo.transform=function(t){return{stream:function(e){var n=new xn(e);for(var r in t)n[r]=t[r];return n}}},xn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Ga.geo.projection=kn,Ga.geo.projectionMutator=Cn,(Ga.geo.equirectangular=function(){return kn(Sn)}).raw=Sn.invert=Sn,Ga.geo.rotation=function(t){function e(e){return e=t(e[0]*Bs,e[1]*Bs),e[0]*=$s,e[1]*=$s,e}return t=An(t[0]%360*Bs,t[1]*Bs,t.length>2?t[2]*Bs:0),e.invert=function(e){return e=t.invert(e[0]*Bs,e[1]*Bs),e[0]*=$s,e[1]*=$s,e},e},En.invert=Sn,Ga.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=An(-t[0]*Bs,-t[1]*Bs,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=$s,t[1]*=$s}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=Bn((e=+r)*Bs,i*Bs),t):e},t.precision=function(r){return arguments.length?(n=Bn(e*Bs,(i=+r)*Bs),t):i},t.angle(90)},Ga.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Bs,i=t[1]*Bs,o=e[1]*Bs,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},Ga.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Ga.range(Math.ceil(o/m)*m,i,m).map(f).concat(Ga.range(Math.ceil(l/v)*v,u,v).map(d)).concat(Ga.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ls(t%m)>Ts}).map(c)).concat(Ga.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ls(t%v)>Ts}).map(h))}var n,r,i,o,a,s,u,l,c,h,f,d,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(i).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=Nn(s,a,90),h=In(r,n,y),f=Nn(l,u,90),d=In(o,i,y),t):y},t.majorExtent([[-180,-90+Ts],[180,90-Ts]]).minorExtent([[-180,-80-Ts],[180,80+Ts]])},Ga.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=On,i=Fn;return t.distance=function(){return Ga.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},Ga.geo.interpolate=function(t,e){return Rn(t[0]*Bs,t[1]*Bs,e[0]*Bs,e[1]*Bs)},Ga.geo.length=function(t){return Lu=0,Ga.geo.stream(t,ju),Lu};var Lu,ju={sphere:u,point:u,lineStart:Ln,lineEnd:u,polygonStart:u,polygonEnd:u},Wu=jn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Ga.geo.azimuthalEqualArea=function(){return kn(Wu)}).raw=Wu;var zu=jn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},me);(Ga.geo.azimuthalEquidistant=function(){return kn(zu)}).raw=zu,(Ga.geo.conicConformal=function(){return un(Wn)}).raw=Wn,(Ga.geo.conicEquidistant=function(){return un(zn)}).raw=zn;var Vu=jn(function(t){return 1/t},Math.atan);(Ga.geo.gnomonic=function(){return kn(Vu)}).raw=Vu,Vn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ds]},(Ga.geo.mercator=function(){return Un(Vn)}).raw=Vn;var Uu=jn(function(){return 1},Math.asin);(Ga.geo.orthographic=function(){return kn(Uu)}).raw=Uu;var qu=jn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Ga.geo.stereographic=function(){return kn(qu)}).raw=qu,qn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ds]},(Ga.geo.transverseMercator=function(){var t=Un(qn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[-t[1],t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},t.rotate([0,0])}).raw=qn,Ga.geom={},Ga.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i,o,a,s,u,l,c,h,f,d,p,g=ge(n),m=ge(r),v=t.length,y=v-1,b=[],w=[],x=0;if(g===Hn&&r===Yn)e=t;else for(o=0,e=[];v>o;++o)e.push([+g.call(this,i=t[o],o),+m.call(this,i,o)]);for(o=1;v>o;++o)(e[o][1]<e[x][1]||e[o][1]==e[x][1]&&e[o][0]<e[x][0])&&(x=o);for(o=0;v>o;++o)o!==x&&(u=e[o][1]-e[x][1],s=e[o][0]-e[x][0],b.push({angle:Math.atan2(u,s),index:o}));for(b.sort(function(t,e){return t.angle-e.angle}),d=b[0].angle,f=b[0].index,h=0,o=1;y>o;++o){if(a=b[o].index,d==b[o].angle){if(s=e[f][0]-e[x][0],u=e[f][1]-e[x][1],l=e[a][0]-e[x][0],c=e[a][1]-e[x][1],s*s+u*u>=l*l+c*c){b[o].index=-1;continue}b[h].index=-1}d=b[o].angle,h=o,f=a}for(w.push(x),o=0,a=0;2>o;++a)b[a].index>-1&&(w.push(b[a].index),o++);for(p=w.length;y>a;++a)if(!(b[a].index<0)){for(;!Xn(w[p-2],w[p-1],b[a].index,e);)--p;w[p++]=b[a].index}var _=[];for(o=p-1;o>=0;--o)_.push(t[w[o]]);return _}var n=Hn,r=Yn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},Ga.geom.polygon=function(t){return ps(t,Hu),t};var Hu=Ga.geom.polygon.prototype=[];Hu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Hu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Hu.clip=function(t){for(var e,n,r,i,o,a,s=Zn(t),u=-1,l=this.length-Zn(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Gn(a,c,i)?(Gn(o,c,i)||t.push(Kn(o,a,c,i)),t.push(a)):Gn(o,c,i)&&t.push(Kn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Yu,Xu,Gu,Ku,Zu,Qu=[],Ju=[];or.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(sr),e.length},vr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},yr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=_r(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(wr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,xr(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(xr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,wr(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?_r(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,wr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,xr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,wr(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,xr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,wr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,xr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},Ga.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return kr(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ts)*Ts,y:Math.round(a(t,e)/Ts)*Ts,i:e}})}var r=Hn,i=Yn,o=r,a=i,s=tl;return t?e(t):(e.links=function(t){return kr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return kr(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(sr),u=-1,l=s.length,c=s[l-1].edge,h=c.l===a?c.r:c.l;++u<l;)i=c,o=h,c=s[u].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&Mr(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=ge(r=t),e):r},e.y=function(t){return arguments.length?(a=ge(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?tl:t,e):s===tl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===tl?null:s&&s[1]},e)};var tl=[[-1e6,-1e6],[1e6,1e6]];Ga.geom.delaunay=function(t){return Ga.geom.voronoi().triangles(t)},Ga.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(ls(u-n)+ls(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),h=n>=l,f=r>=c,d=(f<<1)+h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=Ar()),h?i=l:s=l,f?a=c:u=c,o(t,e,n,r,i,a,s,u)}var c,h,f,d,p,g,m,v,y,b=ge(s),w=ge(u);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),h=[],f=[],p=t.length,a)for(d=0;p>d;++d)c=t[d],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),f.push(c.y);else for(d=0;p>d;++d){var x=+b(c=t[d],d),_=+w(c,d);g>x&&(g=x),m>_&&(m=_),x>v&&(v=x),_>y&&(y=_),h.push(x),f.push(_)}var k=v-g,C=y-m;k>C?y=m+k:v=g+C;var M=Ar();if(M.add=function(t){o(M,t,+b(t,++d),+w(t,d),g,m,v,y)},M.visit=function(t){Dr(t,M,g,m,v,y)},d=-1,null==e){for(;++d<p;)o(M,t[d],h[d],f[d],g,m,v,y);--d}else t.forEach(M.add);return h=f=t=c=null,M}var a,s=Hn,u=Yn;return(a=arguments.length)?(s=Sr,u=Er,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},Ga.interpolateRgb=Tr,Ga.interpolateObject=Pr,Ga.interpolateNumber=Br,Ga.interpolateString=$r;var el=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Ga.interpolate=Nr,Ga.interpolators=[function(t,e){var n=typeof e;return("string"===n?Xs.has(e)||/^(#|rgb\(|hsl\()/.test(e)?Tr:$r:e instanceof q?Tr:"object"===n?Array.isArray(e)?Ir:Pr:Br)(t,e)}],Ga.interpolateArray=Ir;var nl=function(){return me},rl=Ga.map({linear:nl,poly:zr,quad:function(){return Lr},cubic:function(){return jr},sin:function(){return Vr},exp:function(){return Ur},circle:function(){return qr},elastic:Hr,back:Yr,bounce:function(){return Xr}}),il=Ga.map({"in":me,out:Fr,"in-out":Rr,"out-in":function(t){return Rr(Fr(t))}});Ga.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,r=e>=0?t.substring(e+1):"in";
return n=rl.get(n)||nl,r=il.get(r)||me,Or(r(n.apply(null,Ka.call(arguments,1))))},Ga.interpolateHcl=Gr,Ga.interpolateHsl=Kr,Ga.interpolateLab=Zr,Ga.interpolateRound=Qr,Ga.transform=function(t){var e=Qa.createElementNS(Ga.ns.prefix.svg,"g");return(Ga.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Jr(n?n.matrix:ol)})(t)},Jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ol={a:1,b:0,c:0,d:1,e:0,f:0};Ga.interpolateTransform=ri,Ga.layout={},Ga.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(ai(t[n]));return e}},Ga.layout.chord=function(){function t(){var t,l,h,f,d,p={},g=[],m=Ga.range(o),v=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(l=0,d=-1;++d<o;)l+=i[f][d];g.push(l),v.push(Ga.range(o)),t+=l}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(As-c*o)/t,l=0,f=-1;++f<o;){for(h=l,d=-1;++d<o;){var y=m[f],b=v[y][d],w=i[y][b],x=l,_=l+=w*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}r[y]={index:y,startAngle:h,endAngle:l,value:(l-h)/t},l+=c}for(f=-1;++f<o;)for(d=f-1;++d<o;){var k=p[f+"-"+d],C=p[d+"-"+f];(k.value||C.value)&&n.push(k.value<C.value?{source:C,target:k}:{source:k,target:C})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},Ga.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=1/Math.sqrt(o*o+a*a);if(g>(i-n)*s){var u=e.charge*s*s;return t.px-=o*u,t.py-=a*u,!0}if(e.point&&isFinite(s)){var u=e.pointCharge*s*s;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=Ga.event.x,t.py=Ga.event.y,s.resume()}var n,r,i,o,a,s={},u=Ga.dispatch("start","tick","end"),l=[1,1],c=.9,h=al,f=sl,d=-30,p=.1,g=.8,m=[],v=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,h,f,g,y,b,w,x=m.length,_=v.length;for(n=0;_>n;++n)s=v[n],h=s.source,f=s.target,b=f.x-h.x,w=f.y-h.y,(g=b*b+w*w)&&(g=r*o[n]*((g=Math.sqrt(g))-i[n])/g,b*=g,w*=g,f.x-=b*(y=h.weight/(f.weight+h.weight)),f.y-=w*y,h.x+=b*(y=1-y),h.y+=w*y);if((y=r*p)&&(b=l[0]/2,w=l[1]/2,n=-1,y))for(;++n<x;)s=m[n],s.x+=(b-s.x)*y,s.y+=(w-s.y)*y;if(d)for(di(e=Ga.geom.quadtree(m),r,a),n=-1;++n<x;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=m[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(v=t,s):v},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.gravity=function(t){return arguments.length?(p=+t,s):p},s.theta=function(t){return arguments.length?(g=+t,s):g},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),Ga.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;l>s;++s){var i=v[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=m.length,c=v.length,p=l[0],g=l[1];for(e=0;u>e;++e)(r=m[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=v[e],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(e=0;u>e;++e)r=m[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;c>e;++e)i[e]=+h.call(this,v[e],e);else for(e=0;c>e;++e)i[e]=h;if(o=[],"function"==typeof f)for(e=0;c>e;++e)o[e]=+f.call(this,v[e],e);else for(e=0;c>e;++e)o[e]=f;if(a=[],"function"==typeof d)for(e=0;u>e;++e)a[e]=+d.call(this,m[e],e);else for(e=0;u>e;++e)a[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=Ga.behavior.drag().origin(me).on("dragstart.force",li).on("drag.force",e).on("dragend.force",ci)),arguments.length?void this.on("mouseover.force",hi).on("mouseout.force",fi).call(n):n},Ga.rebind(s,u,"on")};var al=20,sl=1;Ga.layout.hierarchy=function(){function t(e,a,s){var u=i.call(n,e,a);if(e.depth=a,s.push(e),u&&(l=u.length)){for(var l,c,h=-1,f=e.children=new Array(l),d=0,p=a+1;++h<l;)c=f[h]=t(u[h],p,s),c.parent=e,d+=c.value;r&&f.sort(r),o&&(e.value=d)}else delete e.children,o&&(e.value=+o.call(n,e,a)||0);return e}function e(t,r){var i=t.children,a=0;if(i&&(s=i.length))for(var s,u=-1,l=r+1;++u<s;)a+=e(i[u],l);else o&&(a=+o.call(n,t,r)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var r=vi,i=gi,o=mi;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(t){return arguments.length?(i=t,n):i},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n},Ga.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=Ga.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},pi(n,r)},Ga.layout.pie=function(){function t(o){var a=o.map(function(n,r){return+e.call(t,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-s)/Ga.sum(a),l=Ga.range(o.length);null!=n&&l.sort(n===ul?function(t,e){return a[e]-a[t]}:function(t,e){return n(o[t],o[e])});var c=[];return l.forEach(function(t){var e;c[t]={data:o[t],value:e=a[t],startAngle:s,endAngle:s+=e*u}}),c}var e=Number,n=ul,r=0,i=As;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var ul={};Ga.layout.stack=function(){function t(s,u){var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=Ga.permute(l,h),c=Ga.permute(c,h);var f,d,p,g=r.call(t,c,u),m=l.length,v=l[0].length;for(d=0;v>d;++d)for(i.call(t,l[0][d],p=g[d],c[0][d][1]),f=1;m>f;++f)i.call(t,l[f][d],p+=c[f-1][d][1],c[f][d][1]);return s}var e=me,n=_i,r=ki,i=xi,o=bi,a=wi;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ll.get(e)||_i,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:cl.get(e)||ki,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var ll=Ga.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Ci),o=t.map(Mi),a=Ga.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;r>e;++e)n=a[e],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return Ga.range(t.length).reverse()},"default":_i}),cl=Ga.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;f>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;f>n;++n)d[n]-=l;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:ki});Ga.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),h=i.call(this,c,l,o),o=-1,f=l.length,d=h.length-1,p=e?1:1/f;++o<d;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(d>0)for(o=-1;++o<f;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[Ga.bisect(h,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,r=Di,i=Ei;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=ge(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Ai(t,e)}:ge(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},Ga.layout.tree=function(){function t(t,o){function a(t,e){var r=t.children,i=t._tree;if(r&&(o=r.length)){for(var o,s,l,c=r[0],h=c,f=-1;++f<o;)l=r[f],a(l,s),h=u(l,s,h),s=l;Ri(t);var d=.5*(c._tree.prelim+l._tree.prelim);e?(i.prelim=e._tree.prelim+n(t,e),i.mod=i.prelim-d):i.prelim=d}else e&&(i.prelim=e._tree.prelim+n(t,e))}function s(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(r=n.length)){var r,i=-1;for(e+=t._tree.mod;++i<r;)s(n[i],e)}}function u(t,e,r){if(e){for(var i,o=t,a=t,s=e,u=t.parent.children[0],l=o._tree.mod,c=a._tree.mod,h=s._tree.mod,f=u._tree.mod;s=Bi(s),o=Pi(o),s&&o;)u=Pi(u),a=Bi(a),a._tree.ancestor=t,i=s._tree.prelim+h-o._tree.prelim-l+n(s,o),i>0&&(Li(ji(s,t,r),t,i),l+=i,c+=i),h+=s._tree.mod,l+=o._tree.mod,f+=u._tree.mod,c+=a._tree.mod;s&&!Bi(a)&&(a._tree.thread=s,a._tree.mod+=h-c),o&&!Pi(u)&&(u._tree.thread=o,u._tree.mod+=l-f,r=t)}return r}var l=e.call(this,t,o),c=l[0];Fi(c,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),a(c),s(c,-c._tree.prelim);var h=$i(c,Ii),f=$i(c,Ni),d=$i(c,Oi),p=h.x-n(h,f)/2,g=f.x+n(f,h)/2,m=d.depth||1;return Fi(c,i?function(t){t.x*=r[0],t.y=t.depth*r[1],delete t._tree}:function(t){t.x=(t.x-p)/(g-p)*r[0],t.y=t.depth/m*r[1],delete t._tree}),l}var e=Ga.layout.hierarchy().sort(null).value(null),n=Ti,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},pi(t,e)},Ga.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Fi(s,function(t){t.r=+c(t.value)}),Fi(s,qi),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;Fi(s,function(t){t.r+=h}),Fi(s,qi),Fi(s,function(t){t.r-=h})}return Xi(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=Ga.layout.hierarchy().sort(Wi),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},pi(t,n)},Ga.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;Fi(u,function(t){var e=t.children;e&&e.length?(t.x=Zi(e),t.y=Ki(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Qi(u),h=Ji(u),f=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return Fi(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(d-f)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=Ga.layout.hierarchy().sort(null).value(null),n=Ti,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},pi(t,e)},Ga.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],f=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/n.value),c.area=0;(u=f.length)>0;)c.push(a=f[u-1]),c.area+=a.area,"squarify"!==d||(s=r(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=i),i}var a,s=Ga.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=to,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?to(e):eo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return eo(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?to:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},pi(o,s)},Ga.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=Ga.random.normal.apply(Ga,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=Ga.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},Ga.scale={};var hl={floor:me,ceil:me};Ga.scale.linear=function(){return uo([0,1],[0,1],Nr,!1)};var fl={s:1,g:1,p:1,r:1,e:1};Ga.scale.log=function(){return vo(Ga.scale.linear().domain([0,1]),10,!0,[1,10])};var dl=Ga.format(".0e"),pl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Ga.scale.pow=function(){return yo(Ga.scale.linear(),1,[0,1])},Ga.scale.sqrt=function(){return Ga.scale.pow().exponent(.5)},Ga.scale.ordinal=function(){return wo([],{t:"range",a:[[]]})},Ga.scale.category10=function(){return Ga.scale.ordinal().range(gl)},Ga.scale.category20=function(){return Ga.scale.ordinal().range(ml)},Ga.scale.category20b=function(){return Ga.scale.ordinal().range(vl)},Ga.scale.category20c=function(){return Ga.scale.ordinal().range(yl)};var gl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),ml=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),vl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),yl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);Ga.scale.quantile=function(){return xo([],[])},Ga.scale.quantize=function(){return _o(0,1,[0,1])},Ga.scale.threshold=function(){return ko([.5],[0,1])},Ga.scale.identity=function(){return Co([0,1])},Ga.svg={},Ga.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+bl,s=i.apply(this,arguments)+bl,u=(a>s&&(u=a,a=s,s=u),s-a),l=Es>u?"0":"1",c=Math.cos(a),h=Math.sin(a),f=Math.cos(s),d=Math.sin(s);return u>=wl?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*f+","+o*d+"L"+t*f+","+t*d+"A"+t+","+t+" 0 "+l+",0 "+t*c+","+t*h+"Z":"M"+o*c+","+o*h+"A"+o+","+o+" 0 "+l+",1 "+o*f+","+o*d+"L0,0Z"}var e=Mo,n=So,r=Eo,i=Ao;return t.innerRadius=function(n){return arguments.length?(e=ge(n),t):e},t.outerRadius=function(e){return arguments.length?(n=ge(e),t):n},t.startAngle=function(e){return arguments.length?(r=ge(e),t):r},t.endAngle=function(e){return arguments.length?(i=ge(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+bl;return[Math.cos(o)*t,Math.sin(o)*t]},t};var bl=-Ds,wl=As-Ts;Ga.svg.line=function(){return Do(me)};var xl=Ga.map({linear:To,"linear-closed":Po,step:Bo,"step-before":$o,"step-after":No,basis:jo,"basis-open":Wo,"basis-closed":zo,bundle:Vo,cardinal:Fo,"cardinal-open":Io,"cardinal-closed":Oo,monotone:Go});xl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var _l=[0,2/3,1/3,0],kl=[0,1/3,2/3,0],Cl=[0,1/6,2/3,1/6];Ga.svg.line.radial=function(){var t=Do(Ko);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},$o.reverse=No,No.reverse=$o,Ga.svg.area=function(){return Zo(me)},Ga.svg.area.radial=function(){var t=Zo(Ko);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Ga.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)+bl,c=l.call(t,i,r)+bl;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Es)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=On,a=Fn,s=Qo,u=Eo,l=Ao;return t.radius=function(e){return arguments.length?(s=ge(e),t):s},t.source=function(e){return arguments.length?(o=ge(e),t):o},t.target=function(e){return arguments.length?(a=ge(e),t):a},t.startAngle=function(e){return arguments.length?(u=ge(e),t):u},t.endAngle=function(e){return arguments.length?(l=ge(e),t):l},t},Ga.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=On,n=Fn,r=Jo;return t.source=function(n){return arguments.length?(e=ge(n),t):e},t.target=function(e){return arguments.length?(n=ge(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},Ga.svg.diagonal.radial=function(){var t=Ga.svg.diagonal(),e=Jo,n=t.projection;return t.projection=function(t){return arguments.length?n(ta(e=t)):e},t},Ga.svg.symbol=function(){function t(t,r){return(Ml.get(e.call(this,t,r))||ra)(n.call(this,t,r))}var e=na,n=ea;return t.type=function(n){return arguments.length?(e=ge(n),t):e},t.size=function(e){return arguments.length?(n=ge(e),t):n},t};var Ml=Ga.map({circle:ra,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Dl)),n=e*Dl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Al),n=e*Al/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Al),n=e*Al/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});Ga.svg.symbolTypes=Ml.keys();var Sl,El,Al=Math.sqrt(3),Dl=Math.tan(30*Bs),Tl=[],Pl=0;Tl.call=bs.call,Tl.empty=bs.empty,Tl.node=bs.node,Tl.size=bs.size,Ga.transition=function(t){return arguments.length?Sl?t.transition():t:_s.transition()},Ga.transition.prototype=Tl,Tl.select=function(t){var e,n,r,i=this.id,o=[];t=g(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]);for(var u=this[a],l=-1,c=u.length;++l<c;)(r=u[l])&&(n=t.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),sa(n,l,i,r.__transition__[i]),e.push(n)):e.push(null)}return ia(o,i)},Tl.selectAll=function(t){var e,n,r,i,o,a=this.id,s=[];t=m(t);for(var u=-1,l=this.length;++u<l;)for(var c=this[u],h=-1,f=c.length;++h<f;)if(r=c[h]){o=r.__transition__[a],n=t.call(r,r.__data__,h,u),s.push(e=[]);for(var d=-1,p=n.length;++d<p;)(i=n[d])&&sa(i,d,a,o),e.push(i)}return ia(s,a)},Tl.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=E(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return ia(i,this.id)},Tl.tween=function(t,e){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(t):D(this,null==e?function(e){e.__transition__[n].tween.remove(t)}:function(r){r.__transition__[n].tween.set(t,e)})},Tl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?ri:Nr,s=Ga.ns.qualify(t);return oa(this,"attr."+t,e,s.local?o:i)},Tl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=Ga.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Tl.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=ts.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=Nr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return oa(this,"style."+t,e,i)},Tl.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,ts.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Tl.text=function(t){return oa(this,"text",t,aa)},Tl.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Tl.ease=function(t){var e=this.id;return arguments.length<1?this.node().__transition__[e].ease:("function"!=typeof t&&(t=Ga.ease.apply(Ga,arguments)),D(this,function(n){n.__transition__[e].ease=t}))},Tl.delay=function(t){var e=this.id;return D(this,"function"==typeof t?function(n,r,i){n.__transition__[e].delay=+t.call(n,n.__data__,r,i)}:(t=+t,function(n){n.__transition__[e].delay=t}))},Tl.duration=function(t){var e=this.id;return D(this,"function"==typeof t?function(n,r,i){n.__transition__[e].duration=Math.max(1,t.call(n,n.__data__,r,i))}:(t=Math.max(1,t),function(n){n.__transition__[e].duration=t}))},Tl.each=function(t,e){var n=this.id;if(arguments.length<2){var r=El,i=Sl;Sl=n,D(this,function(e,r,i){El=e.__transition__[n],t.call(e,e.__data__,r,i)}),El=r,Sl=i}else D(this,function(r){var i=r.__transition__[n];(i.event||(i.event=Ga.dispatch("start","end"))).on(t,e)});return this},Tl.transition=function(){for(var t,e,n,r,i=this.id,o=++Pl,a=[],s=0,u=this.length;u>s;s++){a.push(t=[]);for(var e=this[s],l=0,c=e.length;c>l;l++)(n=e[l])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,sa(n,l,o,r)),t.push(n)}return ia(a,o)},Ga.svg.axis=function(){function t(t){t.each(function(){var t,l=Ga.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):me:e,p=l.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ts),m=Ga.transition(p.exit()).style("opacity",Ts).remove(),v=Ga.transition(p).style("opacity",1),y=ro(h),b=l.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),Ga.transition(b));g.append("line"),g.append("text");var x=g.select("line"),_=v.select("line"),k=p.select("text").text(d),C=g.select("text"),M=v.select("text");switch(r){case"bottom":t=ua,x.attr("y2",i),C.attr("y",Math.max(i,0)+a),_.attr("x2",0).attr("y2",i),M.attr("x",0).attr("y",Math.max(i,0)+a),k.attr("dy",".71em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+o+"V0H"+y[1]+"V"+o);break;case"top":t=ua,x.attr("y2",-i),C.attr("y",-(Math.max(i,0)+a)),_.attr("x2",0).attr("y2",-i),M.attr("x",0).attr("y",-(Math.max(i,0)+a)),k.attr("dy","0em").style("text-anchor","middle"),w.attr("d","M"+y[0]+","+-o+"V0H"+y[1]+"V"+-o);break;case"left":t=la,x.attr("x2",-i),C.attr("x",-(Math.max(i,0)+a)),_.attr("x2",-i).attr("y2",0),M.attr("x",-(Math.max(i,0)+a)).attr("y",0),k.attr("dy",".32em").style("text-anchor","end"),w.attr("d","M"+-o+","+y[0]+"H0V"+y[1]+"H"+-o);break;case"right":t=la,x.attr("x2",i),C.attr("x",Math.max(i,0)+a),_.attr("x2",i).attr("y2",0),M.attr("x",Math.max(i,0)+a).attr("y",0),k.attr("dy",".32em").style("text-anchor","start"),w.attr("d","M"+o+","+y[0]+"H0V"+y[1]+"H"+o)}if(h.rangeBand){var S=h,E=S.rangeBand()/2;c=h=function(t){return S(t)+E}}else c.rangeBand?c=h:m.call(t,h);g.call(t,c),v.call(t,h)})}var e,n=Ga.scale.linear(),r=Bl,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in $l?e+"":Bl,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Bl="bottom",$l={top:1,right:1,bottom:1,left:1};Ga.svg.brush=function(){function t(o){o.each(function(){var o=Ga.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(m,me);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Nl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,h=Ga.transition(o),f=Ga.transition(a);u&&(c=ro(u),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(h)),l&&(c=ro(l),f.attr("y",c[0]).attr("height",c[1]-c[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==Ga.event.keyCode&&(A||(b=null,T[0]-=c[1],T[1]-=f[1],A=2),h())}function d(){32==Ga.event.keyCode&&2==A&&(T[0]+=c[1],T[1]+=f[1],A=0,h())}function m(){var t=Ga.mouse(x),i=!1;w&&(t[0]+=w[0],t[1]+=w[1]),A||(Ga.event.altKey?(b||(b=[(c[0]+c[1])/2,(f[0]+f[1])/2]),T[0]=c[+(t[0]<b[0])],T[1]=f[+(t[1]<b[1])]):b=null),S&&v(t,u,0)&&(n(C),i=!0),E&&v(t,l,1)&&(r(C),i=!0),i&&(e(C),k({type:"brush",mode:A?"move":"resize"}))}function v(t,e,n){var r,i,s=ro(e),u=s[0],l=s[1],h=T[n],d=n?f:c,m=d[1]-d[0];return A&&(u-=h,l-=m+h),r=(n?g:p)?Math.max(u,Math.min(l,t[n])):t[n],A?i=(r+=h)+m:(b&&(h=Math.max(u,Math.min(l,2*b[n]-r))),r>h?(i=r,r=h):i=h),d[0]!=r||d[1]!=i?(n?a=null:o=null,d[0]=r,d[1]=i,!0):void 0}function y(){m(),C.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Ga.select("body").style("cursor",null),P.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),D(),k({type:"brushend"})}var b,w,x=this,_=Ga.select(Ga.event.target),k=s.of(x,arguments),C=Ga.select(x),M=_.datum(),S=!/^(n|s)$/.test(M)&&u,E=!/^(e|w)$/.test(M)&&l,A=_.classed("extent"),D=O(),T=Ga.mouse(x),P=Ga.select(ts).on("keydown.brush",i).on("keyup.brush",d);if(Ga.event.changedTouches?P.on("touchmove.brush",m).on("touchend.brush",y):P.on("mousemove.brush",m).on("mouseup.brush",y),C.interrupt().selectAll("*").interrupt(),A)T[0]=c[0]-T[0],T[1]=f[0]-T[1];else if(M){var B=+/w$/.test(M),$=+/^n/.test(M);w=[c[1-B]-T[0],f[1-$]-T[1]],T[0]=c[B],T[1]=f[$]}else Ga.event.altKey&&(b=T.slice());C.style("pointer-events","none").selectAll(".resize").style("display",null),Ga.select("body").style("cursor",_.style("cursor")),k({type:"brushstart"}),m()}var o,a,s=d(t,"brushstart","brush","brushend"),u=null,l=null,c=[0,0],f=[0,0],p=!0,g=!0,m=Il[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:f,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Sl?Ga.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Ir(c,e.x),r=Ir(f,e.y);return o=a=null,function(i){c=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,m=Il[!u<<1|!l],t):u},t.y=function(e){return arguments.length?(l=e,m=Il[!u<<1|!l],t):l},t.clamp=function(e){return arguments.length?(u&&l?(p=!!e[0],g=!!e[1]):u?p=!!e:l&&(g=!!e),t):u&&l?[p,g]:u?p:l?g:null},t.extent=function(e){var n,r,i,s,h;return arguments.length?(u&&(n=e[0],r=e[1],l&&(n=n[0],r=r[0]),o=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(h=n,n=r,r=h),(n!=c[0]||r!=c[1])&&(c=[n,r])),l&&(i=e[0],s=e[1],u&&(i=i[1],s=s[1]),a=[i,s],l.invert&&(i=l(i),s=l(s)),i>s&&(h=i,i=s,s=h),(i!=f[0]||s!=f[1])&&(f=[i,s])),t):(u&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(h=n,n=r,r=h))),l&&(a?(i=a[0],s=a[1]):(i=f[0],s=f[1],l.invert&&(i=l.invert(i),s=l.invert(s)),i>s&&(h=i,i=s,s=h))),u&&l?[[n,i],[r,s]]:u?[n,r]:l&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],f=[0,0],o=a=null),t},t.empty=function(){return!!u&&c[0]==c[1]||!!l&&f[0]==f[1]},Ga.rebind(t,s,"on")};var Nl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Il=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ol=Ga.time={},Fl=Date,Rl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];ca.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()
},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ll.setUTCDate.apply(this._,arguments)},setDay:function(){Ll.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ll.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ll.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ll.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ll.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ll.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ll.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ll.setTime.apply(this._,arguments)}};var Ll=Date.prototype,jl="%a %b %e %X %Y",Wl="%m/%d/%Y",zl="%H:%M:%S",Vl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ul=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ql=["January","February","March","April","May","June","July","August","September","October","November","December"],Hl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Ol.year=ha(function(t){return t=Ol.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),Ol.years=Ol.year.range,Ol.years.utc=Ol.year.utc.range,Ol.day=ha(function(t){var e=new Fl(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),Ol.days=Ol.day.range,Ol.days.utc=Ol.day.utc.range,Ol.dayOfYear=function(t){var e=Ol.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},Rl.forEach(function(t,e){t=t.toLowerCase(),e=7-e;var n=Ol[t]=ha(function(t){return(t=Ol.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=Ol.year(t).getDay();return Math.floor((Ol.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});Ol[t+"s"]=n.range,Ol[t+"s"].utc=n.utc.range,Ol[t+"OfYear"]=function(t){var n=Ol.year(t).getDay();return Math.floor((Ol.dayOfYear(t)+(n+e)%7)/7)}}),Ol.week=Ol.sunday,Ol.weeks=Ol.sunday.range,Ol.weeks.utc=Ol.sunday.utc.range,Ol.weekOfYear=Ol.sundayOfYear,Ol.format=da;var Yl=ga(Vl),Xl=ma(Vl),Gl=ga(Ul),Kl=ma(Ul),Zl=ga(ql),Ql=ma(ql),Jl=ga(Hl),tc=ma(Hl),ec=/^%/,nc={"-":"",_:" ",0:"0"},rc={a:function(t){return Ul[t.getDay()]},A:function(t){return Vl[t.getDay()]},b:function(t){return Hl[t.getMonth()]},B:function(t){return ql[t.getMonth()]},c:da(jl),d:function(t,e){return va(t.getDate(),e,2)},e:function(t,e){return va(t.getDate(),e,2)},H:function(t,e){return va(t.getHours(),e,2)},I:function(t,e){return va(t.getHours()%12||12,e,2)},j:function(t,e){return va(1+Ol.dayOfYear(t),e,3)},L:function(t,e){return va(t.getMilliseconds(),e,3)},m:function(t,e){return va(t.getMonth()+1,e,2)},M:function(t,e){return va(t.getMinutes(),e,2)},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t,e){return va(t.getSeconds(),e,2)},U:function(t,e){return va(Ol.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return va(Ol.mondayOfYear(t),e,2)},x:da(Wl),X:da(zl),y:function(t,e){return va(t.getFullYear()%100,e,2)},Y:function(t,e){return va(t.getFullYear()%1e4,e,4)},Z:ja,"%":function(){return"%"}},ic={a:ya,A:ba,b:ka,B:Ca,c:Ma,d:$a,e:$a,H:Ia,I:Ia,j:Na,L:Ra,m:Ba,M:Oa,p:La,S:Fa,U:xa,w:wa,W:_a,x:Sa,X:Ea,y:Da,Y:Aa,Z:Ta,"%":Wa},oc=/^\s*\d+/,ac=Ga.map({am:0,pm:1});da.utc=za;var sc=za("%Y-%m-%dT%H:%M:%S.%LZ");da.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Va:sc,Va.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Va.toString=sc.toString,Ol.second=ha(function(t){return new Fl(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),Ol.seconds=Ol.second.range,Ol.seconds.utc=Ol.second.utc.range,Ol.minute=ha(function(t){return new Fl(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),Ol.minutes=Ol.minute.range,Ol.minutes.utc=Ol.minute.utc.range,Ol.hour=ha(function(t){var e=t.getTimezoneOffset()/60;return new Fl(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),Ol.hours=Ol.hour.range,Ol.hours.utc=Ol.hour.utc.range,Ol.month=ha(function(t){return t=Ol.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),Ol.months=Ol.month.range,Ol.months.utc=Ol.month.utc.range;var uc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],lc=[[Ol.second,1],[Ol.second,5],[Ol.second,15],[Ol.second,30],[Ol.minute,1],[Ol.minute,5],[Ol.minute,15],[Ol.minute,30],[Ol.hour,1],[Ol.hour,3],[Ol.hour,6],[Ol.hour,12],[Ol.day,1],[Ol.day,2],[Ol.week,1],[Ol.month,1],[Ol.month,3],[Ol.year,1]],cc=[[da("%Y"),qe],[da("%B"),function(t){return t.getMonth()}],[da("%b %d"),function(t){return 1!=t.getDate()}],[da("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[da("%I %p"),function(t){return t.getHours()}],[da("%I:%M"),function(t){return t.getMinutes()}],[da(":%S"),function(t){return t.getSeconds()}],[da(".%L"),function(t){return t.getMilliseconds()}]],hc=Ha(cc);lc.year=Ol.year,Ol.scale=function(){return Ua(Ga.scale.linear(),lc,hc)};var fc={range:function(t,e,n){return Ga.range(+t,+e,n).map(qa)},floor:me,ceil:me},dc=lc.map(function(t){return[t[0].utc,t[1]]}),pc=[[za("%Y"),qe],[za("%B"),function(t){return t.getUTCMonth()}],[za("%b %d"),function(t){return 1!=t.getUTCDate()}],[za("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[za("%I %p"),function(t){return t.getUTCHours()}],[za("%I:%M"),function(t){return t.getUTCMinutes()}],[za(":%S"),function(t){return t.getUTCSeconds()}],[za(".%L"),function(t){return t.getUTCMilliseconds()}]],gc=Ha(pc);return dc.year=Ol.year.utc,Ol.scale.utc=function(){return Ua(Ga.scale.linear(),dc,gc)},Ga.text=ve(function(t){return t.responseText}),Ga.json=function(t,e){return ye(t,"application/json",Ya,e)},Ga.html=function(t,e){return ye(t,"text/html",Xa,e)},Ga.xml=ve(function(t){return t.responseXML}),Ga}(),function(){function t(t,e){return new Date(e,t+1,0).getDate()}function e(t,e,n){return function(r,i,o){var a=t(r),s=[];if(r>a&&e(a),o>1)for(;i>a;){var u=new Date(+a);n(u)%o===0&&s.push(u),e(a)}else for(;i>a;)s.push(new Date(+a)),e(a);return s}}var n=window.nv||{};n.version="1.1.15b",n.dev=!0,window.nv=n,n.tooltip=n.tooltip||{},n.utils=n.utils||{},n.models=n.models||{},n.charts={},n.graphs=[],n.logs={},n.dispatch=d3.dispatch("render_start","render_end"),n.dev&&(n.dispatch.on("render_start",function(){n.logs.startTime=+new Date}),n.dispatch.on("render_end",function(){n.logs.endTime=+new Date,n.logs.totalTime=n.logs.endTime-n.logs.startTime,n.log("total",n.logs.totalTime)})),n.log=function(){if(n.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(n.dev&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},n.render=function(t){t=t||1,n.render.active=!0,n.dispatch.render_start(),setTimeout(function(){for(var e,r,i=0;t>i&&(r=n.render.queue[i]);i++)e=r.generate(),typeof r.callback==typeof Function&&r.callback(e),n.graphs.push(e);n.render.queue.splice(0,i),n.render.queue.length?setTimeout(arguments.callee,0):(n.dispatch.render_end(),n.render.active=!1)},0)},n.render.active=!1,n.render.queue=[],n.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),n.render.queue.push(t),n.render.active||n.render()},n.identity=function(t){return t},n.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=e(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1),e.setDate(t(e.getMonth()+1,e.getFullYear()))},function(t){return t.getMonth()}),n.interactiveGuideline=function(){"use strict";function t(h){h.each(function(h){function f(){var n=d3.mouse(this),r=n[0],i=n[1],u=!0,l=!1;if(c&&(r=d3.event.offsetX,i=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(u=!1),d3.event.target.className.baseVal.match("nv-legend")&&(l=!0)),u&&(r-=o.left,i-=o.top),0>r||0>i||r>p||i>g||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||l){if(c&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&d3.event.relatedTarget.className.match(e.nvPointerEventsClass))return;return s.elementMouseout({mouseX:r,mouseY:i}),void t.renderGuideLine(null)}var h=a.invert(r);s.elementMousemove({mouseX:r,mouseY:i,pointXValue:h}),"dblclick"===d3.event.type&&s.elementDblclick({mouseX:r,mouseY:i,pointXValue:h})}var d=d3.select(this),p=r||960,g=i||400,m=d.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([h]),v=m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");v.append("g").attr("class","nv-interactiveGuideLine"),l&&(l.on("mousemove",f,!0).on("mouseout",f,!0).on("dblclick",f),t.renderGuideLine=function(t){if(u){var e=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[n.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",g).attr("y2",0),e.exit().remove()}})})}var e=n.models.tooltip(),r=null,i=null,o={left:0,top:0},a=d3.scale.linear(),s=(d3.scale.linear(),d3.dispatch("elementMousemove","elementMouseout","elementDblclick")),u=!0,l=null,c=-1!==navigator.userAgent.indexOf("MSIE");return t.dispatch=s,t.tooltip=e,t.margin=function(e){return arguments.length?(o.top="undefined"!=typeof e.top?e.top:o.top,o.left="undefined"!=typeof e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(i=e,t):i},t.xScale=function(e){return arguments.length?(a=e,t):a},t.showGuideLine=function(e){return arguments.length?(u=e,t):u},t.svgContainer=function(e){return arguments.length?(l=e,t):l},t},n.interactiveBisect=function(t,e,n){"use strict";if(!t instanceof Array)return null;"function"!=typeof n&&(n=function(t){return t.x});var r=d3.bisector(n).left,i=d3.max([0,r(t,e)-1]),o=n(t[i],i);if("undefined"==typeof o&&(o=i),o===e)return i;var a=d3.min([i+1,t.length-1]),s=n(t[a],a);return"undefined"==typeof s&&(s=a),Math.abs(s-e)>=Math.abs(o-e)?i:a},n.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,o){var a=Math.abs(e-t);r>=a&&n>a&&(r=a,i=o)}),i},function(){"use strict";window.nv.tooltip={},window.nv.models.tooltip=function(){function t(){if(h){var t=d3.select(h);"svg"!==t.node().tagName&&(t=t.select("svg"));var e=t.node()?t.attr("viewBox"):null;if(e){e=e.split(" ");var n=parseInt(t.style("width"))/e[2];d.left=d.left*n,d.top=d.top*n}}}function e(t){var e;e=d3.select(h?h:"body");var n=e.select(".nvtooltip");return null===n.node()&&(n=e.append("div").attr("class","nvtooltip "+(c?c:"xy-tooltip")).attr("id",g)),n.node().innerHTML=t,n.style("top",0).style("left",0).style("opacity",0),n.selectAll("div, table, td, tr").classed(m,!0),n.classed(m,!0),n.node()}function r(){if(p&&w(o)){t();var i=d.left,c=null!=l?l:d.top,g=e(b(o));if(f=g,h){var m=h.getElementsByTagName("svg")[0],v=(m?m.getBoundingClientRect():h.getBoundingClientRect(),{left:0,top:0});if(m){var y=m.getBoundingClientRect(),x=h.getBoundingClientRect(),_=y.top;if(0>_){var k=h.getBoundingClientRect();_=Math.abs(_)>k.height?0:_}v.top=Math.abs(_-x.top),v.left=Math.abs(y.left-x.left)}i+=h.offsetLeft+v.left-2*h.scrollLeft,c+=h.offsetTop+v.top-2*h.scrollTop}return u&&u>0&&(c=Math.floor(c/u)*u),n.tooltip.calcTooltipPosition([i,c],a,s,g),r}}var i=null,o=null,a="w",s=50,u=25,l=null,c=null,h=null,f=null,d={left:null,top:null},p=!0,g="nvtooltip-"+Math.floor(1e5*Math.random()),m="nv-pointer-events-none",v=function(t){return t},y=function(t){return t},b=function(t){if(null!=i)return i;if(null==t)return"";var e=d3.select(document.createElement("table")),n=e.selectAll("thead").data([t]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(y(t.value));var r=e.selectAll("tbody").data([t]).enter().append("tbody"),o=r.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});o.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),o.append("td").classed("key",!0).html(function(t){return t.key}),o.append("td").classed("value",!0).html(function(t,e){return v(t.value,e)}),o.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;d3.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var a=e.node().outerHTML;return void 0!==t.footer&&(a+="<div class='footer'>"+t.footer+"</div>"),a},w=function(t){return t&&t.series&&t.series.length>0?!0:!1};return r.nvPointerEventsClass=m,r.content=function(t){return arguments.length?(i=t,r):i},r.tooltipElem=function(){return f},r.contentGenerator=function(t){return arguments.length?("function"==typeof t&&(b=t),r):b},r.data=function(t){return arguments.length?(o=t,r):o},r.gravity=function(t){return arguments.length?(a=t,r):a},r.distance=function(t){return arguments.length?(s=t,r):s},r.snapDistance=function(t){return arguments.length?(u=t,r):u},r.classes=function(t){return arguments.length?(c=t,r):c},r.chartContainer=function(t){return arguments.length?(h=t,r):h},r.position=function(t){return arguments.length?(d.left="undefined"!=typeof t.left?t.left:d.left,d.top="undefined"!=typeof t.top?t.top:d.top,r):d},r.fixedTop=function(t){return arguments.length?(l=t,r):l},r.enabled=function(t){return arguments.length?(p=t,r):p},r.valueFormatter=function(t){return arguments.length?("function"==typeof t&&(v=t),r):v},r.headerFormatter=function(t){return arguments.length?("function"==typeof t&&(y=t),r):y},r.id=function(){return g},r},n.tooltip.show=function(t,e,r,i,o,a){var s=document.createElement("div");s.className="nvtooltip "+(a?a:"xy-tooltip");var u=o;(!o||o.tagName.match(/g|svg/i))&&(u=document.getElementsByTagName("body")[0]),s.style.left=0,s.style.top=0,s.style.opacity=0,s.innerHTML=e,u.appendChild(s),o&&(t[0]=t[0]-o.scrollLeft,t[1]=t[1]-o.scrollTop),n.tooltip.calcTooltipPosition(t,r,i,s)},n.tooltip.findFirstNonSVGParent=function(t){for(;null!==t.tagName.match(/^g|svg$/i);)t=t.parentNode;return t},n.tooltip.findTotalOffsetTop=function(t,e){var n=e;do isNaN(t.offsetTop)||(n+=t.offsetTop);while(t=t.offsetParent);return n},n.tooltip.findTotalOffsetLeft=function(t,e){var n=e;do isNaN(t.offsetLeft)||(n+=t.offsetLeft);while(t=t.offsetParent);return n},n.tooltip.calcTooltipPosition=function(t,e,r,i){var o,a,s=parseInt(i.offsetHeight),u=parseInt(i.offsetWidth),l=n.utils.windowSize().width,c=n.utils.windowSize().height,h=window.pageYOffset,f=window.pageXOffset;c=window.innerWidth>=document.body.scrollWidth?c:c-16,l=window.innerHeight>=document.body.scrollHeight?l:l-16,e=e||"s",r=r||20;var d=function(t){return n.tooltip.findTotalOffsetTop(t,a)},p=function(t){return n.tooltip.findTotalOffsetLeft(t,o)};switch(e){case"e":o=t[0]-u-r,a=t[1]-s/2;var g=p(i),m=d(i);f>g&&(o=t[0]+r>f?t[0]+r:f-g+o),h>m&&(a=h-m+a),m+s>h+c&&(a=h+c-m+a-s);break;case"w":o=t[0]+r,a=t[1]-s/2;var g=p(i),m=d(i);g+u>l&&(o=t[0]-u-r),h>m&&(a=h+5),m+s>h+c&&(a=h+c-m+a-s);break;case"n":o=t[0]-u/2-5,a=t[1]+r;var g=p(i),m=d(i);f>g&&(o=f+5),g+u>l&&(o=o-u/2+5),m+s>h+c&&(a=h+c-m+a-s);break;case"s":o=t[0]-u/2,a=t[1]-s-r;var g=p(i),m=d(i);f>g&&(o=f+5),g+u>l&&(o=o-u/2+5),h>m&&(a=h);break;case"none":o=t[0],a=t[1]-r;var g=p(i),m=d(i)}return i.style.left=o+"px",i.style.top=a+"px",i.style.opacity=1,i.style.position="absolute",i},n.tooltip.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),n.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},n.utils.windowResize=function(t){if(void 0!==t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}}},n.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:n.utils.defaultColor()},n.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},n.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||d3.scale.category20().range();var r=n.length;return function(i){var o=e(i);return r||(r=n.length),"undefined"!=typeof t[o]?"function"==typeof t[o]?t[o]():t[o]:n[--r]}},n.utils.pjax=function(t,e){function r(r){d3.html(r,function(r){var i=d3.select(e).node();i.parentNode.replaceChild(d3.select(r).select(e).node(),i),n.utils.pjax(t,e)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},n.utils.calcApproxTextWidth=function(t){if("function"==typeof t.style&&"function"==typeof t.text){var e=parseInt(t.style("font-size").replace("px","")),n=t.text().length;return n*e*.5}return 0},n.utils.NaNtoZero=function(t){return"number"!=typeof t||isNaN(t)||null===t||1/0===t?0:t},n.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){"function"==typeof this[t]&&this[t](e)}.bind(this)),this},n.models.axis=function(){"use strict";function t(n){return n.each(function(t){var n=d3.select(this),o=n.selectAll("g.nv-wrap.nv-axis").data([t]),v=o.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),y=(v.append("g"),o.select("g"));null!==p?e.ticks(p):("top"==e.orient()||"bottom"==e.orient())&&e.ticks(Math.abs(a.range()[1]-a.range()[0])/100),y.transition().call(e),m=m||e.scale();var b=e.tickFormat();null==b&&(b=m.tickFormat());var w=y.selectAll("text.nv-axislabel").data([s||null]);switch(w.exit().remove(),e.orient()){case"top":w.enter().append("text").attr("class","nv-axislabel");var x=2==a.range().length?a.range()[1]:a.range()[a.range().length-1]+(a.range()[1]-a.range()[0]);if(w.attr("text-anchor","middle").attr("y",0).attr("x",x/2),u){var _=o.selectAll("g.nv-axisMaxMin").data(a.domain());_.enter().append("g").attr("class","nv-axisMaxMin").append("text"),_.exit().remove(),_.attr("transform",function(t){return"translate("+a(t)+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(t){var e=b(t);return(""+e).match("NaN")?"":e}),_.transition().attr("transform",function(t,e){return"translate("+a.range()[e]+",0)"})}break;case"bottom":var k=36,C=30,M=y.selectAll("g").select("text");if(c%360){M.each(function(){var t=this.getBBox().width;t>C&&(C=t)});var S=Math.abs(Math.sin(c*Math.PI/180)),k=(S?S*C:C)+30;M.attr("transform",function(){return"rotate("+c+" 0,0)"}).style("text-anchor",c%360>0?"start":"end")}w.enter().append("text").attr("class","nv-axislabel");var x=2==a.range().length?a.range()[1]:a.range()[a.range().length-1]+(a.range()[1]-a.range()[0]);if(w.attr("text-anchor","middle").attr("y",k).attr("x",x/2),u){var _=o.selectAll("g.nv-axisMaxMin").data([a.domain()[0],a.domain()[a.domain().length-1]]);_.enter().append("g").attr("class","nv-axisMaxMin").append("text"),_.exit().remove(),_.attr("transform",function(t){return"translate("+(a(t)+(d?a.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",function(){return"rotate("+c+" 0,0)"}).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t){var e=b(t);return(""+e).match("NaN")?"":e}),_.transition().attr("transform",function(t){return"translate("+(a(t)+(d?a.rangeBand()/2:0))+",0)"})}f&&M.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"});break;case"right":if(w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",h?"middle":"begin").attr("transform",h?"rotate(90)":"").attr("y",h?-Math.max(r.right,i)+12:-10).attr("x",h?a.range()[0]/2:e.tickPadding()),u){var _=o.selectAll("g.nv-axisMaxMin").data(a.domain());_.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),_.exit().remove(),_.attr("transform",function(t){return"translate(0,"+a(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(t){var e=b(t);return(""+e).match("NaN")?"":e}),_.transition().attr("transform",function(t,e){return"translate(0,"+a.range()[e]+")"}).select("text").style("opacity",1)}break;case"left":if(w.enter().append("text").attr("class","nv-axislabel"),w.style("text-anchor",h?"middle":"end").attr("transform",h?"rotate(-90)":"").attr("y",h?-Math.max(r.left,i)+g:-10).attr("x",h?-a.range()[0]/2:-e.tickPadding()),u){var _=o.selectAll("g.nv-axisMaxMin").data(a.domain());_.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),_.exit().remove(),_.attr("transform",function(t){return"translate(0,"+m(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(t){var e=b(t);return(""+e).match("NaN")?"":e}),_.transition().attr("transform",function(t,e){return"translate(0,"+a.range()[e]+")"}).select("text").style("opacity",1)}}if(w.text(function(t){return t}),!u||"left"!==e.orient()&&"right"!==e.orient()||(y.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(a(t)<a.range()[1]+10||a(t)>a.range()[0]-10)&&((t>1e-10||-1e-10>t)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),a.domain()[0]==a.domain()[1]&&0==a.domain()[0]&&o.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===e.orient()||"bottom"===e.orient())){var E=[];o.selectAll("g.nv-axisMaxMin").each(function(t,e){try{E.push(e?a(t)-this.getBBox().width-4:a(t)+this.getBBox().width+4)}catch(n){E.push(e?a(t)-4:a(t)+4)}}),y.selectAll("g").each(function(t){(a(t)<E[0]||a(t)>E[1])&&(t>1e-10||-1e-10>t?d3.select(this).remove():d3.select(this).select("text").remove())})}l&&y.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t.__data__)/1e6)&&void 0!==t.__data__}).classed("zero",!0),m=a.copy()}),t}var e=d3.svg.axis(),r={top:0,right:0,bottom:0,left:0},i=75,o=60,a=d3.scale.linear(),s=null,u=!0,l=!0,c=0,h=!0,f=!1,d=!1,p=null,g=12;e.scale(a).orient("bottom").tickFormat(function(t){return t});var m;return t.axis=e,d3.rebind(t,e,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,a,"domain","range","rangeBand","rangeBands"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(r.top="undefined"!=typeof e.top?e.top:r.top,r.right="undefined"!=typeof e.right?e.right:r.right,r.bottom="undefined"!=typeof e.bottom?e.bottom:r.bottom,r.left="undefined"!=typeof e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(i=e,t):i},t.ticks=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(o=e,t):o},t.axisLabel=function(e){return arguments.length?(s=e,t):s},t.showMaxMin=function(e){return arguments.length?(u=e,t):u},t.highlightZero=function(e){return arguments.length?(l=e,t):l},t.scale=function(n){return arguments.length?(a=n,e.scale(a),d="function"==typeof a.rangeBands,d3.rebind(t,a,"domain","range","rangeBand","rangeBands"),t):a},t.rotateYLabel=function(e){return arguments.length?(h=e,t):h},t.rotateLabels=function(e){return arguments.length?(c=e,t):c},t.staggerLabels=function(e){return arguments.length?(f=e,t):f},t.axisLabelDistance=function(e){return arguments.length?(g=e,t):g},t},n.models.historicalBar=function(){"use strict";function t(x){return x.each(function(t){var x=s-a.left-a.right,_=u-a.top-a.bottom,k=d3.select(this);c.domain(e||d3.extent(t[0].values.map(f).concat(p))),c.range(m?i||[.5*x/t[0].values.length,x*(t[0].values.length-.5)/t[0].values.length]:i||[0,x]),h.domain(r||d3.extent(t[0].values.map(d).concat(g))).range(o||[_,0]),c.domain()[0]===c.domain()[1]&&c.domain(c.domain()[0]?[c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]:[-1,1]),h.domain()[0]===h.domain()[1]&&h.domain(h.domain()[0]?[h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]:[-1,1]);var C=k.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([t[0].values]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),S=M.append("defs"),E=M.append("g"),A=C.select("g");E.append("g").attr("class","nv-bars"),C.attr("transform","translate("+a.left+","+a.top+")"),k.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:l})}),S.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",x).attr("height",_),A.attr("clip-path",v?"url(#nv-chart-clip-path-"+l+")":"");var D=C.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});D.exit().remove();D.enter().append("rect").attr("x",0).attr("y",function(t,e){return n.utils.NaNtoZero(h(Math.max(0,d(t,e))))}).attr("height",function(t,e){return n.utils.NaNtoZero(Math.abs(h(d(t,e))-h(0)))}).attr("transform",function(e,n){return"translate("+(c(f(e,n))-x/t[0].values.length*.45)+",0)"}).on("mouseover",function(e,n){w&&(d3.select(this).classed("hover",!0),b.elementMouseover({point:e,series:t[0],pos:[c(f(e,n)),h(d(e,n))],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("mouseout",function(e,n){w&&(d3.select(this).classed("hover",!1),b.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event}))}).on("click",function(t,e){w&&(b.elementClick({value:d(t,e),data:t,index:e,pos:[c(f(t,e)),h(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation())}).on("dblclick",function(t,e){w&&(b.elementDblClick({value:d(t,e),data:t,index:e,pos:[c(f(t,e)),h(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation())});D.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(d(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).transition().attr("transform",function(e,n){return"translate("+(c(f(e,n))-x/t[0].values.length*.45)+",0)"}).attr("width",x/t[0].values.length*.9),D.transition().attr("y",function(t,e){var r=d(t,e)<0?h(0):h(0)-h(d(t,e))<1?h(0)-1:h(d(t,e));return n.utils.NaNtoZero(r)}).attr("height",function(t,e){return n.utils.NaNtoZero(Math.max(Math.abs(h(d(t,e))-h(0)),1))})}),t}var e,r,i,o,a={top:0,right:0,bottom:0,left:0},s=960,u=500,l=Math.floor(1e4*Math.random()),c=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},d=function(t){return t.y},p=[],g=[0],m=!1,v=!0,y=n.utils.defaultColor(),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),w=!0;return t.highlightPoint=function(t,e){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},t.clearHighlights=function(){d3.select(".nv-historicalBar-"+l).select(".nv-bars .nv-bar.hover").classed("hover",!1)},t.dispatch=b,t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(f=e,t):f},t.y=function(e){return arguments.length?(d=e,t):d},t.margin=function(e){return arguments.length?(a.top="undefined"!=typeof e.top?e.top:a.top,a.right="undefined"!=typeof e.right?e.right:a.right,a.bottom="undefined"!=typeof e.bottom?e.bottom:a.bottom,a.left="undefined"!=typeof e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(c=e,t):c},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(i=e,t):i},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceX=function(e){return arguments.length?(p=e,t):p},t.forceY=function(e){return arguments.length?(g=e,t):g},t.padData=function(e){return arguments.length?(m=e,t):m},t.clipEdge=function(e){return arguments.length?(v=e,t):v},t.color=function(e){return arguments.length?(y=n.utils.getColor(e),t):y},t.id=function(e){return arguments.length?(l=e,t):l},t.interactive=function(){return arguments.length?(w=!1,t):w},t},n.models.bullet=function(){"use strict";function t(n){return n.each(function(t,n){{var r=f-e.left-e.right,p=d-e.top-e.bottom,v=d3.select(this),y=o.call(this,t,n).slice().sort(d3.descending),b=a.call(this,t,n).slice().sort(d3.descending),w=s.call(this,t,n).slice().sort(d3.descending),x=u.call(this,t,n).slice(),_=l.call(this,t,n).slice(),k=c.call(this,t,n).slice(),C=d3.scale.linear().domain(d3.extent(d3.merge([h,y]))).range(i?[r,0]:[0,r]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(C.range())}this.__chart__=C;var M=d3.min(y),S=d3.max(y),E=y[1],A=v.selectAll("g.nv-wrap.nv-bullet").data([t]),D=A.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),T=D.append("g"),P=A.select("g");T.append("rect").attr("class","nv-range nv-rangeMax"),T.append("rect").attr("class","nv-range nv-rangeAvg"),T.append("rect").attr("class","nv-range nv-rangeMin"),T.append("rect").attr("class","nv-measure"),T.append("path").attr("class","nv-markerTriangle"),A.attr("transform","translate("+e.left+","+e.top+")");var B=function(t){return Math.abs(C(t)-C(0))},$=function(t){return C(0>t?t:0)};P.select("rect.nv-rangeMax").attr("height",p).attr("width",B(S>0?S:M)).attr("x",$(S>0?S:M)).datum(S>0?S:M),P.select("rect.nv-rangeAvg").attr("height",p).attr("width",B(E)).attr("x",$(E)).datum(E),P.select("rect.nv-rangeMin").attr("height",p).attr("width",B(S)).attr("x",$(S)).attr("width",B(S>0?M:S)).attr("x",$(S>0?M:S)).datum(S>0?M:S),P.select("rect.nv-measure").style("fill",g).attr("height",p/3).attr("y",p/3).attr("width",0>w?C(0)-C(w[0]):C(w[0])-C(0)).attr("x",$(w)).on("mouseover",function(){m.elementMouseover({value:w[0],label:k[0]||"Current",pos:[C(w[0]),p/2]})}).on("mouseout",function(){m.elementMouseout({value:w[0],label:k[0]||"Current"})});var N=p/6;b[0]?P.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+C(b[0])+","+p/2+")"}).attr("d","M0,"+N+"L"+N+","+-N+" "+-N+","+-N+"Z").on("mouseover",function(){m.elementMouseover({value:b[0],label:_[0]||"Previous",pos:[C(b[0]),p/2]})}).on("mouseout",function(){m.elementMouseout({value:b[0],label:_[0]||"Previous"})}):P.selectAll("path.nv-markerTriangle").remove(),A.selectAll(".nv-range").on("mouseover",function(t,e){var n=x[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseover({value:t,label:n,pos:[C(t),p/2]})}).on("mouseout",function(t,e){var n=x[e]||(e?1==e?"Mean":"Minimum":"Maximum");m.elementMouseout({value:t,label:n})})}),t}var e={top:0,right:0,bottom:0,left:0},r="left",i=!1,o=function(t){return t.ranges},a=function(t){return t.markers},s=function(t){return t.measures},u=function(t){return t.rangeLabels?t.rangeLabels:[]},l=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.measureLabels?t.measureLabels:[]},h=[0],f=380,d=30,p=null,g=n.utils.getColor(["#1f77b4"]),m=d3.dispatch("elementMouseover","elementMouseout");return t.dispatch=m,t.options=n.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(r=e,i="right"==r||"bottom"==r,t):r},t.ranges=function(e){return arguments.length?(o=e,t):o},t.markers=function(e){return arguments.length?(a=e,t):a},t.measures=function(e){return arguments.length?(s=e,t):s},t.forceX=function(e){return arguments.length?(h=e,t):h},t.width=function(e){return arguments.length?(f=e,t):f},t.height=function(e){return arguments.length?(d=e,t):d},t.margin=function(n){return arguments.length?(e.top="undefined"!=typeof n.top?n.top:e.top,e.right="undefined"!=typeof n.right?n.right:e.right,e.bottom="undefined"!=typeof n.bottom?n.bottom:e.bottom,e.left="undefined"!=typeof n.left?n.left:e.left,t):e},t.tickFormat=function(e){return arguments.length?(p=e,t):p},t.color=function(e){return arguments.length?(g=n.utils.getColor(e),t):g},t},n.models.bulletChart=function(){"use strict";function t(n){return n.each(function(r,d){var v=d3.select(this),y=(l||parseInt(v.style("width"))||960)-o.left-o.right,b=c-o.top-o.bottom,w=this;
if(t.update=function(){t(n)},t.container=this,!r||!a.call(this,r,d)){var x=v.selectAll(".nv-noData").data([p]);return x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),x.attr("x",o.left+y/2).attr("y",18+o.top+b/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove();var _=a.call(this,r,d).slice().sort(d3.descending),k=s.call(this,r,d).slice().sort(d3.descending),C=u.call(this,r,d).slice().sort(d3.descending),M=v.selectAll("g.nv-wrap.nv-bulletChart").data([r]),S=M.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),E=S.append("g"),A=M.select("g");E.append("g").attr("class","nv-bulletWrap"),E.append("g").attr("class","nv-titles"),M.attr("transform","translate("+o.left+","+o.top+")");var D=d3.scale.linear().domain([0,Math.max(_[0],k[0],C[0])]).range(i?[y,0]:[0,y]),T=this.__chart__||d3.scale.linear().domain([0,1/0]).range(D.range());this.__chart__=D;var P=E.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");P.append("text").attr("class","nv-title").text(function(t){return t.title}),P.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),e.width(y).height(b);var B=A.select(".nv-bulletWrap");d3.transition(B).call(e);var $=h||D.tickFormat(y/100),N=A.selectAll("g.nv-tick").data(D.ticks(y/50),function(t){return this.textContent||$(t)}),I=N.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+T(t)+",0)"}).style("opacity",1e-6);I.append("line").attr("y1",b).attr("y2",7*b/6),I.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*b/6).text($);var O=d3.transition(N).attr("transform",function(t){return"translate("+D(t)+",0)"}).style("opacity",1);O.select("line").attr("y1",b).attr("y2",7*b/6),O.select("text").attr("y",7*b/6),d3.transition(N.exit()).attr("transform",function(t){return"translate("+D(t)+",0)"}).style("opacity",1e-6).remove(),g.on("tooltipShow",function(t){t.key=r.title,f&&m(t,w.parentNode)})}),d3.timer.flush(),t}var e=n.models.bullet(),r="left",i=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},s=function(t){return t.markers},u=function(t){return t.measures},l=null,c=55,h=null,f=!0,d=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},p="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide"),m=function(e,r){var i=e.pos[0]+(r.offsetLeft||0)+o.left,a=e.pos[1]+(r.offsetTop||0)+o.top,s=d(e.key,e.label,e.value,e,t);n.tooltip.show([i,a],s,e.value<0?"e":"w",null,r)};return e.dispatch.on("elementMouseover.tooltip",function(t){g.tooltipShow(t)}),e.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("tooltipHide",function(){f&&n.tooltip.cleanup()}),t.dispatch=g,t.bullet=e,d3.rebind(t,e,"color"),t.options=n.utils.optionsFunc.bind(t),t.orient=function(e){return arguments.length?(r=e,i="right"==r||"bottom"==r,t):r},t.ranges=function(e){return arguments.length?(a=e,t):a},t.markers=function(e){return arguments.length?(s=e,t):s},t.measures=function(e){return arguments.length?(u=e,t):u},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(c=e,t):c},t.margin=function(e){return arguments.length?(o.top="undefined"!=typeof e.top?e.top:o.top,o.right="undefined"!=typeof e.right?e.right:o.right,o.bottom="undefined"!=typeof e.bottom?e.bottom:o.bottom,o.left="undefined"!=typeof e.left?e.left:o.left,t):o},t.tickFormat=function(e){return arguments.length?(h=e,t):h},t.tooltips=function(e){return arguments.length?(f=e,t):f},t.tooltipContent=function(e){return arguments.length?(d=e,t):d},t.noData=function(e){return arguments.length?(p=e,t):p},t},n.models.cumulativeLineChart=function(){"use strict";function t(k){return k.each(function(k){function P(){d3.select(t.container).style("cursor","ew-resize")}function I(){$.x=d3.event.x,$.i=Math.round(B.invert($.x)),F()}function O(){d3.select(t.container).style("cursor","auto"),M.index=$.i,D.stateChange(M)}function F(){re.data([$]);var e=t.transitionDuration();t.transitionDuration(0),t.update(),t.transitionDuration(e)}var R=d3.select(this).classed("nv-chart-"+C,!0),L=this,j=(d||parseInt(R.style("width"))||960)-h.left-h.right,W=(p||parseInt(R.style("height"))||400)-h.top-h.bottom;if(t.update=function(){R.transition().duration(T).call(t)},t.container=this,M.disabled=k.map(function(t){return!!t.disabled}),!S){var z;S={};for(z in M)S[z]=M[z]instanceof Array?M[z].slice(0):M[z]}var V=d3.behavior.drag().on("dragstart",P).on("drag",I).on("dragend",O);if(!(k&&k.length&&k.filter(function(t){return t.values.length}).length)){var U=R.selectAll(".nv-noData").data([E]);return U.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),U.attr("x",h.left+j/2).attr("y",h.top+W/2).text(function(t){return t}),t}if(R.selectAll(".nv-noData").remove(),r=o.xScale(),i=o.yScale(),_)o.yDomain(null);else{var q=k.filter(function(t){return!t.disabled}).map(function(t){var e=d3.extent(t.values,o.y());return e[0]<-.95&&(e[0]=-.95),[(e[0]-e[1])/(1+e[1]),(e[1]-e[0])/(1+e[0])]}),H=[d3.min(q,function(t){return t[0]}),d3.max(q,function(t){return t[1]})];o.yDomain(H)}B.domain([0,k[0].values.length-1]).range([0,j]).clamp(!0);var k=e($.i,k),Y=x?"none":"all",X=R.selectAll("g.nv-wrap.nv-cumulativeLine").data([k]),G=X.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),K=X.select("g");if(G.append("g").attr("class","nv-interactive"),G.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-background"),G.append("g").attr("class","nv-linesWrap").style("pointer-events",Y),G.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-controlsWrap"),g&&(u.width(j),K.select(".nv-legendWrap").datum(k).call(u),h.top!=u.height()&&(h.top=u.height(),W=(p||parseInt(R.style("height"))||400)-h.top-h.bottom),K.select(".nv-legendWrap").attr("transform","translate(0,"+-h.top+")")),w){var Z=[{key:"Re-scale y-axis",disabled:!_}];l.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),K.select(".nv-controlsWrap").datum(Z).attr("transform","translate(0,"+-h.top+")").call(l)}X.attr("transform","translate("+h.left+","+h.top+")"),y&&K.select(".nv-y.nv-axis").attr("transform","translate("+j+",0)");var Q=k.filter(function(t){return t.tempDisabled});X.select(".tempDisabled").remove(),Q.length&&X.append("text").attr("class","tempDisabled").attr("x",j/2).attr("y","-.71em").style("text-anchor","end").text(Q.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),x&&(c.width(j).height(W).margin({left:h.left,top:h.top}).svgContainer(R).xScale(r),X.select(".nv-interactive").call(c)),G.select(".nv-background").append("rect"),K.select(".nv-background rect").attr("width",j).attr("height",W),o.y(function(t){return t.display.y}).width(j).height(W).color(k.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!k[e].disabled&&!k[e].tempDisabled}));var J=K.select(".nv-linesWrap").datum(k.filter(function(t){return!t.disabled&&!t.tempDisabled}));J.call(o),k.forEach(function(t,e){t.seriesIndex=e});var te=k.filter(function(t){return!t.disabled&&!!A(t)}),ee=K.select(".nv-avgLinesWrap").selectAll("line").data(te,function(t){return t.key}),ne=function(t){var e=i(A(t));return 0>e?0:e>W?W:e};ee.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",j).attr("y1",ne).attr("y2",ne),ee.style("stroke-opacity",function(t){var e=i(A(t));return 0>e||e>W?0:1}).attr("x1",0).attr("x2",j).attr("y1",ne).attr("y2",ne),ee.exit().remove();var re=J.selectAll(".nv-indexLine").data([$]);re.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(V),re.attr("transform",function(t){return"translate("+B(t.i)+",0)"}).attr("height",W),m&&(a.scale(r).ticks(Math.min(k[0].values.length,j/70)).tickSize(-W,0),K.select(".nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),d3.transition(K.select(".nv-x.nv-axis")).call(a)),v&&(s.scale(i).ticks(W/36).tickSize(-j,0),d3.transition(K.select(".nv-y.nv-axis")).call(s)),K.select(".nv-background rect").on("click",function(){$.x=d3.mouse(this)[0],$.i=Math.round(B.invert($.x)),M.index=$.i,D.stateChange(M),F()}),o.dispatch.on("elementClick",function(t){$.i=t.pointIndex,$.x=B($.i),M.index=$.i,D.stateChange(M),F()}),l.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,_=!e.disabled,M.rescaleY=_,D.stateChange(M),t.update()}),u.dispatch.on("stateChange",function(e){M.disabled=e.disabled,D.stateChange(M),t.update()}),c.dispatch.on("elementMousemove",function(e){o.clearHighlights();var r,i,u,l=[];if(k.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,s){i=n.interactiveBisect(a.values,e.pointXValue,t.x()),o.highlightPoint(s,i,!0);var c=a.values[i];"undefined"!=typeof c&&("undefined"==typeof r&&(r=c),"undefined"==typeof u&&(u=t.xScale()(t.x()(c,i))),l.push({key:a.key,value:t.y()(c,i),color:f(a,a.seriesIndex)}))}),l.length>2){var d=t.yScale().invert(e.mouseY),p=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=.03*p,m=n.nearestValueIndex(l.map(function(t){return t.value}),d,g);null!==m&&(l[m].highlight=!0)}var v=a.tickFormat()(t.x()(r,i),i);c.tooltip.position({left:u+h.left,top:e.mouseY+h.top}).chartContainer(L.parentNode).enabled(b).valueFormatter(function(t){return s.tickFormat()(t)}).data({value:v,series:l})(),c.renderGuideLine(u)}),c.dispatch.on("elementMouseout",function(){D.tooltipHide(),o.clearHighlights()}),D.on("tooltipShow",function(t){b&&N(t,L.parentNode)}),D.on("changeState",function(e){"undefined"!=typeof e.disabled&&(k.forEach(function(t,n){t.disabled=e.disabled[n]}),M.disabled=e.disabled),"undefined"!=typeof e.index&&($.i=e.index,$.x=B($.i),M.index=e.index,re.data([$])),"undefined"!=typeof e.rescaleY&&(_=e.rescaleY),t.update()})}),t}function e(t,e){return e.map(function(e){if(!e.values)return e;var n=o.y()(e.values[t],t);return-.95>n&&!P?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(o.y()(t,e)-n)/(1+n)},t}),e)})}var r,i,o=n.models.line(),a=n.models.axis(),s=n.models.axis(),u=n.models.legend(),l=n.models.legend(),c=n.interactiveGuideline(),h={top:30,right:30,bottom:50,left:60},f=n.utils.defaultColor(),d=null,p=null,g=!0,m=!0,v=!0,y=!1,b=!0,w=!0,x=!1,_=!0,k=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},C=o.id(),M={index:0,rescaleY:_},S=null,E="No Data Available.",A=function(t){return t.average},D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),T=250,P=!1;a.orient("bottom").tickPadding(7),s.orient(y?"right":"left"),l.updateState(!1);var B=d3.scale.linear(),$={i:0,x:0},N=function(e,r){var i=e.pos[0]+(r.offsetLeft||0),u=e.pos[1]+(r.offsetTop||0),l=a.tickFormat()(o.x()(e.point,e.pointIndex)),c=s.tickFormat()(o.y()(e.point,e.pointIndex)),h=k(e.series.key,l,c,e,t);n.tooltip.show([i,u],h,null,null,r)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],D.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t)}),D.on("tooltipHide",function(){b&&n.tooltip.cleanup()}),t.dispatch=D,t.lines=o,t.legend=u,t.xAxis=a,t.yAxis=s,t.interactiveLayer=c,d3.rebind(t,o,"defined","isArea","x","y","xScale","yScale","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(h.top="undefined"!=typeof e.top?e.top:h.top,h.right="undefined"!=typeof e.right?e.right:h.right,h.bottom="undefined"!=typeof e.bottom?e.bottom:h.bottom,h.left="undefined"!=typeof e.left?e.left:h.left,t):h},t.width=function(e){return arguments.length?(d=e,t):d},t.height=function(e){return arguments.length?(p=e,t):p},t.color=function(e){return arguments.length?(f=n.utils.getColor(e),u.color(f),t):f},t.rescaleY=function(e){return arguments.length?(_=e,t):_},t.showControls=function(e){return arguments.length?(w=e,t):w},t.useInteractiveGuideline=function(e){return arguments.length?(x=e,e===!0&&(t.interactive(!1),t.useVoronoi(!1)),t):x},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.showXAxis=function(e){return arguments.length?(m=e,t):m},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(y=e,s.orient(e?"right":"left"),t):y},t.tooltips=function(e){return arguments.length?(b=e,t):b},t.tooltipContent=function(e){return arguments.length?(k=e,t):k},t.state=function(e){return arguments.length?(M=e,t):M},t.defaultState=function(e){return arguments.length?(S=e,t):S},t.noData=function(e){return arguments.length?(E=e,t):E},t.average=function(e){return arguments.length?(A=e,t):A},t.transitionDuration=function(e){return arguments.length?(T=e,t):T},t.noErrorCheck=function(e){return arguments.length?(P=e,t):P},t},n.models.discreteBar=function(){"use strict";function t(n){return n.each(function(t){var n=l-u.left-u.right,h=c-u.top-u.bottom,_=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var k=e&&r?[]:t.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});f.domain(e||d3.merge(k).map(function(t){return t.x})).rangeBands(i||[0,n],.1),d.domain(r||d3.extent(d3.merge(k).map(function(t){return t.y}).concat(m))),d.range(y?o||[h-(d.domain()[0]<0?12:0),d.domain()[1]>0?12:0]:o||[h,0]),a=a||f,s=s||d.copy().range([d(0),d(0)]);{var C=_.selectAll("g.nv-wrap.nv-discretebar").data([t]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),S=M.append("g");C.select("g")}S.append("g").attr("class","nv-groups"),C.attr("transform","translate("+u.left+","+u.top+")");var E=C.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),E.transition().style("stroke-opacity",1).style("fill-opacity",.75);var A=E.selectAll("g.nv-bar").data(function(t){return t.values});A.exit().remove();var D=A.enter().append("g").attr("transform",function(t,e){return"translate("+(f(p(t,e))+.05*f.rangeBand())+", "+d(0)+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),w.elementMouseover({value:g(e,n),point:e,series:t[e.series],pos:[f(p(e,n))+f.rangeBand()*(e.series+.5)/t.length,d(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),w.elementMouseout({value:g(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){w.elementClick({value:g(e,n),point:e,series:t[e.series],pos:[f(p(e,n))+f.rangeBand()*(e.series+.5)/t.length,d(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){w.elementDblClick({value:g(e,n),point:e,series:t[e.series],pos:[f(p(e,n))+f.rangeBand()*(e.series+.5)/t.length,d(g(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()});D.append("rect").attr("height",0).attr("width",.9*f.rangeBand()/t.length),y?(D.append("text").attr("text-anchor","middle"),A.select("text").text(function(t,e){return b(g(t,e))}).transition().attr("x",.9*f.rangeBand()/2).attr("y",function(t,e){return g(t,e)<0?d(g(t,e))-d(0)+12:-4})):A.selectAll("text").remove(),A.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||v(t,e)}).style("stroke",function(t,e){return t.color||v(t,e)}).select("rect").attr("class",x).transition().attr("width",.9*f.rangeBand()/t.length),A.transition().attr("transform",function(t,e){var n=f(p(t,e))+.05*f.rangeBand(),r=g(t,e)<0?d(0):d(0)-d(g(t,e))<1?d(0)-1:d(g(t,e));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(d(g(t,e))-d(r&&r[0]||0))||1)}),a=f.copy(),s=d.copy()}),t}var e,r,i,o,a,s,u={top:0,right:0,bottom:0,left:0},l=960,c=500,h=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),d=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=[0],v=n.utils.defaultColor(),y=!1,b=d3.format(",.2f"),w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),x="discreteBar";return t.dispatch=w,t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=e,t):p},t.y=function(e){return arguments.length?(g=e,t):g},t.margin=function(e){return arguments.length?(u.top="undefined"!=typeof e.top?e.top:u.top,u.right="undefined"!=typeof e.right?e.right:u.right,u.bottom="undefined"!=typeof e.bottom?e.bottom:u.bottom,u.left="undefined"!=typeof e.left?e.left:u.left,t):u},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(c=e,t):c},t.xScale=function(e){return arguments.length?(f=e,t):f},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(i=e,t):i},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceY=function(e){return arguments.length?(m=e,t):m},t.color=function(e){return arguments.length?(v=n.utils.getColor(e),t):v},t.id=function(e){return arguments.length?(h=e,t):h},t.showValues=function(e){return arguments.length?(y=e,t):y},t.valueFormat=function(e){return arguments.length?(b=e,t):b},t.rectClass=function(e){return arguments.length?(x=e,t):x},t},n.models.discreteBarChart=function(){"use strict";function t(n){return n.each(function(n){var c=d3.select(this),m=this,x=(u||parseInt(c.style("width"))||960)-s.left-s.right,_=(l||parseInt(c.style("height"))||400)-s.top-s.bottom;if(t.update=function(){y.beforeUpdate(),c.transition().duration(b).call(t)},t.container=this,!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var k=c.selectAll(".nv-noData").data([v]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",s.left+x/2).attr("y",s.top+_/2).text(function(t){return t}),t}c.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale().clamp(!0);var C=c.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([n]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=M.append("defs"),E=C.select("g");M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),M.append("g").attr("class","nv-barsWrap"),E.attr("transform","translate("+s.left+","+s.top+")"),d&&E.select(".nv-y.nv-axis").attr("transform","translate("+x+",0)"),i.width(x).height(_);var A=E.select(".nv-barsWrap").datum(n.filter(function(t){return!t.disabled}));if(A.transition().call(i),S.append("clipPath").attr("id","nv-x-label-clip-"+i.id()).append("rect"),E.select("#nv-x-label-clip-"+i.id()+" rect").attr("width",e.rangeBand()*(p?2:1)).attr("height",16).attr("x",-e.rangeBand()/(p?1:2)),h){o.scale(e).ticks(x/100).tickSize(-_,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+(r.range()[0]+(i.showValues()&&r.domain()[0]<0?16:0))+")"),E.select(".nv-x.nv-axis").transition().call(o);var D=E.select(".nv-x.nv-axis").selectAll("g");p&&D.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}f&&(a.scale(r).ticks(_/36).tickSize(-x,0),E.select(".nv-y.nv-axis").transition().call(a)),E.select(".nv-zeroLine line").attr("x1",0).attr("x2",x).attr("y1",r(0)).attr("y2",r(0)),y.on("tooltipShow",function(t){g&&w(t,m.parentNode)})}),t}var e,r,i=n.models.discreteBar(),o=n.models.axis(),a=n.models.axis(),s={top:15,right:10,bottom:50,left:60},u=null,l=null,c=n.utils.getColor(),h=!0,f=!0,d=!1,p=!1,g=!0,m=function(t,e,n){return"<h3>"+e+"</h3><p>"+n+"</p>"},v="No Data Available.",y=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate"),b=250;o.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),a.orient(d?"right":"left").tickFormat(d3.format(",.1f"));var w=function(e,r){var s=e.pos[0]+(r.offsetLeft||0),u=e.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(e.point,e.pointIndex)),c=a.tickFormat()(i.y()(e.point,e.pointIndex)),h=m(e.series.key,l,c,e,t);n.tooltip.show([s,u],h,e.value<0?"n":"s",null,r)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],y.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){y.tooltipHide(t)}),y.on("tooltipHide",function(){g&&n.tooltip.cleanup()}),t.dispatch=y,t.discretebar=i,t.xAxis=o,t.yAxis=a,d3.rebind(t,i,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","id","showValues","valueFormat"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(s.top="undefined"!=typeof e.top?e.top:s.top,s.right="undefined"!=typeof e.right?e.right:s.right,s.bottom="undefined"!=typeof e.bottom?e.bottom:s.bottom,s.left="undefined"!=typeof e.left?e.left:s.left,t):s},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(l=e,t):l},t.color=function(e){return arguments.length?(c=n.utils.getColor(e),i.color(c),t):c},t.showXAxis=function(e){return arguments.length?(h=e,t):h},t.showYAxis=function(e){return arguments.length?(f=e,t):f},t.rightAlignYAxis=function(e){return arguments.length?(d=e,a.orient(e?"right":"left"),t):d},t.staggerLabels=function(e){return arguments.length?(p=e,t):p},t.tooltips=function(e){return arguments.length?(g=e,t):g},t.tooltipContent=function(e){return arguments.length?(m=e,t):m},t.noData=function(e){return arguments.length?(v=e,t):v},t.transitionDuration=function(e){return arguments.length?(b=e,t):b},t},n.models.distribution=function(){"use strict";function t(n){return n.each(function(t){var n=(i-("x"===a?r.left+r.right:r.top+r.bottom),"x"==a?"y":"x"),c=d3.select(this);e=e||l;var h=c.selectAll("g.nv-distribution").data([t]),f=h.enter().append("g").attr("class","nvd3 nv-distribution"),d=(f.append("g"),h.select("g"));h.attr("transform","translate("+r.left+","+r.top+")");var p=d.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return u(t,e)});var g=p.selectAll("line.nv-dist"+a).data(function(t){return t.values});g.enter().append("line").attr(a+"1",function(t,n){return e(s(t,n))}).attr(a+"2",function(t,n){return e(s(t,n))}),p.exit().selectAll("line.nv-dist"+a).transition().attr(a+"1",function(t,e){return l(s(t,e))}).attr(a+"2",function(t,e){return l(s(t,e))}).style("stroke-opacity",0).remove(),g.attr("class",function(t,e){return"nv-dist"+a+" nv-dist"+a+"-"+e}).attr(n+"1",0).attr(n+"2",o),g.transition().attr(a+"1",function(t,e){return l(s(t,e))}).attr(a+"2",function(t,e){return l(s(t,e))}),e=l.copy()}),t}var e,r={top:0,right:0,bottom:0,left:0},i=400,o=8,a="x",s=function(t){return t[a]},u=n.utils.defaultColor(),l=d3.scale.linear();return t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(r.top="undefined"!=typeof e.top?e.top:r.top,r.right="undefined"!=typeof e.right?e.right:r.right,r.bottom="undefined"!=typeof e.bottom?e.bottom:r.bottom,r.left="undefined"!=typeof e.left?e.left:r.left,t):r},t.width=function(e){return arguments.length?(i=e,t):i},t.axis=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(o=e,t):o},t.getData=function(e){return arguments.length?(s=d3.functor(e),t):s},t.scale=function(e){return arguments.length?(l=e,t):l},t.color=function(e){return arguments.length?(u=n.utils.getColor(e),t):u},t},n.models.historicalBarChart=function(){"use strict";function t(n){return n.each(function(v){var C=d3.select(this),M=this,S=(c||parseInt(C.style("width"))||960)-u.left-u.right,E=(h||parseInt(C.style("height"))||400)-u.top-u.bottom;if(t.update=function(){C.transition().duration(_).call(t)},t.container=this,y.disabled=v.map(function(t){return!!t.disabled}),!b){var A;b={};for(A in y)b[A]=y[A]instanceof Array?y[A].slice(0):y[A]}if(!(v&&v.length&&v.filter(function(t){return t.values.length}).length)){var D=C.selectAll(".nv-noData").data([w]);return D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),D.attr("x",u.left+S/2).attr("y",u.top+E/2).text(function(t){return t}),t}C.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale();var T=C.selectAll("g.nv-wrap.nv-historicalBarChart").data([v]),P=T.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),B=T.select("g");P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),f&&(s.width(S),B.select(".nv-legendWrap").datum(v).call(s),u.top!=s.height()&&(u.top=s.height(),E=(h||parseInt(C.style("height"))||400)-u.top-u.bottom),T.select(".nv-legendWrap").attr("transform","translate(0,"+-u.top+")")),T.attr("transform","translate("+u.left+","+u.top+")"),g&&B.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),i.width(S).height(E).color(v.map(function(t,e){return t.color||l(t,e)}).filter(function(t,e){return!v[e].disabled}));var $=B.select(".nv-barsWrap").datum(v.filter(function(t){return!t.disabled}));$.transition().call(i),d&&(o.scale(e).tickSize(-E,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),B.select(".nv-x.nv-axis").transition().call(o)),p&&(a.scale(r).ticks(E/36).tickSize(-S,0),B.select(".nv-y.nv-axis").transition().call(a)),s.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,v.filter(function(t){return!t.disabled}).length||v.map(function(t){return t.disabled=!1,T.selectAll(".nv-series").classed("disabled",!1),t}),y.disabled=v.map(function(t){return!!t.disabled}),x.stateChange(y),n.transition().call(t)}),s.dispatch.on("legendDblclick",function(e){v.forEach(function(t){t.disabled=!0}),e.disabled=!1,y.disabled=v.map(function(t){return!!t.disabled}),x.stateChange(y),t.update()}),x.on("tooltipShow",function(t){m&&k(t,M.parentNode)}),x.on("changeState",function(e){"undefined"!=typeof e.disabled&&(v.forEach(function(t,n){t.disabled=e.disabled[n]}),y.disabled=e.disabled),t.update()})}),t}var e,r,i=n.models.historicalBar(),o=n.models.axis(),a=n.models.axis(),s=n.models.legend(),u={top:30,right:90,bottom:50,left:90},l=n.utils.defaultColor(),c=null,h=null,f=!1,d=!0,p=!0,g=!1,m=!0,v=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},y={},b=null,w="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),_=250;o.orient("bottom").tickPadding(7),a.orient(g?"right":"left");var k=function(e,r){if(r){var s=d3.select(r).select("svg"),u=s.node()?s.attr("viewBox"):null;if(u){u=u.split(" ");var l=parseInt(s.style("width"))/u[2];e.pos[0]=e.pos[0]*l,e.pos[1]=e.pos[1]*l}}var c=e.pos[0]+(r.offsetLeft||0),h=e.pos[1]+(r.offsetTop||0),f=o.tickFormat()(i.x()(e.point,e.pointIndex)),d=a.tickFormat()(i.y()(e.point,e.pointIndex)),p=v(e.series.key,f,d,e,t);n.tooltip.show([c,h],p,null,null,r)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],x.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){x.tooltipHide(t)}),x.on("tooltipHide",function(){m&&n.tooltip.cleanup()}),t.dispatch=x,t.bars=i,t.legend=s,t.xAxis=o,t.yAxis=a,d3.rebind(t,i,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate","highlightPoint","clearHighlights","interactive"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(u.top="undefined"!=typeof e.top?e.top:u.top,u.right="undefined"!=typeof e.right?e.right:u.right,u.bottom="undefined"!=typeof e.bottom?e.bottom:u.bottom,u.left="undefined"!=typeof e.left?e.left:u.left,t):u},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(l=n.utils.getColor(e),s.color(l),t):l},t.showLegend=function(e){return arguments.length?(f=e,t):f},t.showXAxis=function(e){return arguments.length?(d=e,t):d},t.showYAxis=function(e){return arguments.length?(p=e,t):p},t.rightAlignYAxis=function(e){return arguments.length?(g=e,a.orient(e?"right":"left"),t):g},t.tooltips=function(e){return arguments.length?(m=e,t):m},t.tooltipContent=function(e){return arguments.length?(v=e,t):v},t.state=function(e){return arguments.length?(y=e,t):y},t.defaultState=function(e){return arguments.length?(b=e,t):b},t.noData=function(e){return arguments.length?(w=e,t):w},t.transitionDuration=function(e){return arguments.length?(_=e,t):_},t},n.models.indentedTree=function(){"use strict";function t(e){return e.each(function(e){function n(e,r,i){return d3.event.stopPropagation(),d3.event.shiftKey&&!i?(d3.event.shiftKey=!1,e.values&&e.values.forEach(function(t){(t.values||t._values)&&n(t,0,!0)}),!0):a(e)?(e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null),void t.update()):!0}function r(t){return t._values&&t._values.length?d:t.values&&t.values.length?p:""}function o(t){return t._values&&t._values.length}function a(t){var e=t.values||t._values;return e&&e.length}var y=1,b=d3.select(this),w=d3.layout.tree().children(function(t){return t.values}).size([i,c]);t.update=function(){b.transition().duration(600).call(t)},e[0]||(e[0]={key:l});var x=w.nodes(e[0]),_=d3.select(this).selectAll("div").data([[x]]),k=_.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree"),C=k.append("table"),M=_.select("table").attr("width","100%").attr("class",f);if(s){var S=C.append("thead"),E=S.append("tr");h.forEach(function(t){E.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var A=M.selectAll("tbody").data(function(t){return t});A.enter().append("tbody"),y=d3.max(x,function(t){return t.depth}),w.size([i,y*c]);var D=A.selectAll("tr").data(function(t){return t.filter(function(t){return u&&!t.children?u(t):!0})},function(t){return t.id||t.id||++v});D.exit().remove(),D.select("img.nv-treeicon").attr("src",r).classed("folded",o);var T=D.enter().append("tr");h.forEach(function(t,e){var i=T.append("td").style("padding-left",function(t){return(e?0:t.depth*c+12+(r(t)?0:16))+"px"},"important").style("text-align","numeric"==t.type?"right":"left");0==e&&i.append("img").classed("nv-treeicon",!0).classed("nv-folded",o).attr("src",r).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return r(t)?"inline-block":"none"}).on("click",n),i.each(function(n){!e&&m(n)?d3.select(this).append("a").attr("href",m).attr("class",d3.functor(t.classes)).append("span"):d3.select(this).append("span"),d3.select(this).select("span").attr("class",d3.functor(t.classes)).text(function(e){return t.format?t.format(e):e[t.key]||"-"})}),t.showCount&&(i.append("span").attr("class","nv-childrenCount"),D.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return u?u(t):!0}).length||t._values&&t._values.filter(function(t){return u?u(t):!0}).length||0)+")":""}))}),D.order().on("click",function(t){g.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){g.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){g.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){g.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),t}var e={top:0,right:0,bottom:0,left:0},r=960,i=500,o=n.utils.defaultColor(),a=Math.floor(1e4*Math.random()),s=!0,u=!1,l="No Data Available.",c=20,h=[{key:"key",label:"Name",type:"text"}],f=null,d="images/grey-plus.png",p="images/grey-minus.png",g=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),m=function(t){return t.url},v=0;return t.options=n.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(e.top="undefined"!=typeof n.top?n.top:e.top,e.right="undefined"!=typeof n.right?n.right:e.right,e.bottom="undefined"!=typeof n.bottom?n.bottom:e.bottom,e.left="undefined"!=typeof n.left?n.left:e.left,t):e
},t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(i=e,t):i},t.color=function(e){return arguments.length?(o=n.utils.getColor(e),scatter.color(o),t):o},t.id=function(e){return arguments.length?(a=e,t):a},t.header=function(e){return arguments.length?(s=e,t):s},t.noData=function(e){return arguments.length?(l=e,t):l},t.filterZero=function(e){return arguments.length?(u=e,t):u},t.columns=function(e){return arguments.length?(h=e,t):h},t.tableClass=function(e){return arguments.length?(f=e,t):f},t.iconOpen=function(e){return arguments.length?(d=e,t):d},t.iconClose=function(e){return arguments.length?(p=e,t):p},t.getUrl=function(e){return arguments.length?(m=e,t):m},t},n.models.legend=function(){"use strict";function t(f){return f.each(function(t){var f=r-e.left-e.right,d=d3.select(this),p=d.selectAll("g.nv-legend").data([t]),g=(p.enter().append("g").attr("class","nvd3 nv-legend").append("g"),p.select("g"));p.attr("transform","translate("+e.left+","+e.top+")");var m=g.selectAll(".nv-series").data(function(t){return t}),v=m.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){h.legendMouseover(t,e)}).on("mouseout",function(t,e){h.legendMouseout(t,e)}).on("click",function(e,n){h.legendClick(e,n),l&&(c?(t.forEach(function(t){t.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,t.every(function(t){return t.disabled})&&t.forEach(function(t){t.disabled=!1})),h.stateChange({disabled:t.map(function(t){return!!t.disabled})}))}).on("dblclick",function(e,n){h.legendDblclick(e,n),l&&(t.forEach(function(t){t.disabled=!0}),e.disabled=!1,h.stateChange({disabled:t.map(function(t){return!!t.disabled})}))});if(v.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),v.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8"),m.classed("disabled",function(t){return t.disabled}),m.exit().remove(),m.select("circle").style("fill",function(t,e){return t.color||a(t,e)}).style("stroke",function(t,e){return t.color||a(t,e)}),m.select("text").text(o),s){var y=[];m.each(function(){var t,e=d3.select(this).select("text");try{if(t=e.getComputedTextLength(),0>=t)throw Error()}catch(r){t=n.utils.calcApproxTextWidth(e)}y.push(t+28)});for(var b=0,w=0,x=[];f>w&&b<y.length;)x[b]=y[b],w+=y[b++];for(0===b&&(b=1);w>f&&b>1;){x=[],b--;for(var _=0;_<y.length;_++)y[_]>(x[_%b]||0)&&(x[_%b]=y[_]);w=x.reduce(function(t,e){return t+e})}for(var k=[],C=0,M=0;b>C;C++)k[C]=M,M+=x[C];m.attr("transform",function(t,e){return"translate("+k[e%b]+","+(5+20*Math.floor(e/b))+")"}),u?g.attr("transform","translate("+(r-e.right-w)+","+e.top+")"):g.attr("transform","translate(0,"+e.top+")"),i=e.top+e.bottom+20*Math.ceil(y.length/b)}else{var S,E=5,A=5,D=0;m.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+28;return S=A,r<e.left+e.right+S+t&&(A=S=5,E+=20),A+=t,A>D&&(D=A),"translate("+S+","+E+")"}),g.attr("transform","translate("+(r-e.right-D)+","+e.top+")"),i=e.top+e.bottom+E+15}}),t}var e={top:5,right:0,bottom:5,left:0},r=400,i=20,o=function(t){return t.key},a=n.utils.defaultColor(),s=!0,u=!0,l=!0,c=!1,h=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange");return t.dispatch=h,t.options=n.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(e.top="undefined"!=typeof n.top?n.top:e.top,e.right="undefined"!=typeof n.right?n.right:e.right,e.bottom="undefined"!=typeof n.bottom?n.bottom:e.bottom,e.left="undefined"!=typeof n.left?n.left:e.left,t):e},t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(i=e,t):i},t.key=function(e){return arguments.length?(o=e,t):o},t.color=function(e){return arguments.length?(a=n.utils.getColor(e),t):a},t.align=function(e){return arguments.length?(s=e,t):s},t.rightAlign=function(e){return arguments.length?(u=e,t):u},t.updateState=function(e){return arguments.length?(l=e,t):l},t.radioButtonMode=function(e){return arguments.length?(c=e,t):c},t},n.models.line=function(){"use strict";function t(v){return v.each(function(t){var v=a-o.left-o.right,y=s-o.top-o.bottom,b=d3.select(this);e=i.xScale(),r=i.yScale(),g=g||e,m=m||r;var w=b.selectAll("g.nv-wrap.nv-line").data([t]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),_=x.append("defs"),k=x.append("g"),C=w.select("g");k.append("g").attr("class","nv-groups"),k.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+o.left+","+o.top+")"),i.width(v).height(y);var M=w.select(".nv-scatterWrap");M.transition().call(i),_.append("clipPath").attr("id","nv-edge-clip-"+i.id()).append("rect"),w.select("#nv-edge-clip-"+i.id()+" rect").attr("width",v).attr("height",y>0?y:0),C.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":""),M.attr("clip-path",d?"url(#nv-edge-clip-"+i.id()+")":"");var S=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});S.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),S.exit().remove(),S.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),S.transition().style("stroke-opacity",1).style("fill-opacity",.5);var E=S.selectAll("path.nv-area").data(function(t){return f(t)?[t]:[]});E.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(p).defined(h).x(function(t,e){return n.utils.NaNtoZero(g(l(t,e)))}).y0(function(t,e){return n.utils.NaNtoZero(m(c(t,e)))}).y1(function(){return m(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[t.values])}),S.exit().selectAll("path.nv-area").remove(),E.transition().attr("d",function(t){return d3.svg.area().interpolate(p).defined(h).x(function(t,r){return n.utils.NaNtoZero(e(l(t,r)))}).y0(function(t,e){return n.utils.NaNtoZero(r(c(t,e)))}).y1(function(){return r(r.domain()[0]<=0?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[t.values])});var A=S.selectAll("path.nv-line").data(function(t){return[t.values]});A.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(h).x(function(t,e){return n.utils.NaNtoZero(g(l(t,e)))}).y(function(t,e){return n.utils.NaNtoZero(m(c(t,e)))})),A.transition().attr("d",d3.svg.line().interpolate(p).defined(h).x(function(t,r){return n.utils.NaNtoZero(e(l(t,r)))}).y(function(t,e){return n.utils.NaNtoZero(r(c(t,e)))})),g=e.copy(),m=r.copy()}),t}var e,r,i=n.models.scatter(),o={top:0,right:0,bottom:0,left:0},a=960,s=500,u=n.utils.defaultColor(),l=function(t){return t.x},c=function(t){return t.y},h=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},f=function(t){return t.area},d=!1,p="linear";i.size(16).sizeDomain([16,256]);var g,m;return t.dispatch=i.dispatch,t.scatter=i,d3.rebind(t,i,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","padData","highlightPoint","clearHighlights"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top="undefined"!=typeof e.top?e.top:o.top,o.right="undefined"!=typeof e.right?e.right:o.right,o.bottom="undefined"!=typeof e.bottom?e.bottom:o.bottom,o.left="undefined"!=typeof e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(s=e,t):s},t.x=function(e){return arguments.length?(l=e,i.x(e),t):l},t.y=function(e){return arguments.length?(c=e,i.y(e),t):c},t.clipEdge=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(u=n.utils.getColor(e),i.color(u),t):u},t.interpolate=function(e){return arguments.length?(p=e,t):p},t.defined=function(e){return arguments.length?(h=e,t):h},t.isArea=function(e){return arguments.length?(f=d3.functor(e),t):f},t},n.models.lineChart=function(){"use strict";function t(b){return b.each(function(b){var S=d3.select(this),E=this,A=(h||parseInt(S.style("width"))||960)-l.left-l.right,D=(f||parseInt(S.style("height"))||400)-l.top-l.bottom;if(t.update=function(){S.transition().duration(C).call(t)},t.container=this,w.disabled=b.map(function(t){return!!t.disabled}),!x){var T;x={};for(T in w)x[T]=w[T]instanceof Array?w[T].slice(0):w[T]}if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length)){var P=S.selectAll(".nv-noData").data([_]);return P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),P.attr("x",l.left+A/2).attr("y",l.top+D/2).text(function(t){return t}),t}S.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale();var B=S.selectAll("g.nv-wrap.nv-lineChart").data([b]),$=B.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),N=B.select("g");$.append("rect").style("opacity",0),$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y nv-axis"),$.append("g").attr("class","nv-linesWrap"),$.append("g").attr("class","nv-legendWrap"),$.append("g").attr("class","nv-interactive"),N.select("rect").attr("width",A).attr("height",D>0?D:0),d&&(s.width(A),N.select(".nv-legendWrap").datum(b).call(s),l.top!=s.height()&&(l.top=s.height(),D=(f||parseInt(S.style("height"))||400)-l.top-l.bottom),B.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")),B.attr("transform","translate("+l.left+","+l.top+")"),m&&N.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),v&&(u.width(A).height(D).margin({left:l.left,top:l.top}).svgContainer(S).xScale(e),B.select(".nv-interactive").call(u)),i.width(A).height(D).color(b.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!b[e].disabled}));var I=N.select(".nv-linesWrap").datum(b.filter(function(t){return!t.disabled}));I.transition().call(i),p&&(o.scale(e).ticks(A/100).tickSize(-D,0),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),N.select(".nv-x.nv-axis").transition().call(o)),g&&(a.scale(r).ticks(D/36).tickSize(-A,0),N.select(".nv-y.nv-axis").transition().call(a)),s.dispatch.on("stateChange",function(e){w=e,k.stateChange(w),t.update()}),u.dispatch.on("elementMousemove",function(e){i.clearHighlights();var r,s,h,f=[];if(b.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){s=n.interactiveBisect(o.values,e.pointXValue,t.x()),i.highlightPoint(a,s,!0);var u=o.values[s];"undefined"!=typeof u&&("undefined"==typeof r&&(r=u),"undefined"==typeof h&&(h=t.xScale()(t.x()(u,s))),f.push({key:o.key,value:t.y()(u,s),color:c(o,o.seriesIndex)}))}),f.length>2){var d=t.yScale().invert(e.mouseY),p=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=.03*p,m=n.nearestValueIndex(f.map(function(t){return t.value}),d,g);null!==m&&(f[m].highlight=!0)}var v=o.tickFormat()(t.x()(r,s));u.tooltip.position({left:h+l.left,top:e.mouseY+l.top}).chartContainer(E.parentNode).enabled(y).valueFormatter(function(t){return a.tickFormat()(t)}).data({value:v,series:f})(),u.renderGuideLine(h)}),u.dispatch.on("elementMouseout",function(){k.tooltipHide(),i.clearHighlights()}),k.on("tooltipShow",function(t){y&&M(t,E.parentNode)}),k.on("changeState",function(e){"undefined"!=typeof e.disabled&&b.length===e.disabled.length&&(b.forEach(function(t,n){t.disabled=e.disabled[n]}),w.disabled=e.disabled),t.update()})}),t}var e,r,i=n.models.line(),o=n.models.axis(),a=n.models.axis(),s=n.models.legend(),u=n.interactiveGuideline(),l={top:30,right:20,bottom:50,left:60},c=n.utils.defaultColor(),h=null,f=null,d=!0,p=!0,g=!0,m=!1,v=!1,y=!0,b=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w={},x=null,_="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),C=250;o.orient("bottom").tickPadding(7),a.orient(m?"right":"left");var M=function(e,r){var s=e.pos[0]+(r.offsetLeft||0),u=e.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(e.point,e.pointIndex)),c=a.tickFormat()(i.y()(e.point,e.pointIndex)),h=b(e.series.key,l,c,e,t);n.tooltip.show([s,u],h,null,null,r)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],k.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){y&&n.tooltip.cleanup()}),t.dispatch=k,t.lines=i,t.legend=s,t.xAxis=o,t.yAxis=a,t.interactiveLayer=u,d3.rebind(t,i,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","useVoronoi","id","interpolate"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top="undefined"!=typeof e.top?e.top:l.top,l.right="undefined"!=typeof e.right?e.right:l.right,l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom,l.left="undefined"!=typeof e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(h=e,t):h},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(e){return arguments.length?(c=n.utils.getColor(e),s.color(c),t):c},t.showLegend=function(e){return arguments.length?(d=e,t):d},t.showXAxis=function(e){return arguments.length?(p=e,t):p},t.showYAxis=function(e){return arguments.length?(g=e,t):g},t.rightAlignYAxis=function(e){return arguments.length?(m=e,a.orient(e?"right":"left"),t):m},t.useInteractiveGuideline=function(e){return arguments.length?(v=e,e===!0&&(t.interactive(!1),t.useVoronoi(!1)),t):v},t.tooltips=function(e){return arguments.length?(y=e,t):y},t.tooltipContent=function(e){return arguments.length?(b=e,t):b},t.state=function(e){return arguments.length?(w=e,t):w},t.defaultState=function(e){return arguments.length?(x=e,t):x},t.noData=function(e){return arguments.length?(_=e,t):_},t.transitionDuration=function(e){return arguments.length?(C=e,t):C},t},n.models.linePlusBarChart=function(){"use strict";function t(n){return n.each(function(n){var p=d3.select(this),g=this,b=(f||parseInt(p.style("width"))||960)-h.left-h.right,M=(d||parseInt(p.style("height"))||400)-h.top-h.bottom;if(t.update=function(){p.transition().call(t)},w.disabled=n.map(function(t){return!!t.disabled}),!x){var S;x={};for(S in w)x[S]=w[S]instanceof Array?w[S].slice(0):w[S]}if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var E=p.selectAll(".nv-noData").data([_]);return E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),E.attr("x",h.left+b/2).attr("y",h.top+M/2).text(function(t){return t}),t}p.selectAll(".nv-noData").remove();var A=n.filter(function(t){return!t.disabled&&t.bar}),D=n.filter(function(t){return!t.bar});e=D.filter(function(t){return!t.disabled}).length&&D.filter(function(t){return!t.disabled})[0].values.length?o.xScale():a.xScale(),r=a.yScale(),i=o.yScale();var T=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([n]),P=T.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),B=T.select("g");P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y1 nv-axis"),P.append("g").attr("class","nv-y2 nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-linesWrap"),P.append("g").attr("class","nv-legendWrap"),v&&(c.width(b/2),B.select(".nv-legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(c),h.top!=c.height()&&(h.top=c.height(),M=(d||parseInt(p.style("height"))||400)-h.top-h.bottom),B.select(".nv-legendWrap").attr("transform","translate("+b/2+","+-h.top+")")),T.attr("transform","translate("+h.left+","+h.top+")"),o.width(b).height(M).color(n.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!n[e].disabled&&!n[e].bar})),a.width(b).height(M).color(n.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!n[e].disabled&&n[e].bar}));var $=B.select(".nv-barsWrap").datum(A.length?A:[{values:[]}]),N=B.select(".nv-linesWrap").datum(D[0]&&!D[0].disabled?D:[{values:[]}]);d3.transition($).call(a),d3.transition(N).call(o),s.scale(e).ticks(b/100).tickSize(-M,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(B.select(".nv-x.nv-axis")).call(s),u.scale(r).ticks(M/36).tickSize(-b,0),d3.transition(B.select(".nv-y1.nv-axis")).style("opacity",A.length?1:0).call(u),l.scale(i).ticks(M/36).tickSize(A.length?0:-b,0),B.select(".nv-y2.nv-axis").style("opacity",D.length?1:0).attr("transform","translate("+b+",0)"),d3.transition(B.select(".nv-y2.nv-axis")).call(l),c.dispatch.on("stateChange",function(e){w=e,k.stateChange(w),t.update()}),k.on("tooltipShow",function(t){y&&C(t,g.parentNode)}),k.on("changeState",function(e){"undefined"!=typeof e.disabled&&(n.forEach(function(t,n){t.disabled=e.disabled[n]}),w.disabled=e.disabled),t.update()})}),t}var e,r,i,o=n.models.line(),a=n.models.historicalBar(),s=n.models.axis(),u=n.models.axis(),l=n.models.axis(),c=n.models.legend(),h={top:30,right:60,bottom:50,left:60},f=null,d=null,p=function(t){return t.x},g=function(t){return t.y},m=n.utils.defaultColor(),v=!0,y=!0,b=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},w={},x=null,_="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");a.padData(!0),o.clipEdge(!1).padData(!0),s.orient("bottom").tickPadding(7).highlightZero(!1),u.orient("left"),l.orient("right");var C=function(e,r){var i=e.pos[0]+(r.offsetLeft||0),a=e.pos[1]+(r.offsetTop||0),c=s.tickFormat()(o.x()(e.point,e.pointIndex)),h=(e.series.bar?u:l).tickFormat()(o.y()(e.point,e.pointIndex)),f=b(e.series.key,c,h,e,t);n.tooltip.show([i,a],f,e.value<0?"n":"s",null,r)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],k.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+h.left,t.pos[1]+h.top],k.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){y&&n.tooltip.cleanup()}),t.dispatch=k,t.legend=c,t.lines=o,t.bars=a,t.xAxis=s,t.y1Axis=u,t.y2Axis=l,d3.rebind(t,o,"defined","size","clipVoronoi","interpolate"),t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=e,o.x(e),a.x(e),t):p},t.y=function(e){return arguments.length?(g=e,o.y(e),a.y(e),t):g},t.margin=function(e){return arguments.length?(h.top="undefined"!=typeof e.top?e.top:h.top,h.right="undefined"!=typeof e.right?e.right:h.right,h.bottom="undefined"!=typeof e.bottom?e.bottom:h.bottom,h.left="undefined"!=typeof e.left?e.left:h.left,t):h},t.width=function(e){return arguments.length?(f=e,t):f},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(m=n.utils.getColor(e),c.color(m),t):m},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.tooltips=function(e){return arguments.length?(y=e,t):y},t.tooltipContent=function(e){return arguments.length?(b=e,t):b},t.state=function(e){return arguments.length?(w=e,t):w},t.defaultState=function(e){return arguments.length?(x=e,t):x},t.noData=function(e){return arguments.length?(_=e,t):_},t},n.models.lineWithFocusChart=function(){"use strict";function t(n){return n.each(function(n){function k(t){var e=+("e"==t),n=e?1:-1,r=N/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function A(){d.empty()||d.extent(x),z.data([d.empty()?i.domain():x]).each(function(t){var n=i(t[0])-e.range()[0],r=e.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",0>n?0:n),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",0>r?0:r)})}function D(){x=d.empty()?null:d.extent();var t=d.empty()?i.domain():d.extent();if(!(Math.abs(t[0]-t[1])<=1)){M.brush({extent:t,brush:d}),A();var e=R.select(".nv-focus .nv-linesWrap").datum(n.filter(function(t){return!t.disabled}).map(function(e){return{key:e.key,values:e.values.filter(function(e,n){return a.x()(e,n)>=t[0]&&a.x()(e,n)<=t[1]})}}));e.transition().duration(S).call(a),R.select(".nv-focus .nv-x.nv-axis").transition().duration(S).call(u),R.select(".nv-focus .nv-y.nv-axis").transition().duration(S).call(l)}}var T=d3.select(this),P=this,B=(v||parseInt(T.style("width"))||960)-p.left-p.right,$=(y||parseInt(T.style("height"))||400)-p.top-p.bottom-b,N=b-g.top-g.bottom;if(t.update=function(){T.transition().duration(S).call(t)},t.container=this,!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var I=T.selectAll(".nv-noData").data([C]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",p.left+B/2).attr("y",p.top+$/2).text(function(t){return t}),t}T.selectAll(".nv-noData").remove(),e=a.xScale(),r=a.yScale(),i=s.xScale(),o=s.yScale();var O=T.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([n]),F=O.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),R=O.select("g");F.append("g").attr("class","nv-legendWrap");var L=F.append("g").attr("class","nv-focus");L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-linesWrap");var j=F.append("g").attr("class","nv-context");j.append("g").attr("class","nv-x nv-axis"),j.append("g").attr("class","nv-y nv-axis"),j.append("g").attr("class","nv-linesWrap"),j.append("g").attr("class","nv-brushBackground"),j.append("g").attr("class","nv-x nv-brush"),w&&(f.width(B),R.select(".nv-legendWrap").datum(n).call(f),p.top!=f.height()&&(p.top=f.height(),$=(y||parseInt(T.style("height"))||400)-p.top-p.bottom-b),R.select(".nv-legendWrap").attr("transform","translate(0,"+-p.top+")")),O.attr("transform","translate("+p.left+","+p.top+")"),a.width(B).height($).color(n.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!n[e].disabled})),s.defined(a.defined()).width(B).height(N).color(n.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!n[e].disabled})),R.select(".nv-context").attr("transform","translate(0,"+($+p.bottom+g.top)+")");var W=R.select(".nv-context .nv-linesWrap").datum(n.filter(function(t){return!t.disabled}));d3.transition(W).call(s),u.scale(e).ticks(B/100).tickSize(-$,0),l.scale(r).ticks($/36).tickSize(-B,0),R.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+$+")"),d.x(i).on("brush",function(){var e=t.transitionDuration();t.transitionDuration(0),D(),t.transitionDuration(e)}),x&&d.extent(x);var z=R.select(".nv-brushBackground").selectAll("g").data([x||d.extent()]),V=z.enter().append("g");V.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",N),V.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",N);var U=R.select(".nv-x.nv-brush").call(d);U.selectAll("rect").attr("height",N),U.selectAll(".resize").append("path").attr("d",k),D(),c.scale(i).ticks(B/100).tickSize(-N,0),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(R.select(".nv-context .nv-x.nv-axis")).call(c),h.scale(o).ticks(N/36).tickSize(-B,0),d3.transition(R.select(".nv-context .nv-y.nv-axis")).call(h),R.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),f.dispatch.on("stateChange",function(){t.update()}),M.on("tooltipShow",function(t){_&&E(t,P.parentNode)})}),t}var e,r,i,o,a=n.models.line(),s=n.models.line(),u=n.models.axis(),l=n.models.axis(),c=n.models.axis(),h=n.models.axis(),f=n.models.legend(),d=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},g={top:0,right:30,bottom:20,left:60},m=n.utils.defaultColor(),v=null,y=null,b=100,w=!0,x=null,_=!0,k=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},C="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","brush"),S=250;a.clipEdge(!0),s.interactive(!1),u.orient("bottom").tickPadding(5),l.orient("left"),c.orient("bottom").tickPadding(5),h.orient("left");var E=function(e,r){var i=e.pos[0]+(r.offsetLeft||0),o=e.pos[1]+(r.offsetTop||0),s=u.tickFormat()(a.x()(e.point,e.pointIndex)),c=l.tickFormat()(a.y()(e.point,e.pointIndex)),h=k(e.series.key,s,c,e,t);n.tooltip.show([i,o],h,null,null,r)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+p.left,t.pos[1]+p.top],M.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){_&&n.tooltip.cleanup()}),t.dispatch=M,t.legend=f,t.lines=a,t.lines2=s,t.xAxis=u,t.yAxis=l,t.x2Axis=c,t.y2Axis=h,d3.rebind(t,a,"defined","isArea","size","xDomain","yDomain","xRange","yRange","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(a.x(e),s.x(e),t):a.x},t.y=function(e){return arguments.length?(a.y(e),s.y(e),t):a.y},t.margin=function(e){return arguments.length?(p.top="undefined"!=typeof e.top?e.top:p.top,p.right="undefined"!=typeof e.right?e.right:p.right,p.bottom="undefined"!=typeof e.bottom?e.bottom:p.bottom,p.left="undefined"!=typeof e.left?e.left:p.left,t):p},t.margin2=function(e){return arguments.length?(g=e,t):g},t.width=function(e){return arguments.length?(v=e,t):v},t.height=function(e){return arguments.length?(y=e,t):y},t.height2=function(e){return arguments.length?(b=e,t):b},t.color=function(e){return arguments.length?(m=n.utils.getColor(e),f.color(m),t):m},t.showLegend=function(e){return arguments.length?(w=e,t):w},t.tooltips=function(e){return arguments.length?(_=e,t):_},t.tooltipContent=function(e){return arguments.length?(k=e,t):k},t.interpolate=function(e){return arguments.length?(a.interpolate(e),s.interpolate(e),t):a.interpolate()},t.noData=function(e){return arguments.length?(C=e,t):C},t.xTickFormat=function(e){return arguments.length?(u.tickFormat(e),c.tickFormat(e),t):u.tickFormat()},t.yTickFormat=function(e){return arguments.length?(l.tickFormat(e),h.tickFormat(e),t):l.tickFormat()},t.brushExtent=function(e){return arguments.length?(x=e,t):x},t.transitionDuration=function(e){return arguments.length?(S=e,t):S},t},n.models.linePlusBarWithFocusChart=function(){"use strict";function t(n){return n.each(function(n){function B(t){var e=+("e"==t),n=e?1:-1,r=V/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function F(){w.empty()||w.extent(T),ne.data([w.empty()?i.domain():T]).each(function(t){var e=i(t[0])-i.range()[0],n=i.range()[1]-i(t[1]);d3.select(this).select(".left").attr("width",0>e?0:e),d3.select(this).select(".right").attr("x",i(t[1])).attr("width",0>n?0:n)})}function R(){T=w.empty()?null:w.extent(),e=w.empty()?i.domain():w.extent(),N.brush({extent:e,brush:w}),F(),h.width(W).height(z).color(n.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!n[e].disabled&&n[e].bar})),l.width(W).height(z).color(n.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!n[e].disabled&&!n[e].bar}));var t=Z.select(".nv-focus .nv-barsWrap").datum(q.length?q.map(function(t){return{key:t.key,values:t.values.filter(function(t,n){return h.x()(t,n)>=e[0]&&h.x()(t,n)<=e[1]})}}):[{values:[]}]),s=Z.select(".nv-focus .nv-linesWrap").datum(H[0].disabled?[{values:[]}]:H.map(function(t){return{key:t.key,values:t.values.filter(function(t,n){return l.x()(t,n)>=e[0]&&l.x()(t,n)<=e[1]})}}));r=q.length?h.xScale():l.xScale(),d.scale(r).ticks(W/100).tickSize(-z,0),d.domain([Math.ceil(e[0]),Math.floor(e[1])]),Z.select(".nv-x.nv-axis").transition().duration(I).call(d),t.transition().duration(I).call(h),s.transition().duration(I).call(l),Z.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),g.scale(o).ticks(z/36).tickSize(-W,0),Z.select(".nv-focus .nv-y1.nv-axis").style("opacity",q.length?1:0),m.scale(a).ticks(z/36).tickSize(q.length?0:-W,0),Z.select(".nv-focus .nv-y2.nv-axis").style("opacity",H.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),Z.select(".nv-focus .nv-y1.nv-axis").transition().duration(I).call(g),Z.select(".nv-focus .nv-y2.nv-axis").transition().duration(I).call(m)}var L=d3.select(this),j=this,W=(k||parseInt(L.style("width"))||960)-x.left-x.right,z=(C||parseInt(L.style("height"))||400)-x.top-x.bottom-M,V=M-_.top-_.bottom;if(t.update=function(){L.transition().duration(I).call(t)},t.container=this,!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var U=L.selectAll(".nv-noData").data([$]);return U.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),U.attr("x",x.left+W/2).attr("y",x.top+z/2).text(function(t){return t}),t}L.selectAll(".nv-noData").remove();var q=n.filter(function(t){return!t.disabled&&t.bar}),H=n.filter(function(t){return!t.bar});r=h.xScale(),i=p.scale(),o=h.yScale(),a=l.yScale(),s=f.yScale(),u=c.yScale();var Y=n.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:E(t,e)}})}),X=n.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:E(t,e)}})});r.range([0,W]),i.domain(d3.extent(d3.merge(Y.concat(X)),function(t){return t.x})).range([0,W]);var G=L.selectAll("g.nv-wrap.nv-linePlusBar").data([n]),K=G.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),Z=G.select("g");K.append("g").attr("class","nv-legendWrap");var Q=K.append("g").attr("class","nv-focus");Q.append("g").attr("class","nv-x nv-axis"),Q.append("g").attr("class","nv-y1 nv-axis"),Q.append("g").attr("class","nv-y2 nv-axis"),Q.append("g").attr("class","nv-barsWrap"),Q.append("g").attr("class","nv-linesWrap");var J=K.append("g").attr("class","nv-context");J.append("g").attr("class","nv-x nv-axis"),J.append("g").attr("class","nv-y1 nv-axis"),J.append("g").attr("class","nv-y2 nv-axis"),J.append("g").attr("class","nv-barsWrap"),J.append("g").attr("class","nv-linesWrap"),J.append("g").attr("class","nv-brushBackground"),J.append("g").attr("class","nv-x nv-brush"),D&&(b.width(W/2),Z.select(".nv-legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(b),x.top!=b.height()&&(x.top=b.height(),z=(C||parseInt(L.style("height"))||400)-x.top-x.bottom-M),Z.select(".nv-legendWrap").attr("transform","translate("+W/2+","+-x.top+")")),G.attr("transform","translate("+x.left+","+x.top+")"),f.width(W).height(V).color(n.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!n[e].disabled&&n[e].bar})),c.width(W).height(V).color(n.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!n[e].disabled&&!n[e].bar}));var te=Z.select(".nv-context .nv-barsWrap").datum(q.length?q:[{values:[]}]),ee=Z.select(".nv-context .nv-linesWrap").datum(H[0].disabled?[{values:[]}]:H);Z.select(".nv-context").attr("transform","translate(0,"+(z+x.bottom+_.top)+")"),te.transition().call(f),ee.transition().call(c),w.x(i).on("brush",R),T&&w.extent(T);var ne=Z.select(".nv-brushBackground").selectAll("g").data([T||w.extent()]),re=ne.enter().append("g");re.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",V),re.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",V);var ie=Z.select(".nv-x.nv-brush").call(w);ie.selectAll("rect").attr("height",V),ie.selectAll(".resize").append("path").attr("d",B),p.ticks(W/100).tickSize(-V,0),Z.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")"),Z.select(".nv-context .nv-x.nv-axis").transition().call(p),v.scale(s).ticks(V/36).tickSize(-W,0),Z.select(".nv-context .nv-y1.nv-axis").style("opacity",q.length?1:0).attr("transform","translate(0,"+i.range()[0]+")"),Z.select(".nv-context .nv-y1.nv-axis").transition().call(v),y.scale(u).ticks(V/36).tickSize(q.length?0:-W,0),Z.select(".nv-context .nv-y2.nv-axis").style("opacity",H.length?1:0).attr("transform","translate("+i.range()[1]+",0)"),Z.select(".nv-context .nv-y2.nv-axis").transition().call(y),b.dispatch.on("stateChange",function(){t.update()}),N.on("tooltipShow",function(t){P&&O(t,j.parentNode)}),R()}),t}var e,r,i,o,a,s,u,l=n.models.line(),c=n.models.line(),h=n.models.historicalBar(),f=n.models.historicalBar(),d=n.models.axis(),p=n.models.axis(),g=n.models.axis(),m=n.models.axis(),v=n.models.axis(),y=n.models.axis(),b=n.models.legend(),w=d3.svg.brush(),x={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},k=null,C=null,M=100,S=function(t){return t.x},E=function(t){return t.y},A=n.utils.defaultColor(),D=!0,T=null,P=!0,B=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"
},$="No Data Available.",N=d3.dispatch("tooltipShow","tooltipHide","brush"),I=0;l.clipEdge(!0),c.interactive(!1),d.orient("bottom").tickPadding(5),g.orient("left"),m.orient("right"),p.orient("bottom").tickPadding(5),v.orient("left"),y.orient("right");var O=function(r,i){e&&(r.pointIndex+=Math.ceil(e[0]));var o=r.pos[0]+(i.offsetLeft||0),a=r.pos[1]+(i.offsetTop||0),s=d.tickFormat()(l.x()(r.point,r.pointIndex)),u=(r.series.bar?g:m).tickFormat()(l.y()(r.point,r.pointIndex)),c=B(r.series.key,s,u,r,t);n.tooltip.show([o,a],c,r.value<0?"n":"s",null,i)};return l.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],N.tooltipShow(t)}),l.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+x.left,t.pos[1]+x.top],N.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){N.tooltipHide(t)}),N.on("tooltipHide",function(){P&&n.tooltip.cleanup()}),t.dispatch=N,t.legend=b,t.lines=l,t.lines2=c,t.bars=h,t.bars2=f,t.xAxis=d,t.x2Axis=p,t.y1Axis=g,t.y2Axis=m,t.y3Axis=v,t.y4Axis=y,d3.rebind(t,l,"defined","size","clipVoronoi","interpolate"),t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(S=e,l.x(e),h.x(e),t):S},t.y=function(e){return arguments.length?(E=e,l.y(e),h.y(e),t):E},t.margin=function(e){return arguments.length?(x.top="undefined"!=typeof e.top?e.top:x.top,x.right="undefined"!=typeof e.right?e.right:x.right,x.bottom="undefined"!=typeof e.bottom?e.bottom:x.bottom,x.left="undefined"!=typeof e.left?e.left:x.left,t):x},t.width=function(e){return arguments.length?(k=e,t):k},t.height=function(e){return arguments.length?(C=e,t):C},t.color=function(e){return arguments.length?(A=n.utils.getColor(e),b.color(A),t):A},t.showLegend=function(e){return arguments.length?(D=e,t):D},t.tooltips=function(e){return arguments.length?(P=e,t):P},t.tooltipContent=function(e){return arguments.length?(B=e,t):B},t.noData=function(e){return arguments.length?($=e,t):$},t.brushExtent=function(e){return arguments.length?(T=e,t):T},t},n.models.multiBar=function(){"use strict";function t(n){return n.each(function(t){var n=c-l.left-l.right,E=h-l.top-l.bottom,A=d3.select(this);_&&t.length&&(_=[{values:t[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),b&&(t=d3.layout.stack().offset(w).values(function(t){return t.values}).y(m)(!t.length&&_?_:t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),b&&t[0].values.map(function(e,n){var r=0,i=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i,i-=e.size):(e.y1=e.size+r,r+=e.size)})});var D=r&&i?[]:t.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});f.domain(r||d3.merge(D).map(function(t){return t.x})).rangeBands(o||[0,n],M),d.domain(i||d3.extent(d3.merge(D).map(function(t){return b?t.y>0?t.y1:t.y1+t.y:t.y}).concat(v))).range(a||[E,0]),f.domain()[0]===f.domain()[1]&&f.domain(f.domain()[0]?[f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]:[-1,1]),d.domain()[0]===d.domain()[1]&&d.domain(d.domain()[0]?[d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]:[-1,1]),s=s||f,u=u||d;var T=A.selectAll("g.nv-wrap.nv-multibar").data([t]),P=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),B=P.append("defs"),$=P.append("g"),N=T.select("g");$.append("g").attr("class","nv-groups"),T.attr("transform","translate("+l.left+","+l.top+")"),B.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),T.select("#nv-edge-clip-"+p+" rect").attr("width",n).attr("height",E),N.attr("clip-path",y?"url(#nv-edge-clip-"+p+")":"");var I=T.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),I.exit().transition().selectAll("rect.nv-bar").delay(function(e,n){return n*C/t[0].values.length}).attr("y",function(t){return u(b?t.y0:0)}).attr("height",0).remove(),I.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),I.transition().style("stroke-opacity",1).style("fill-opacity",.75);var O=I.selectAll("rect.nv-bar").data(function(e){return _&&!t.length?_.values:e.values});O.exit().remove();O.enter().append("rect").attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,n,r){return b?0:r*f.rangeBand()/t.length}).attr("y",function(t){return u(b?t.y0:0)}).attr("height",0).attr("width",f.rangeBand()/(b?1:t.length)).attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"});O.style("fill",function(t,e,n){return x(t,n,e)}).style("stroke",function(t,e,n){return x(t,n,e)}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),S.elementMouseover({value:m(e,n),point:e,series:t[e.series],pos:[f(g(e,n))+f.rangeBand()*(b?t.length/2:e.series+.5)/t.length,d(m(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),S.elementMouseout({value:m(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){S.elementClick({value:m(e,n),point:e,series:t[e.series],pos:[f(g(e,n))+f.rangeBand()*(b?t.length/2:e.series+.5)/t.length,d(m(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){S.elementDblClick({value:m(e,n),point:e,series:t[e.series],pos:[f(g(e,n))+f.rangeBand()*(b?t.length/2:e.series+.5)/t.length,d(m(e,n)+(b?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),O.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).transition().attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"}),k&&(e||(e=t.map(function(){return!0})),O.style("fill",function(t,n,r){return d3.rgb(k(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return d3.rgb(k(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()})),b?O.transition().delay(function(e,n){return n*C/t[0].values.length}).attr("y",function(t){return d(b?t.y1:0)}).attr("height",function(t){return Math.max(Math.abs(d(t.y+(b?t.y0:0))-d(b?t.y0:0)),1)}).attr("x",function(e){return b?0:e.series*f.rangeBand()/t.length}).attr("width",f.rangeBand()/(b?1:t.length)):O.transition().delay(function(e,n){return n*C/t[0].values.length}).attr("x",function(e){return e.series*f.rangeBand()/t.length}).attr("width",f.rangeBand()/t.length).attr("y",function(t,e){return m(t,e)<0?d(0):d(0)-d(m(t,e))<1?d(0)-1:d(m(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(d(m(t,e))-d(0)),1)||0}),s=f.copy(),u=d.copy()}),t}var e,r,i,o,a,s,u,l={top:0,right:0,bottom:0,left:0},c=960,h=500,f=d3.scale.ordinal(),d=d3.scale.linear(),p=Math.floor(1e4*Math.random()),g=function(t){return t.x},m=function(t){return t.y},v=[0],y=!0,b=!1,w="zero",x=n.utils.defaultColor(),_=!1,k=null,C=1200,M=.1,S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=S,t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(g=e,t):g},t.y=function(e){return arguments.length?(m=e,t):m},t.margin=function(e){return arguments.length?(l.top="undefined"!=typeof e.top?e.top:l.top,l.right="undefined"!=typeof e.right?e.right:l.right,l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom,l.left="undefined"!=typeof e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(h=e,t):h},t.xScale=function(e){return arguments.length?(f=e,t):f},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(e){return arguments.length?(r=e,t):r},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(a=e,t):a},t.forceY=function(e){return arguments.length?(v=e,t):v},t.stacked=function(e){return arguments.length?(b=e,t):b},t.stackOffset=function(e){return arguments.length?(w=e,t):w},t.clipEdge=function(e){return arguments.length?(y=e,t):y},t.color=function(e){return arguments.length?(x=n.utils.getColor(e),t):x},t.barColor=function(e){return arguments.length?(k=n.utils.getColor(e),t):k},t.disabled=function(n){return arguments.length?(e=n,t):e},t.id=function(e){return arguments.length?(p=e,t):p},t.hideable=function(e){return arguments.length?(_=e,t):_},t.delay=function(e){return arguments.length?(C=e,t):C},t.groupSpacing=function(e){return arguments.length?(M=e,t):M},t},n.models.multiBarChart=function(){"use strict";function t(n){return n.each(function(n){var _=d3.select(this),T=this,P=(c||parseInt(_.style("width"))||960)-l.left-l.right,B=(h||parseInt(_.style("height"))||400)-l.top-l.bottom;if(t.update=function(){_.transition().duration(A).call(t)},t.container=this,k.disabled=n.map(function(t){return!!t.disabled}),!C){var $;C={};for($ in k)C[$]=k[$]instanceof Array?k[$].slice(0):k[$]}if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var N=_.selectAll(".nv-noData").data([M]);return N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",l.left+P/2).attr("y",l.top+B/2).text(function(t){return t}),t}_.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale();var I=_.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([n]),O=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),F=I.select("g");if(O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-controlsWrap"),p&&(s.width(P-E()),i.barColor()&&n.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),F.select(".nv-legendWrap").datum(n).call(s),l.top!=s.height()&&(l.top=s.height(),B=(h||parseInt(_.style("height"))||400)-l.top-l.bottom),F.select(".nv-legendWrap").attr("transform","translate("+E()+","+-l.top+")")),d){var R=[{key:"Grouped",disabled:i.stacked()},{key:"Stacked",disabled:!i.stacked()}];u.width(E()).color(["#444","#444","#444"]),F.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-l.top+")").call(u)}I.attr("transform","translate("+l.left+","+l.top+")"),v&&F.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)"),i.disabled(n.map(function(t){return t.disabled})).width(P).height(B).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled}));var L=F.select(".nv-barsWrap").datum(n.filter(function(t){return!t.disabled}));if(L.transition().call(i),g){o.scale(e).ticks(P/100).tickSize(-B,0),F.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),F.select(".nv-x.nv-axis").transition().call(o);var j=F.select(".nv-x.nv-axis > g").selectAll("g");if(j.selectAll("line, text").style("opacity",1),b){var W=function(t,e){return"translate("+t+","+e+")"},z=5,V=17;j.selectAll("text").attr("transform",function(t,e,n){return W(0,n%2==0?z:V)});var U=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;F.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return W(0,0===e||U%2!==0?V:z)})}y&&j.filter(function(t,e){return e%Math.ceil(n[0].values.length/(P/100))!==0}).selectAll("text, line").style("opacity",0),w&&j.selectAll(".tick text").attr("transform","rotate("+w+" 0,0)").style("text-anchor",w>0?"start":"end"),F.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}m&&(a.scale(r).ticks(B/36).tickSize(-P,0),F.select(".nv-y.nv-axis").transition().call(a)),s.dispatch.on("stateChange",function(e){k=e,S.stateChange(k),t.update()}),u.dispatch.on("legendClick",function(e){if(e.disabled){switch(R=R.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}k.stacked=i.stacked(),S.stateChange(k),t.update()}}),S.on("tooltipShow",function(t){x&&D(t,T.parentNode)}),S.on("changeState",function(e){"undefined"!=typeof e.disabled&&(n.forEach(function(t,n){t.disabled=e.disabled[n]}),k.disabled=e.disabled),"undefined"!=typeof e.stacked&&(i.stacked(e.stacked),k.stacked=e.stacked),t.update()})}),t}var e,r,i=n.models.multiBar(),o=n.models.axis(),a=n.models.axis(),s=n.models.legend(),u=n.models.legend(),l={top:30,right:20,bottom:50,left:60},c=null,h=null,f=n.utils.defaultColor(),d=!0,p=!0,g=!0,m=!0,v=!1,y=!0,b=!1,w=0,x=!0,_=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},k={stacked:!1},C=null,M="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),E=function(){return d?180:0},A=250;i.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(t){return t}),a.orient(v?"right":"left").tickFormat(d3.format(",.1f")),u.updateState(!1);var D=function(e,r){var s=e.pos[0]+(r.offsetLeft||0),u=e.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(e.point,e.pointIndex)),c=a.tickFormat()(i.y()(e.point,e.pointIndex)),h=_(e.series.key,l,c,e,t);n.tooltip.show([s,u],h,e.value<0?"n":"s",null,r)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],S.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){x&&n.tooltip.cleanup()}),t.dispatch=S,t.multibar=i,t.legend=s,t.xAxis=o,t.yAxis=a,d3.rebind(t,i,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","stacked","stackOffset","delay","barColor","groupSpacing"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top="undefined"!=typeof e.top?e.top:l.top,l.right="undefined"!=typeof e.right?e.right:l.right,l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom,l.left="undefined"!=typeof e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(f=n.utils.getColor(e),s.color(f),t):f},t.showControls=function(e){return arguments.length?(d=e,t):d},t.showLegend=function(e){return arguments.length?(p=e,t):p},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(m=e,t):m},t.rightAlignYAxis=function(e){return arguments.length?(v=e,a.orient(e?"right":"left"),t):v},t.reduceXTicks=function(e){return arguments.length?(y=e,t):y},t.rotateLabels=function(e){return arguments.length?(w=e,t):w},t.staggerLabels=function(e){return arguments.length?(b=e,t):b},t.tooltip=function(e){return arguments.length?(_=e,t):_},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(_=e,t):_},t.state=function(e){return arguments.length?(k=e,t):k},t.defaultState=function(e){return arguments.length?(C=e,t):C},t.noData=function(e){return arguments.length?(M=e,t):M},t.transitionDuration=function(e){return arguments.length?(A=e,t):A},t},n.models.multiBarHorizontal=function(){"use strict";function t(n){return n.each(function(t){{var n=c-l.left-l.right,f=h-l.top-l.bottom;d3.select(this)}w&&(t=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(m)(t)),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})}),w&&t[0].values.map(function(e,n){var r=0,i=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i-e.size,i-=e.size):(e.y1=r,r+=e.size)})});var M=r&&i?[]:t.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:m(t,e),y0:t.y0,y1:t.y1}})});d.domain(r||d3.merge(M).map(function(t){return t.x})).rangeBands(o||[0,f],.1),p.domain(i||d3.extent(d3.merge(M).map(function(t){return w?t.y>0?t.y1+t.y:t.y1:t.y}).concat(v))),p.range(x&&!w?a||[p.domain()[0]<0?k:0,n-(p.domain()[1]>0?k:0)]:a||[0,n]),s=s||d,u=u||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);{var E=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([t]),A=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),D=(A.append("defs"),A.append("g"));E.select("g")}D.append("g").attr("class","nv-groups"),E.attr("transform","translate("+l.left+","+l.top+")");var T=E.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});T.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),T.exit().transition().style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),T.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return y(t,e)}).style("stroke",function(t,e){return y(t,e)}),T.transition().style("stroke-opacity",1).style("fill-opacity",.75);var P=T.selectAll("g.nv-bar").data(function(t){return t.values});P.exit().remove();var B=P.enter().append("g").attr("transform",function(e,n,r){return"translate("+u(w?e.y0:0)+","+(w?0:r*d.rangeBand()/t.length+d(g(e,n)))+")"});B.append("rect").attr("width",0).attr("height",d.rangeBand()/(w?1:t.length)),P.on("mouseover",function(e,n){d3.select(this).classed("hover",!0),S.elementMouseover({value:m(e,n),point:e,series:t[e.series],pos:[p(m(e,n)+(w?e.y0:0)),d(g(e,n))+d.rangeBand()*(w?t.length/2:e.series+.5)/t.length],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),S.elementMouseout({value:m(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){S.elementClick({value:m(e,n),point:e,series:t[e.series],pos:[d(g(e,n))+d.rangeBand()*(w?t.length/2:e.series+.5)/t.length,p(m(e,n)+(w?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){S.elementDblClick({value:m(e,n),point:e,series:t[e.series],pos:[d(g(e,n))+d.rangeBand()*(w?t.length/2:e.series+.5)/t.length,p(m(e,n)+(w?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),B.append("text"),x&&!w?(P.select("text").attr("text-anchor",function(t,e){return m(t,e)<0?"end":"start"}).attr("y",d.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return C(m(t,e))}),P.transition().select("text").attr("x",function(t,e){return m(t,e)<0?-4:p(m(t,e))-p(0)+4})):P.selectAll("text").text(""),_&&!w?(B.append("text").classed("nv-bar-label",!0),P.select("text.nv-bar-label").attr("text-anchor",function(t,e){return m(t,e)<0?"start":"end"}).attr("y",d.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return g(t,e)}),P.transition().select("text.nv-bar-label").attr("x",function(t,e){return m(t,e)<0?p(0)-p(m(t,e))+4:-4})):P.selectAll("text.nv-bar-label").text(""),P.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}),b&&(e||(e=t.map(function(){return!0})),P.style("fill",function(t,n,r){return d3.rgb(b(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return d3.rgb(b(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()})),w?P.transition().attr("transform",function(t,e){return"translate("+p(t.y1)+","+d(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(m(t,e)+t.y0)-p(t.y0))}).attr("height",d.rangeBand()):P.transition().attr("transform",function(e,n){return"translate("+p(m(e,n)<0?m(e,n):0)+","+(e.series*d.rangeBand()/t.length+d(g(e,n)))+")"}).select("rect").attr("height",d.rangeBand()/t.length).attr("width",function(t,e){return Math.max(Math.abs(p(m(t,e))-p(0)),1)}),s=d.copy(),u=p.copy()}),t}var e,r,i,o,a,s,u,l={top:0,right:0,bottom:0,left:0},c=960,h=500,f=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},m=function(t){return t.y},v=[0],y=n.utils.defaultColor(),b=null,w=!1,x=!1,_=!1,k=60,C=d3.format(",.2f"),M=1200,S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=S,t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(g=e,t):g},t.y=function(e){return arguments.length?(m=e,t):m},t.margin=function(e){return arguments.length?(l.top="undefined"!=typeof e.top?e.top:l.top,l.right="undefined"!=typeof e.right?e.right:l.right,l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom,l.left="undefined"!=typeof e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(h=e,t):h},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(p=e,t):p},t.xDomain=function(e){return arguments.length?(r=e,t):r},t.yDomain=function(e){return arguments.length?(i=e,t):i},t.xRange=function(e){return arguments.length?(o=e,t):o},t.yRange=function(e){return arguments.length?(a=e,t):a},t.forceY=function(e){return arguments.length?(v=e,t):v},t.stacked=function(e){return arguments.length?(w=e,t):w},t.color=function(e){return arguments.length?(y=n.utils.getColor(e),t):y},t.barColor=function(e){return arguments.length?(b=n.utils.getColor(e),t):b},t.disabled=function(n){return arguments.length?(e=n,t):e},t.id=function(e){return arguments.length?(f=e,t):f},t.delay=function(e){return arguments.length?(M=e,t):M},t.showValues=function(e){return arguments.length?(x=e,t):x},t.showBarLabels=function(e){return arguments.length?(_=e,t):_},t.valueFormat=function(e){return arguments.length?(C=e,t):C},t.valuePadding=function(e){return arguments.length?(k=e,t):k},t},n.models.multiBarHorizontalChart=function(){"use strict";function t(n){return n.each(function(n){var v=d3.select(this),b=this,E=(c||parseInt(v.style("width"))||960)-l.left-l.right,A=(h||parseInt(v.style("height"))||400)-l.top-l.bottom;if(t.update=function(){v.transition().duration(M).call(t)},t.container=this,w.disabled=n.map(function(t){return!!t.disabled}),!x){var D;x={};for(D in w)x[D]=w[D]instanceof Array?w[D].slice(0):w[D]}if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var T=v.selectAll(".nv-noData").data([_]);return T.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),T.attr("x",l.left+E/2).attr("y",l.top+A/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale();var P=v.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([n]),B=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),$=P.select("g");if(B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),B.append("g").attr("class","nv-barsWrap"),B.append("g").attr("class","nv-legendWrap"),B.append("g").attr("class","nv-controlsWrap"),p&&(s.width(E-C()),i.barColor()&&n.forEach(function(t,e){t.color=d3.rgb("#ccc").darker(1.5*e).toString()}),$.select(".nv-legendWrap").datum(n).call(s),l.top!=s.height()&&(l.top=s.height(),A=(h||parseInt(v.style("height"))||400)-l.top-l.bottom),$.select(".nv-legendWrap").attr("transform","translate("+C()+","+-l.top+")")),d){var N=[{key:"Grouped",disabled:i.stacked()},{key:"Stacked",disabled:!i.stacked()}];u.width(C()).color(["#444","#444","#444"]),$.select(".nv-controlsWrap").datum(N).attr("transform","translate(0,"+-l.top+")").call(u)}P.attr("transform","translate("+l.left+","+l.top+")"),i.disabled(n.map(function(t){return t.disabled})).width(E).height(A).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled}));var I=$.select(".nv-barsWrap").datum(n.filter(function(t){return!t.disabled}));if(I.transition().call(i),g){o.scale(e).ticks(A/24).tickSize(-E,0),$.select(".nv-x.nv-axis").transition().call(o);var O=$.select(".nv-x.nv-axis").selectAll("g");O.selectAll("line, text")}m&&(a.scale(r).ticks(E/100).tickSize(-A,0),$.select(".nv-y.nv-axis").attr("transform","translate(0,"+A+")"),$.select(".nv-y.nv-axis").transition().call(a)),$.select(".nv-zeroLine line").attr("x1",r(0)).attr("x2",r(0)).attr("y1",0).attr("y2",-A),s.dispatch.on("stateChange",function(e){w=e,k.stateChange(w),t.update()}),u.dispatch.on("legendClick",function(e){if(e.disabled){switch(N=N.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":i.stacked(!1);break;case"Stacked":i.stacked(!0)}w.stacked=i.stacked(),k.stateChange(w),t.update()}}),k.on("tooltipShow",function(t){y&&S(t,b.parentNode)}),k.on("changeState",function(e){"undefined"!=typeof e.disabled&&(n.forEach(function(t,n){t.disabled=e.disabled[n]}),w.disabled=e.disabled),"undefined"!=typeof e.stacked&&(i.stacked(e.stacked),w.stacked=e.stacked),t.update()})}),t}var e,r,i=n.models.multiBarHorizontal(),o=n.models.axis(),a=n.models.axis(),s=n.models.legend().height(30),u=n.models.legend().height(30),l={top:30,right:20,bottom:50,left:60},c=null,h=null,f=n.utils.defaultColor(),d=!0,p=!0,g=!0,m=!0,v=!1,y=!0,b=function(t,e,n){return"<h3>"+t+" - "+e+"</h3><p>"+n+"</p>"},w={stacked:v},x=null,_="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),C=function(){return d?180:0},M=250;i.stacked(v),o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),a.orient("bottom").tickFormat(d3.format(",.1f")),u.updateState(!1);var S=function(e,r){var s=e.pos[0]+(r.offsetLeft||0),u=e.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(e.point,e.pointIndex)),c=a.tickFormat()(i.y()(e.point,e.pointIndex)),h=b(e.series.key,l,c,e,t);n.tooltip.show([s,u],h,e.value<0?"e":"w",null,r)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],k.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){y&&n.tooltip.cleanup()}),t.dispatch=k,t.multibar=i,t.legend=s,t.xAxis=o,t.yAxis=a,d3.rebind(t,i,"x","y","xDomain","yDomain","xRange","yRange","forceX","forceY","clipEdge","id","delay","showValues","showBarLabels","valueFormat","stacked","barColor"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top="undefined"!=typeof e.top?e.top:l.top,l.right="undefined"!=typeof e.right?e.right:l.right,l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom,l.left="undefined"!=typeof e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(f=n.utils.getColor(e),s.color(f),t):f},t.showControls=function(e){return arguments.length?(d=e,t):d},t.showLegend=function(e){return arguments.length?(p=e,t):p},t.showXAxis=function(e){return arguments.length?(g=e,t):g},t.showYAxis=function(e){return arguments.length?(m=e,t):m},t.tooltip=function(e){return arguments.length?(b=e,t):b},t.tooltips=function(e){return arguments.length?(y=e,t):y},t.tooltipContent=function(e){return arguments.length?(b=e,t):b},t.state=function(e){return arguments.length?(w=e,t):w},t.defaultState=function(e){return arguments.length?(x=e,t):x},t.noData=function(e){return arguments.length?(_=e,t):_},t.transitionDuration=function(e){return arguments.length?(M=e,t):M},t},n.models.multiChart=function(){"use strict";function t(n){return n.each(function(n){var h=d3.select(this),S=this;t.update=function(){h.transition().call(t)},t.container=this;var E=(s||parseInt(h.style("width"))||960)-o.left-o.right,A=(u||parseInt(h.style("height"))||400)-o.top-o.bottom,D=n.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),T=n.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),P=n.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),B=n.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),$=n.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),N=n.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),I=n.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})}),O=n.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})});e.domain(d3.extent(d3.merge(I.concat(O)),function(t){return t.x})).range([0,E]);var F=h.selectAll("g.wrap.multiChart").data([n]),R=F.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");R.append("g").attr("class","x axis"),R.append("g").attr("class","y1 axis"),R.append("g").attr("class","y2 axis"),R.append("g").attr("class","lines1Wrap"),R.append("g").attr("class","lines2Wrap"),R.append("g").attr("class","bars1Wrap"),R.append("g").attr("class","bars2Wrap"),R.append("g").attr("class","stack1Wrap"),R.append("g").attr("class","stack2Wrap"),R.append("g").attr("class","legendWrap");var L=F.select("g");l&&(k.width(E/2),L.select(".legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(k),o.top!=k.height()&&(o.top=k.height(),A=(u||parseInt(h.style("height"))||400)-o.top-o.bottom),L.select(".legendWrap").attr("transform","translate("+E/2+","+-o.top+")")),p.width(E).height(A).interpolate("monotone").color(n.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"line"==n[e].type})),g.width(E).height(A).interpolate("monotone").color(n.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"line"==n[e].type})),m.width(E).height(A).color(n.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"bar"==n[e].type})),v.width(E).height(A).color(n.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"bar"==n[e].type})),y.width(E).height(A).color(n.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"area"==n[e].type})),b.width(E).height(A).color(n.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"area"==n[e].type})),L.attr("transform","translate("+o.left+","+o.top+")");var j=L.select(".lines1Wrap").datum(D),W=L.select(".bars1Wrap").datum(P),z=L.select(".stack1Wrap").datum($),V=L.select(".lines2Wrap").datum(T),U=L.select(".bars2Wrap").datum(B),q=L.select(".stack2Wrap").datum(N),H=$.length?$.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],Y=N.length?N.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];f.domain(r||d3.extent(d3.merge(I).concat(H),function(t){return t.y})).range([0,A]),d.domain(i||d3.extent(d3.merge(O).concat(Y),function(t){return t.y})).range([0,A]),p.yDomain(f.domain()),m.yDomain(f.domain()),y.yDomain(f.domain()),g.yDomain(d.domain()),v.yDomain(d.domain()),b.yDomain(d.domain()),$.length&&d3.transition(z).call(y),N.length&&d3.transition(q).call(b),P.length&&d3.transition(W).call(m),B.length&&d3.transition(U).call(v),D.length&&d3.transition(j).call(p),T.length&&d3.transition(V).call(g),w.ticks(E/100).tickSize(-A,0),L.select(".x.axis").attr("transform","translate(0,"+A+")"),d3.transition(L.select(".x.axis")).call(w),x.ticks(A/36).tickSize(-E,0),d3.transition(L.select(".y1.axis")).call(x),_.ticks(A/36).tickSize(-E,0),d3.transition(L.select(".y2.axis")).call(_),L.select(".y2.axis").style("opacity",O.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),k.dispatch.on("stateChange",function(){t.update()}),C.on("tooltipShow",function(t){c&&M(t,S.parentNode)})}),t}var e,r,i,o={top:30,right:20,bottom:50,left:60},a=d3.scale.category20().range(),s=null,u=null,l=!0,c=!0,h=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" at "+e+"</p>"},e=d3.scale.linear(),f=d3.scale.linear(),d=d3.scale.linear(),p=n.models.line().yScale(f),g=n.models.line().yScale(d),m=n.models.multiBar().stacked(!1).yScale(f),v=n.models.multiBar().stacked(!1).yScale(d),y=n.models.stackedArea().yScale(f),b=n.models.stackedArea().yScale(d),w=n.models.axis().scale(e).orient("bottom").tickPadding(5),x=n.models.axis().scale(f).orient("left"),_=n.models.axis().scale(d).orient("right"),k=n.models.legend().height(30),C=d3.dispatch("tooltipShow","tooltipHide"),M=function(e,r){var i=e.pos[0]+(r.offsetLeft||0),o=e.pos[1]+(r.offsetTop||0),a=w.tickFormat()(p.x()(e.point,e.pointIndex)),s=(2==e.series.yAxis?_:x).tickFormat()(p.y()(e.point,e.pointIndex)),u=h(e.series.key,a,s,e,t);n.tooltip.show([i,o],u,void 0,void 0,r.offsetParent)};return p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)
}),p.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),v.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),v.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),y.dispatch.on("tooltipShow",function(t){return Math.round(100*y.y()(t.point))?(t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],void C.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),y.dispatch.on("tooltipHide",function(t){C.tooltipHide(t)}),b.dispatch.on("tooltipShow",function(t){return Math.round(100*b.y()(t.point))?(t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],void C.tooltipShow(t)):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),b.dispatch.on("tooltipHide",function(t){C.tooltipHide(t)}),p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),p.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+o.left,t.pos[1]+o.top],C.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){C.tooltipHide(t)}),C.on("tooltipHide",function(){c&&n.tooltip.cleanup()}),t.dispatch=C,t.lines1=p,t.lines2=g,t.bars1=m,t.bars2=v,t.stack1=y,t.stack2=b,t.xAxis=w,t.yAxis1=x,t.yAxis2=_,t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(getX=e,p.x(e),m.x(e),t):getX},t.y=function(e){return arguments.length?(getY=e,p.y(e),m.y(e),t):getY},t.yDomain1=function(e){return arguments.length?(r=e,t):r},t.yDomain2=function(e){return arguments.length?(i=e,t):i},t.margin=function(e){return arguments.length?(o=e,t):o},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.color=function(e){return arguments.length?(a=e,k.color(e),t):a},t.showLegend=function(e){return arguments.length?(l=e,t):l},t.tooltips=function(e){return arguments.length?(c=e,t):c},t.tooltipContent=function(e){return arguments.length?(h=e,t):h},t},n.models.ohlcBar=function(){"use strict";function t(n){return n.each(function(t){var n=s-a.left-a.right,_=u-a.top-a.bottom,C=d3.select(this);c.domain(e||d3.extent(t[0].values.map(f).concat(y))),c.range(w?i||[.5*n/t[0].values.length,n*(t[0].values.length-.5)/t[0].values.length]:i||[0,n]),h.domain(r||[d3.min(t[0].values.map(v).concat(b)),d3.max(t[0].values.map(m).concat(b))]).range(o||[_,0]),c.domain()[0]===c.domain()[1]&&c.domain(c.domain()[0]?[c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]:[-1,1]),h.domain()[0]===h.domain()[1]&&h.domain(h.domain()[0]?[h.domain()[0]+.01*h.domain()[0],h.domain()[1]-.01*h.domain()[1]]:[-1,1]);var M=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([t[0].values]),S=M.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=S.append("defs"),A=S.append("g"),D=M.select("g");A.append("g").attr("class","nv-ticks"),M.attr("transform","translate("+a.left+","+a.top+")"),C.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:l})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),M.select("#nv-chart-clip-path-"+l+" rect").attr("width",n).attr("height",_),D.attr("clip-path",x?"url(#nv-chart-clip-path-"+l+")":"");var T=M.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});T.exit().remove();T.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(e,r){var i=n/t[0].values.length*.9;return"m0,0l0,"+(h(p(e,r))-h(m(e,r)))+"l"+-i/2+",0l"+i/2+",0l0,"+(h(v(e,r))-h(p(e,r)))+"l0,"+(h(g(e,r))-h(v(e,r)))+"l"+i/2+",0l"+-i/2+",0z"}).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+h(m(t,e))+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),k.elementMouseover({point:e,series:t[0],pos:[c(f(e,n)),h(d(e,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),k.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(t,e){k.elementClick({value:d(t,e),data:t,index:e,pos:[c(f(t,e)),h(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation()}).on("dblclick",function(t,e){k.elementDblClick({value:d(t,e),data:t,index:e,pos:[c(f(t,e)),h(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation()});T.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(T).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+h(m(t,e))+")"}).attr("d",function(e,r){var i=n/t[0].values.length*.9;return"m0,0l0,"+(h(p(e,r))-h(m(e,r)))+"l"+-i/2+",0l"+i/2+",0l0,"+(h(v(e,r))-h(p(e,r)))+"l0,"+(h(g(e,r))-h(v(e,r)))+"l"+i/2+",0l"+-i/2+",0z"})}),t}var e,r,i,o,a={top:0,right:0,bottom:0,left:0},s=960,u=500,l=Math.floor(1e4*Math.random()),c=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},d=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},m=function(t){return t.high},v=function(t){return t.low},y=[],b=[],w=!1,x=!0,_=n.utils.defaultColor(),k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=k,t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(f=e,t):f},t.y=function(e){return arguments.length?(d=e,t):d},t.open=function(e){return arguments.length?(p=e,t):p},t.close=function(e){return arguments.length?(g=e,t):g},t.high=function(e){return arguments.length?(m=e,t):m},t.low=function(e){return arguments.length?(v=e,t):v},t.margin=function(e){return arguments.length?(a.top="undefined"!=typeof e.top?e.top:a.top,a.right="undefined"!=typeof e.right?e.right:a.right,a.bottom="undefined"!=typeof e.bottom?e.bottom:a.bottom,a.left="undefined"!=typeof e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(c=e,t):c},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(i=e,t):i},t.yRange=function(e){return arguments.length?(o=e,t):o},t.forceX=function(e){return arguments.length?(y=e,t):y},t.forceY=function(e){return arguments.length?(b=e,t):b},t.padData=function(e){return arguments.length?(w=e,t):w},t.clipEdge=function(e){return arguments.length?(x=e,t):x},t.color=function(e){return arguments.length?(_=n.utils.getColor(e),t):_},t.id=function(e){return arguments.length?(l=e,t):l},t},n.models.pie=function(){"use strict";function t(n){return n.each(function(t){function n(t){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return T(e(t))}}var s=r-e.left-e.right,c=i-e.top-e.bottom,k=Math.min(s,c)/2,C=k-k/5,M=d3.select(this),S=M.selectAll(".nv-wrap.nv-pie").data(t),E=S.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+u),A=E.append("g"),D=S.select("g");A.append("g").attr("class","nv-pie"),A.append("g").attr("class","nv-pieLabels"),S.attr("transform","translate("+e.left+","+e.top+")"),D.select(".nv-pie").attr("transform","translate("+s/2+","+c/2+")"),D.select(".nv-pieLabels").attr("transform","translate("+s/2+","+c/2+")"),M.on("click",function(t,e){_.chartClick({data:t,index:e,pos:d3.event,id:u})});var T=d3.svg.arc().outerRadius(C);b&&T.startAngle(b),w&&T.endAngle(w),v&&T.innerRadius(k*x);var P=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:a(t)}),B=S.select(".nv-pie").selectAll(".nv-slice").data(P),$=S.select(".nv-pieLabels").selectAll(".nv-label").data(P);B.exit().remove(),$.exit().remove();var N=B.enter().append("g").attr("class","nv-slice").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),_.elementMouseover({label:o(t.data),value:a(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:u})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),_.elementMouseout({label:o(t.data),value:a(t.data),point:t.data,index:e,id:u})}).on("click",function(t,e){_.elementClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:u}),d3.event.stopPropagation()}).on("dblclick",function(t,e){_.elementDblClick({label:o(t.data),value:a(t.data),point:t.data,index:e,pos:d3.event,id:u}),d3.event.stopPropagation()});B.attr("fill",function(t,e){return l(t,e)}).attr("stroke",function(t,e){return l(t,e)});N.append("path").each(function(t){this._current=t});if(B.select("path").transition().attr("d",T).attrTween("d",n),h){var I=d3.svg.arc().innerRadius(0);f&&(I=T),p&&(I=d3.svg.arc().outerRadius(T.outerRadius())),$.enter().append("g").classed("nv-label",!0).each(function(t){var e=d3.select(this);e.attr("transform",function(t){if(y){t.outerRadius=C+10,t.innerRadius=C+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+I.centroid(t)+") rotate("+e+")"}return t.outerRadius=k+10,t.innerRadius=k+15,"translate("+I.centroid(t)+")"}),e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),e.append("text").style("text-anchor",y?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var O={},F=14,R=140,L=function(t){return Math.floor(t[0]/R)*R+","+Math.floor(t[1]/F)*F};$.transition().attr("transform",function(t){if(y){t.outerRadius=C+10,t.innerRadius=C+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+I.centroid(t)+") rotate("+e+")"}t.outerRadius=k+10,t.innerRadius=k+15;var n=I.centroid(t),r=L(n);return O[r]&&(n[1]-=F),O[L(n)]=!0,"translate("+n+")"}),$.select(".nv-label text").style("text-anchor",y?(d.startAngle+d.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t){var e=(t.endAngle-t.startAngle)/(2*Math.PI),n={key:o(t.data),value:a(t.data),percent:d3.format("%")(e)};return t.value&&e>m?n[g]:""})}}),t}var e={top:0,right:0,bottom:0,left:0},r=500,i=500,o=function(t){return t.x},a=function(t){return t.y},s=function(t){return t.description},u=Math.floor(1e4*Math.random()),l=n.utils.defaultColor(),c=d3.format(",.2f"),h=!0,f=!0,p=!1,g="key",m=.02,v=!1,y=!1,b=!1,w=!1,x=.5,_=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=_,t.options=n.utils.optionsFunc.bind(t),t.margin=function(n){return arguments.length?(e.top="undefined"!=typeof n.top?n.top:e.top,e.right="undefined"!=typeof n.right?n.right:e.right,e.bottom="undefined"!=typeof n.bottom?n.bottom:e.bottom,e.left="undefined"!=typeof n.left?n.left:e.left,t):e},t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(i=e,t):i},t.values=function(){return n.log("pie.values() is no longer supported."),t},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=d3.functor(e),t):a},t.description=function(e){return arguments.length?(s=e,t):s},t.showLabels=function(e){return arguments.length?(h=e,t):h},t.labelSunbeamLayout=function(e){return arguments.length?(y=e,t):y},t.donutLabelsOutside=function(e){return arguments.length?(p=e,t):p},t.pieLabelsOutside=function(e){return arguments.length?(f=e,t):f},t.labelType=function(e){return arguments.length?(g=e,g=g||"key",t):g},t.donut=function(e){return arguments.length?(v=e,t):v},t.donutRatio=function(e){return arguments.length?(x=e,t):x},t.startAngle=function(e){return arguments.length?(b=e,t):b},t.endAngle=function(e){return arguments.length?(w=e,t):w},t.id=function(e){return arguments.length?(u=e,t):u},t.color=function(e){return arguments.length?(l=n.utils.getColor(e),t):l},t.valueFormat=function(e){return arguments.length?(c=e,t):c},t.labelThreshold=function(e){return arguments.length?(m=e,t):m},t},n.models.pieChart=function(){"use strict";function t(n){return n.each(function(n){var u=d3.select(this),l=(o||parseInt(u.style("width"))||960)-i.left-i.right,c=(a||parseInt(u.style("height"))||400)-i.top-i.bottom;if(t.update=function(){u.transition().call(t)},t.container=this,h.disabled=n.map(function(t){return!!t.disabled}),!f){var g;f={};for(g in h)f[g]=h[g]instanceof Array?h[g].slice(0):h[g]}if(!n||!n.length){var m=u.selectAll(".nv-noData").data([d]);return m.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),m.attr("x",i.left+l/2).attr("y",i.top+c/2).text(function(t){return t}),t}u.selectAll(".nv-noData").remove();var v=u.selectAll("g.nv-wrap.nv-pieChart").data([n]),y=v.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),b=v.select("g");y.append("g").attr("class","nv-pieWrap"),y.append("g").attr("class","nv-legendWrap"),s&&(r.width(l).key(e.x()),v.select(".nv-legendWrap").datum(n).call(r),i.top!=r.height()&&(i.top=r.height(),c=(a||parseInt(u.style("height"))||400)-i.top-i.bottom),v.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")")),v.attr("transform","translate("+i.left+","+i.top+")"),e.width(l).height(c);var w=b.select(".nv-pieWrap").datum([n]);d3.transition(w).call(e),r.dispatch.on("stateChange",function(e){h=e,p.stateChange(h),t.update()}),e.dispatch.on("elementMouseout.tooltip",function(t){p.tooltipHide(t)}),p.on("changeState",function(e){"undefined"!=typeof e.disabled&&(n.forEach(function(t,n){t.disabled=e.disabled[n]}),h.disabled=e.disabled),t.update()})}),t}var e=n.models.pie(),r=n.models.legend(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,s=!0,u=n.utils.defaultColor(),l=!0,c=function(t,e){return"<h3>"+t+"</h3><p>"+e+"</p>"},h={},f=null,d="No Data Available.",p=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),g=function(r,i){var o=e.description()(r.point)||e.x()(r.point),a=r.pos[0]+(i&&i.offsetLeft||0),s=r.pos[1]+(i&&i.offsetTop||0),u=e.valueFormat()(e.y()(r.point)),l=c(o,u,r,t);n.tooltip.show([a,s],l,r.value<0?"n":"s",null,i)};return e.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],p.tooltipShow(t)}),p.on("tooltipShow",function(t){l&&g(t)}),p.on("tooltipHide",function(){l&&n.tooltip.cleanup()}),t.legend=r,t.dispatch=p,t.pie=e,d3.rebind(t,e,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","labelType","donut","donutRatio","labelThreshold"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(i.top="undefined"!=typeof e.top?e.top:i.top,i.right="undefined"!=typeof e.right?e.right:i.right,i.bottom="undefined"!=typeof e.bottom?e.bottom:i.bottom,i.left="undefined"!=typeof e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(a=e,t):a},t.color=function(i){return arguments.length?(u=n.utils.getColor(i),r.color(u),e.color(u),t):u},t.showLegend=function(e){return arguments.length?(s=e,t):s},t.tooltips=function(e){return arguments.length?(l=e,t):l},t.tooltipContent=function(e){return arguments.length?(c=e,t):c},t.state=function(e){return arguments.length?(h=e,t):h},t.defaultState=function(e){return arguments.length?(f=e,t):f},t.noData=function(e){return arguments.length?(d=e,t):d},t},n.models.scatter=function(){"use strict";function t(j){return j.each(function(t){function j(){if(!_)return!1;var e=d3.merge(t.map(function(t,e){return t.values.map(function(t,n){var r=p(t,n),i=g(t,n);return[h(r)+1e-7*Math.random(),f(i)+1e-7*Math.random(),e,n,t]}).filter(function(t,e){return C(t[4],e)})}));if(R===!0){if(A){var n=q.select("defs").selectAll(".nv-point-clips").data([c]).enter();n.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+c);var r=q.select("#nv-points-clip-"+c).selectAll("circle").data(e);r.enter().append("circle").attr("r",D),r.exit().remove(),r.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),q.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+c+")")}e.length&&(e.push([h.range()[0]-20,f.range()[0]-20,null,null]),e.push([h.range()[1]+20,f.range()[1]+20,null,null]),e.push([h.range()[0]-20,f.range()[0]+20,null,null]),e.push([h.range()[1]+20,f.range()[1]-20,null,null]));var i=d3.geom.polygon([[-10,-10],[-10,u+10],[s+10,u+10],[s+10,-10]]),o=d3.geom.voronoi(e).map(function(t,n){return{data:i.clip(t),series:e[n][2],point:e[n][3]}}),l=q.select(".nv-point-paths").selectAll("path").data(o);l.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),l.exit().remove(),l.attr("d",function(t){return 0===t.data.length?"M 0 0":"M"+t.data.join("L")+"Z"});var d=function(e,n){if(L)return 0;var r=t[e.series];if("undefined"!=typeof r){var i=r.values[e.point];n({point:i,series:r,pos:[h(p(i,e.point))+a.left,f(g(i,e.point))+a.top],seriesIndex:e.series,pointIndex:e.point})}};l.on("click",function(t){d(t,F.elementClick)}).on("mouseover",function(t){d(t,F.elementMouseover)}).on("mouseout",function(t){d(t,F.elementMouseout)})}else q.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,n){if(L||!t[e.series])return 0;var r=t[e.series],i=r.values[n];F.elementClick({point:i,series:r,pos:[h(p(i,n))+a.left,f(g(i,n))+a.top],seriesIndex:e.series,pointIndex:n})}).on("mouseover",function(e,n){if(L||!t[e.series])return 0;var r=t[e.series],i=r.values[n];F.elementMouseover({point:i,series:r,pos:[h(p(i,n))+a.left,f(g(i,n))+a.top],seriesIndex:e.series,pointIndex:n})}).on("mouseout",function(e,n){if(L||!t[e.series])return 0;var r=t[e.series],i=r.values[n];F.elementMouseout({point:i,series:r,seriesIndex:e.series,pointIndex:n})});L=!1}var W=s-a.left-a.right,z=u-a.top-a.bottom,V=d3.select(this);t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var U=T&&P&&N?[]:d3.merge(t.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),size:m(t,e)}})}));h.domain(T||d3.extent(U.map(function(t){return t.x}).concat(b))),h.range(M&&t[0]?B||[(W*S+W)/(2*t[0].values.length),W-W*(1+S)/(2*t[0].values.length)]:B||[0,W]),f.domain(P||d3.extent(U.map(function(t){return t.y}).concat(w))).range($||[z,0]),d.domain(N||d3.extent(U.map(function(t){return t.size}).concat(x))).range(I||[16,256]),(h.domain()[0]===h.domain()[1]||f.domain()[0]===f.domain()[1])&&(O=!0),h.domain()[0]===h.domain()[1]&&h.domain(h.domain()[0]?[h.domain()[0]-.01*h.domain()[0],h.domain()[1]+.01*h.domain()[1]]:[-1,1]),f.domain()[0]===f.domain()[1]&&f.domain(f.domain()[0]?[f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]:[-1,1]),isNaN(h.domain()[0])&&h.domain([-1,1]),isNaN(f.domain()[0])&&f.domain([-1,1]),e=e||h,r=r||f,i=i||d;var q=V.selectAll("g.nv-wrap.nv-scatter").data([t]),H=q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c+(O?" nv-single-point":"")),Y=H.append("defs"),X=H.append("g"),G=q.select("g");X.append("g").attr("class","nv-groups"),X.append("g").attr("class","nv-point-paths"),q.attr("transform","translate("+a.left+","+a.top+")"),Y.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),q.select("#nv-edge-clip-"+c+" rect").attr("width",W).attr("height",z>0?z:0),G.attr("clip-path",E?"url(#nv-edge-clip-"+c+")":""),L=!0;var K=q.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});if(K.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),K.exit().remove(),K.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),K.transition().style("fill",function(t,e){return l(t,e)}).style("stroke",function(t,e){return l(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),y){var Z=K.selectAll("circle.nv-point").data(function(t){return t.values},k);Z.enter().append("circle").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("cx",function(t,r){return n.utils.NaNtoZero(e(p(t,r)))}).attr("cy",function(t,e){return n.utils.NaNtoZero(r(g(t,e)))}).attr("r",function(t,e){return Math.sqrt(d(m(t,e))/Math.PI)}),Z.exit().remove(),K.exit().selectAll("path.nv-point").transition().attr("cx",function(t,e){return n.utils.NaNtoZero(h(p(t,e)))}).attr("cy",function(t,e){return n.utils.NaNtoZero(f(g(t,e)))}).remove(),Z.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),Z.transition().attr("cx",function(t,e){return n.utils.NaNtoZero(h(p(t,e)))}).attr("cy",function(t,e){return n.utils.NaNtoZero(f(g(t,e)))}).attr("r",function(t,e){return Math.sqrt(d(m(t,e))/Math.PI)})}else{var Z=K.selectAll("path.nv-point").data(function(t){return t.values});Z.enter().append("path").style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t,n){return"translate("+e(p(t,n))+","+r(g(t,n))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return d(m(t,e))})),Z.exit().remove(),K.exit().selectAll("path.nv-point").transition().attr("transform",function(t,e){return"translate("+h(p(t,e))+","+f(g(t,e))+")"}).remove(),Z.each(function(t,e){d3.select(this).classed("nv-point",!0).classed("nv-point-"+e,!0).classed("hover",!1)}),Z.transition().attr("transform",function(t,e){return"translate("+h(p(t,e))+","+f(g(t,e))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return d(m(t,e))}))}clearTimeout(o),o=setTimeout(j,300),e=h.copy(),r=f.copy(),i=d.copy()}),t}var e,r,i,o,a={top:0,right:0,bottom:0,left:0},s=960,u=500,l=n.utils.defaultColor(),c=Math.floor(1e5*Math.random()),h=d3.scale.linear(),f=d3.scale.linear(),d=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},m=function(t){return t.size||1},v=function(t){return t.shape||"circle"},y=!0,b=[],w=[],x=[],_=!0,k=null,C=function(t){return!t.notActive},M=!1,S=.1,E=!1,A=!0,D=function(){return 25},T=null,P=null,B=null,$=null,N=null,I=null,O=!1,F=d3.dispatch("elementClick","elementMouseover","elementMouseout"),R=!0,L=!1;return t.clearHighlights=function(){d3.selectAll(".nv-chart-"+c+" .nv-point.hover").classed("hover",!1)},t.highlightPoint=function(t,e,n){d3.select(".nv-chart-"+c+" .nv-series-"+t+" .nv-point-"+e).classed("hover",n)},F.on("elementMouseover.point",function(e){_&&t.highlightPoint(e.seriesIndex,e.pointIndex,!0)}),F.on("elementMouseout.point",function(e){_&&t.highlightPoint(e.seriesIndex,e.pointIndex,!1)}),t.dispatch=F,t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(p=d3.functor(e),t):p},t.y=function(e){return arguments.length?(g=d3.functor(e),t):g},t.size=function(e){return arguments.length?(m=d3.functor(e),t):m},t.margin=function(e){return arguments.length?(a.top="undefined"!=typeof e.top?e.top:a.top,a.right="undefined"!=typeof e.right?e.right:a.right,a.bottom="undefined"!=typeof e.bottom?e.bottom:a.bottom,a.left="undefined"!=typeof e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(h=e,t):h},t.yScale=function(e){return arguments.length?(f=e,t):f},t.zScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(e){return arguments.length?(T=e,t):T},t.yDomain=function(e){return arguments.length?(P=e,t):P},t.sizeDomain=function(e){return arguments.length?(N=e,t):N},t.xRange=function(e){return arguments.length?(B=e,t):B},t.yRange=function(e){return arguments.length?($=e,t):$},t.sizeRange=function(e){return arguments.length?(I=e,t):I},t.forceX=function(e){return arguments.length?(b=e,t):b},t.forceY=function(e){return arguments.length?(w=e,t):w},t.forceSize=function(e){return arguments.length?(x=e,t):x},t.interactive=function(e){return arguments.length?(_=e,t):_},t.pointKey=function(e){return arguments.length?(k=e,t):k},t.pointActive=function(e){return arguments.length?(C=e,t):C},t.padData=function(e){return arguments.length?(M=e,t):M},t.padDataOuter=function(e){return arguments.length?(S=e,t):S},t.clipEdge=function(e){return arguments.length?(E=e,t):E},t.clipVoronoi=function(e){return arguments.length?(A=e,t):A},t.useVoronoi=function(e){return arguments.length?(R=e,R===!1&&(A=!1),t):R},t.clipRadius=function(e){return arguments.length?(D=e,t):D},t.color=function(e){return arguments.length?(l=n.utils.getColor(e),t):l},t.shape=function(e){return arguments.length?(v=e,t):v},t.onlyCircles=function(e){return arguments.length?(y=e,t):y},t.id=function(e){return arguments.length?(c=e,t):c},t.singlePoint=function(e){return arguments.length?(O=e,t):O},t},n.models.scatterChart=function(){"use strict";function t(n){return n.each(function(n){function E(){if(M)return H.select(".nv-point-paths").style("pointer-events","all"),!1;H.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);d.distortion(C).focus(t[0]),p.distortion(C).focus(t[1]),H.select(".nv-scatterWrap").call(e),w&&H.select(".nv-x.nv-axis").call(r),x&&H.select(".nv-y.nv-axis").call(i),H.select(".nv-distributionX").datum(n.filter(function(t){return!t.disabled})).call(s),H.select(".nv-distributionY").datum(n.filter(function(t){return!t.disabled})).call(u)}var A=d3.select(this),D=this,L=(c||parseInt(A.style("width"))||960)-l.left-l.right,j=(h||parseInt(A.style("height"))||400)-l.top-l.bottom;if(t.update=function(){A.transition().duration(N).call(t)},t.container=this,T.disabled=n.map(function(t){return!!t.disabled}),!P){var W;P={};for(W in T)P[W]=T[W]instanceof Array?T[W].slice(0):T[W]}if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var z=A.selectAll(".nv-noData").data([$]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",l.left+L/2).attr("y",l.top+j/2).text(function(t){return t}),t}A.selectAll(".nv-noData").remove(),I=I||d,O=O||p;var V=A.selectAll("g.nv-wrap.nv-scatterChart").data([n]),U=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()),q=U.append("g"),H=V.select("g");if(q.append("rect").attr("class","nvd3 nv-background"),q.append("g").attr("class","nv-x nv-axis"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-scatterWrap"),q.append("g").attr("class","nv-distWrap"),q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap"),b){var Y=k?L/2:L;o.width(Y),V.select(".nv-legendWrap").datum(n).call(o),l.top!=o.height()&&(l.top=o.height(),j=(h||parseInt(A.style("height"))||400)-l.top-l.bottom),V.select(".nv-legendWrap").attr("transform","translate("+(L-Y)+","+-l.top+")")}if(k&&(a.width(180).color(["#444"]),H.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-l.top+")").call(a)),V.attr("transform","translate("+l.left+","+l.top+")"),_&&H.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),e.width(L).height(j).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled})),0!==g&&e.xDomain(null),0!==m&&e.yDomain(null),V.select(".nv-scatterWrap").datum(n.filter(function(t){return!t.disabled})).call(e),0!==g){var X=d.domain()[1]-d.domain()[0];e.xDomain([d.domain()[0]-g*X,d.domain()[1]+g*X])}if(0!==m){var G=p.domain()[1]-p.domain()[0];e.yDomain([p.domain()[0]-m*G,p.domain()[1]+m*G])}(0!==m||0!==g)&&V.select(".nv-scatterWrap").datum(n.filter(function(t){return!t.disabled})).call(e),w&&(r.scale(d).ticks(r.ticks()&&r.ticks().length?r.ticks():L/100).tickSize(-j,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(r)),x&&(i.scale(p).ticks(i.ticks()&&i.ticks().length?i.ticks():j/36).tickSize(-L,0),H.select(".nv-y.nv-axis").call(i)),v&&(s.getData(e.x()).scale(d).width(L).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled})),q.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),H.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(n.filter(function(t){return!t.disabled})).call(s)),y&&(u.getData(e.y()).scale(p).width(j).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled})),q.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),H.select(".nv-distributionY").attr("transform","translate("+(_?L:-u.size())+",0)").datum(n.filter(function(t){return!t.disabled})).call(u)),d3.fisheye&&(H.select(".nv-background").attr("width",L).attr("height",j),H.select(".nv-background").on("mousemove",E),H.select(".nv-background").on("click",function(){M=!M}),e.dispatch.on("elementClick.freezeFisheye",function(){M=!M})),a.dispatch.on("legendClick",function(n){n.disabled=!n.disabled,C=n.disabled?0:2.5,H.select(".nv-background").style("pointer-events",n.disabled?"none":"all"),H.select(".nv-point-paths").style("pointer-events",n.disabled?"all":"none"),n.disabled?(d.distortion(C).focus(0),p.distortion(C).focus(0),H.select(".nv-scatterWrap").call(e),H.select(".nv-x.nv-axis").call(r),H.select(".nv-y.nv-axis").call(i)):M=!1,t.update()}),o.dispatch.on("stateChange",function(e){T.disabled=e.disabled,B.stateChange(T),t.update()}),e.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",function(){return t.pos[1]-j}),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+s.size()),t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],B.tooltipShow(t)}),B.on("tooltipShow",function(t){S&&F(t,D.parentNode)}),B.on("changeState",function(e){"undefined"!=typeof e.disabled&&(n.forEach(function(t,n){t.disabled=e.disabled[n]}),T.disabled=e.disabled),t.update()}),I=d.copy(),O=p.copy()}),t}var e=n.models.scatter(),r=n.models.axis(),i=n.models.axis(),o=n.models.legend(),a=n.models.legend(),s=n.models.distribution(),u=n.models.distribution(),l={top:30,right:20,bottom:50,left:75},c=null,h=null,f=n.utils.defaultColor(),d=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),g=0,m=0,v=!1,y=!1,b=!0,w=!0,x=!0,_=!1,k=!!d3.fisheye,C=0,M=!1,S=!0,E=function(t,e){return"<strong>"+e+"</strong>"},A=function(t,e,n){return"<strong>"+n+"</strong>"},D=null,T={},P=null,B=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),$="No Data Available.",N=250;e.xScale(d).yScale(p),r.orient("bottom").tickPadding(10),i.orient(_?"right":"left").tickPadding(10),s.axis("x"),u.axis("y"),a.updateState(!1);var I,O,F=function(o,a){var s=o.pos[0]+(a.offsetLeft||0),u=o.pos[1]+(a.offsetTop||0),c=o.pos[0]+(a.offsetLeft||0),h=p.range()[0]+l.top+(a.offsetTop||0),f=d.range()[0]+l.left+(a.offsetLeft||0),g=o.pos[1]+(a.offsetTop||0),m=r.tickFormat()(e.x()(o.point,o.pointIndex)),v=i.tickFormat()(e.y()(o.point,o.pointIndex));null!=E&&n.tooltip.show([c,h],E(o.series.key,m,v,o,t),"n",1,a,"x-nvtooltip"),null!=A&&n.tooltip.show([f,g],A(o.series.key,m,v,o,t),"e",1,a,"y-nvtooltip"),null!=D&&n.tooltip.show([s,u],D(o.series.key,m,v,o,t),o.value<0?"n":"s",null,a)},R=[{key:"Magnify",disabled:!0}];return e.dispatch.on("elementMouseout.tooltip",function(t){B.tooltipHide(t),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",u.size())}),B.on("tooltipHide",function(){S&&n.tooltip.cleanup()}),t.dispatch=B,t.scatter=e,t.legend=o,t.controls=a,t.xAxis=r,t.yAxis=i,t.distX=s,t.distY=u,d3.rebind(t,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top="undefined"!=typeof e.top?e.top:l.top,l.right="undefined"!=typeof e.right?e.right:l.right,l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom,l.left="undefined"!=typeof e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(f=n.utils.getColor(e),o.color(f),s.color(f),u.color(f),t):f},t.showDistX=function(e){return arguments.length?(v=e,t):v},t.showDistY=function(e){return arguments.length?(y=e,t):y},t.showControls=function(e){return arguments.length?(k=e,t):k},t.showLegend=function(e){return arguments.length?(b=e,t):b
},t.showXAxis=function(e){return arguments.length?(w=e,t):w},t.showYAxis=function(e){return arguments.length?(x=e,t):x},t.rightAlignYAxis=function(e){return arguments.length?(_=e,i.orient(e?"right":"left"),t):_},t.fisheye=function(e){return arguments.length?(C=e,t):C},t.xPadding=function(e){return arguments.length?(g=e,t):g},t.yPadding=function(e){return arguments.length?(m=e,t):m},t.tooltips=function(e){return arguments.length?(S=e,t):S},t.tooltipContent=function(e){return arguments.length?(D=e,t):D},t.tooltipXContent=function(e){return arguments.length?(E=e,t):E},t.tooltipYContent=function(e){return arguments.length?(A=e,t):A},t.state=function(e){return arguments.length?(T=e,t):T},t.defaultState=function(e){return arguments.length?(P=e,t):P},t.noData=function(e){return arguments.length?($=e,t):$},t.transitionDuration=function(e){return arguments.length?(N=e,t):N},t},n.models.scatterPlusLineChart=function(){"use strict";function t(n){return n.each(function(n){function M(){if(k)return U.select(".nv-point-paths").style("pointer-events","all"),!1;U.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);d.distortion(_).focus(t[0]),p.distortion(_).focus(t[1]),U.select(".nv-scatterWrap").datum(n.filter(function(t){return!t.disabled})).call(e),y&&U.select(".nv-x.nv-axis").call(r),b&&U.select(".nv-y.nv-axis").call(i),U.select(".nv-distributionX").datum(n.filter(function(t){return!t.disabled})).call(s),U.select(".nv-distributionY").datum(n.filter(function(t){return!t.disabled})).call(u)}var S=d3.select(this),E=this,F=(c||parseInt(S.style("width"))||960)-l.left-l.right,R=(h||parseInt(S.style("height"))||400)-l.top-l.bottom;if(t.update=function(){S.transition().duration(B).call(t)},t.container=this,A.disabled=n.map(function(t){return!!t.disabled}),!D){var L;D={};for(L in A)D[L]=A[L]instanceof Array?A[L].slice(0):A[L]}if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length)){var j=S.selectAll(".nv-noData").data([P]);return j.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),j.attr("x",l.left+F/2).attr("y",l.top+R/2).text(function(t){return t}),t}S.selectAll(".nv-noData").remove(),d=e.xScale(),p=e.yScale(),$=$||d,N=N||p;var W=S.selectAll("g.nv-wrap.nv-scatterChart").data([n]),z=W.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()),V=z.append("g"),U=W.select("g");V.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-scatterWrap"),V.append("g").attr("class","nv-regressionLinesWrap"),V.append("g").attr("class","nv-distWrap"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),W.attr("transform","translate("+l.left+","+l.top+")"),w&&U.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),v&&(o.width(F/2),W.select(".nv-legendWrap").datum(n).call(o),l.top!=o.height()&&(l.top=o.height(),R=(h||parseInt(S.style("height"))||400)-l.top-l.bottom),W.select(".nv-legendWrap").attr("transform","translate("+F/2+","+-l.top+")")),x&&(a.width(180).color(["#444"]),U.select(".nv-controlsWrap").datum(O).attr("transform","translate(0,"+-l.top+")").call(a)),e.width(F).height(R).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled})),W.select(".nv-scatterWrap").datum(n.filter(function(t){return!t.disabled})).call(e),W.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+e.id()+")");var q=W.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});q.enter().append("g").attr("class","nv-regLines");{var H=q.selectAll(".nv-regLine").data(function(t){return[t]});H.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0)}H.transition().attr("x1",d.range()[0]).attr("x2",d.range()[1]).attr("y1",function(t){return p(d.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return p(d.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return f(t,n)}).style("stroke-opacity",function(t){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),y&&(r.scale(d).ticks(r.ticks()?r.ticks():F/100).tickSize(-R,0),U.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")").call(r)),b&&(i.scale(p).ticks(i.ticks()?i.ticks():R/36).tickSize(-F,0),U.select(".nv-y.nv-axis").call(i)),g&&(s.getData(e.x()).scale(d).width(F).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),U.select(".nv-distributionX").attr("transform","translate(0,"+p.range()[0]+")").datum(n.filter(function(t){return!t.disabled})).call(s)),m&&(u.getData(e.y()).scale(p).width(R).color(n.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!n[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),U.select(".nv-distributionY").attr("transform","translate("+(w?F:-u.size())+",0)").datum(n.filter(function(t){return!t.disabled})).call(u)),d3.fisheye&&(U.select(".nv-background").attr("width",F).attr("height",R),U.select(".nv-background").on("mousemove",M),U.select(".nv-background").on("click",function(){k=!k}),e.dispatch.on("elementClick.freezeFisheye",function(){k=!k})),a.dispatch.on("legendClick",function(n){n.disabled=!n.disabled,_=n.disabled?0:2.5,U.select(".nv-background").style("pointer-events",n.disabled?"none":"all"),U.select(".nv-point-paths").style("pointer-events",n.disabled?"all":"none"),n.disabled?(d.distortion(_).focus(0),p.distortion(_).focus(0),U.select(".nv-scatterWrap").call(e),U.select(".nv-x.nv-axis").call(r),U.select(".nv-y.nv-axis").call(i)):k=!1,t.update()}),o.dispatch.on("stateChange",function(e){A=e,T.stateChange(A),t.update()}),e.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-R),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+s.size()),t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],T.tooltipShow(t)}),T.on("tooltipShow",function(t){C&&I(t,E.parentNode)}),T.on("changeState",function(e){"undefined"!=typeof e.disabled&&(n.forEach(function(t,n){t.disabled=e.disabled[n]}),A.disabled=e.disabled),t.update()}),$=d.copy(),N=p.copy()}),t}var e=n.models.scatter(),r=n.models.axis(),i=n.models.axis(),o=n.models.legend(),a=n.models.legend(),s=n.models.distribution(),u=n.models.distribution(),l={top:30,right:20,bottom:50,left:75},c=null,h=null,f=n.utils.defaultColor(),d=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),g=!1,m=!1,v=!0,y=!0,b=!0,w=!1,x=!!d3.fisheye,_=0,k=!1,C=!0,M=function(t,e){return"<strong>"+e+"</strong>"},S=function(t,e,n){return"<strong>"+n+"</strong>"},E=function(t,e,n,r){return"<h3>"+t+"</h3><p>"+r+"</p>"},A={},D=null,T=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),P="No Data Available.",B=250;e.xScale(d).yScale(p),r.orient("bottom").tickPadding(10),i.orient(w?"right":"left").tickPadding(10),s.axis("x"),u.axis("y"),a.updateState(!1);var $,N,I=function(o,a){var s=o.pos[0]+(a.offsetLeft||0),u=o.pos[1]+(a.offsetTop||0),c=o.pos[0]+(a.offsetLeft||0),h=p.range()[0]+l.top+(a.offsetTop||0),f=d.range()[0]+l.left+(a.offsetLeft||0),g=o.pos[1]+(a.offsetTop||0),m=r.tickFormat()(e.x()(o.point,o.pointIndex)),v=i.tickFormat()(e.y()(o.point,o.pointIndex));null!=M&&n.tooltip.show([c,h],M(o.series.key,m,v,o,t),"n",1,a,"x-nvtooltip"),null!=S&&n.tooltip.show([f,g],S(o.series.key,m,v,o,t),"e",1,a,"y-nvtooltip"),null!=E&&n.tooltip.show([s,u],E(o.series.key,m,v,o.point.tooltip,o,t),o.value<0?"n":"s",null,a)},O=[{key:"Magnify",disabled:!0}];return e.dispatch.on("elementMouseout.tooltip",function(t){T.tooltipHide(t),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",u.size())}),T.on("tooltipHide",function(){C&&n.tooltip.cleanup()}),t.dispatch=T,t.scatter=e,t.legend=o,t.controls=a,t.xAxis=r,t.yAxis=i,t.distX=s,t.distY=u,d3.rebind(t,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(l.top="undefined"!=typeof e.top?e.top:l.top,l.right="undefined"!=typeof e.right?e.right:l.right,l.bottom="undefined"!=typeof e.bottom?e.bottom:l.bottom,l.left="undefined"!=typeof e.left?e.left:l.left,t):l},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(f=n.utils.getColor(e),o.color(f),s.color(f),u.color(f),t):f},t.showDistX=function(e){return arguments.length?(g=e,t):g},t.showDistY=function(e){return arguments.length?(m=e,t):m},t.showControls=function(e){return arguments.length?(x=e,t):x},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.showXAxis=function(e){return arguments.length?(y=e,t):y},t.showYAxis=function(e){return arguments.length?(b=e,t):b},t.rightAlignYAxis=function(e){return arguments.length?(w=e,i.orient(e?"right":"left"),t):w},t.fisheye=function(e){return arguments.length?(_=e,t):_},t.tooltips=function(e){return arguments.length?(C=e,t):C},t.tooltipContent=function(e){return arguments.length?(E=e,t):E},t.tooltipXContent=function(e){return arguments.length?(M=e,t):M},t.tooltipYContent=function(e){return arguments.length?(S=e,t):S},t.state=function(e){return arguments.length?(A=e,t):A},t.defaultState=function(e){return arguments.length?(D=e,t):D},t.noData=function(e){return arguments.length?(P=e,t):P},t.transitionDuration=function(e){return arguments.length?(B=e,t):B},t},n.models.sparkline=function(){"use strict";function t(n){return n.each(function(t){var n=s-a.left-a.right,l=u-a.top-a.bottom,g=d3.select(this);c.domain(e||d3.extent(t,f)).range(i||[0,n]),h.domain(r||d3.extent(t,d)).range(o||[l,0]);{var m=g.selectAll("g.nv-wrap.nv-sparkline").data([t]),v=m.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");v.append("g"),m.select("g")}m.attr("transform","translate("+a.left+","+a.top+")");var y=m.selectAll("path").data(function(t){return[t]});y.enter().append("path"),y.exit().remove(),y.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(f(t,e))}).y(function(t,e){return h(d(t,e))}));var b=m.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return d(t,e)}),r=e(n.lastIndexOf(h.domain()[1])),i=e(n.indexOf(h.domain()[0])),o=e(n.length-1);return[i,r,o].filter(function(t){return null!=t})});b.enter().append("circle"),b.exit().remove(),b.attr("cx",function(t){return c(f(t,t.pointIndex))}).attr("cy",function(t){return h(d(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return f(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":d(t,t.pointIndex)==h.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),t}var e,r,i,o,a={top:2,right:0,bottom:2,left:0},s=400,u=32,l=!0,c=d3.scale.linear(),h=d3.scale.linear(),f=function(t){return t.x},d=function(t){return t.y},p=n.utils.getColor(["#000"]);return t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(a.top="undefined"!=typeof e.top?e.top:a.top,a.right="undefined"!=typeof e.right?e.right:a.right,a.bottom="undefined"!=typeof e.bottom?e.bottom:a.bottom,a.left="undefined"!=typeof e.left?e.left:a.left,t):a},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.x=function(e){return arguments.length?(f=d3.functor(e),t):f},t.y=function(e){return arguments.length?(d=d3.functor(e),t):d},t.xScale=function(e){return arguments.length?(c=e,t):c},t.yScale=function(e){return arguments.length?(h=e,t):h},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.xRange=function(e){return arguments.length?(i=e,t):i},t.yRange=function(e){return arguments.length?(o=e,t):o},t.animate=function(e){return arguments.length?(l=e,t):l},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),t):p},t},n.models.sparklinePlus=function(){"use strict";function t(n){return n.each(function(f){function m(){if(!l){var t=S.selectAll(".nv-hoverValue").data(u),n=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+e(i.x()(f[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),u.length&&(n.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",w),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),S.select(".nv-hoverValue .nv-xValue").text(c(i.x()(f[u[0]],u[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),S.select(".nv-hoverValue .nv-yValue").text(h(i.y()(f[u[0]],u[0]))))}}function v(){function t(t,e){for(var n=Math.abs(i.x()(t[0],0)-e),r=0,o=0;o<t.length;o++)Math.abs(i.x()(t[o],o)-e)<n&&(n=Math.abs(i.x()(t[o],o)-e),r=o);return r}if(!l){var n=d3.mouse(this)[0]-o.left;u=[t(f,Math.round(e.invert(n)))],m()}}var y=d3.select(this),b=(a||parseInt(y.style("width"))||960)-o.left-o.right,w=(s||parseInt(y.style("height"))||400)-o.top-o.bottom;if(t.update=function(){t(n)},t.container=this,!f||!f.length){var x=y.selectAll(".nv-noData").data([g]);return x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),x.attr("x",o.left+b/2).attr("y",o.top+w/2).text(function(t){return t}),t}y.selectAll(".nv-noData").remove();var _=i.y()(f[f.length-1],f.length-1);e=i.xScale(),r=i.yScale();var k=y.selectAll("g.nv-wrap.nv-sparklineplus").data([f]),C=k.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),M=C.append("g"),S=k.select("g");M.append("g").attr("class","nv-sparklineWrap"),M.append("g").attr("class","nv-valueWrap"),M.append("g").attr("class","nv-hoverArea"),k.attr("transform","translate("+o.left+","+o.top+")");var E=S.select(".nv-sparklineWrap");i.width(b).height(w),E.call(i);var A=S.select(".nv-valueWrap"),D=A.selectAll(".nv-currentValue").data([_]);D.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),D.attr("x",b+(p?o.right:0)).attr("y",d?function(t){return r(t)}:0).style("fill",i.color()(f[f.length-1],f.length-1)).text(h(_)),M.select(".nv-hoverArea").append("rect").on("mousemove",v).on("click",function(){l=!l}).on("mouseout",function(){u=[],m()}),S.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-o.left+","+-o.top+")"}).attr("width",b+o.left+o.right).attr("height",w+o.top)}),t}var e,r,i=n.models.sparkline(),o={top:15,right:100,bottom:10,left:50},a=null,s=null,u=[],l=!1,c=d3.format(",r"),h=d3.format(",.2f"),f=!0,d=!0,p=!1,g="No Data Available.";return t.sparkline=i,d3.rebind(t,i,"x","y","xScale","yScale","color"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(o.top="undefined"!=typeof e.top?e.top:o.top,o.right="undefined"!=typeof e.right?e.right:o.right,o.bottom="undefined"!=typeof e.bottom?e.bottom:o.bottom,o.left="undefined"!=typeof e.left?e.left:o.left,t):o},t.width=function(e){return arguments.length?(a=e,t):a},t.height=function(e){return arguments.length?(s=e,t):s},t.xTickFormat=function(e){return arguments.length?(c=e,t):c},t.yTickFormat=function(e){return arguments.length?(h=e,t):h},t.showValue=function(e){return arguments.length?(f=e,t):f},t.alignValue=function(e){return arguments.length?(d=e,t):d},t.rightAlignValue=function(e){return arguments.length?(p=e,t):p},t.noData=function(e){return arguments.length?(g=e,t):g},t},n.models.stackedArea=function(){"use strict";function t(n){return n.each(function(n){var h=o-i.left-i.right,y=a-i.top-i.bottom,b=d3.select(this);e=m.xScale(),r=m.yScale();var w=n;n.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var x=n.filter(function(t){return!t.disabled});n=d3.layout.stack().order(d).offset(f).values(function(t){return t.values}).x(l).y(c).out(function(t,e,n){var r=0===c(t)?0:n;t.display={y:r,y0:e}})(x);var _=b.selectAll("g.nv-wrap.nv-stackedarea").data([n]),k=_.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=k.append("defs"),M=k.append("g"),S=_.select("g");M.append("g").attr("class","nv-areaWrap"),M.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+i.left+","+i.top+")"),m.width(h).height(y).x(l).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(n.map(function(t){return t.color||s(t,t.seriesIndex)}));var E=S.select(".nv-scatterWrap").datum(n);E.call(m),C.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),_.select("#nv-edge-clip-"+u+" rect").attr("width",h).attr("height",y),S.attr("clip-path",g?"url(#nv-edge-clip-"+u+")":"");var A=d3.svg.area().x(function(t,n){return e(l(t,n))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y+t.display.y0)}).interpolate(p),D=d3.svg.area().x(function(t,n){return e(l(t,n))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y0)}),T=S.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});T.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t){return D(t.values,t.seriesIndex)}).on("mouseover",function(t){d3.select(this).classed("hover",!0),v.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t){d3.select(this).classed("hover",!1),v.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t){d3.select(this).classed("hover",!1),v.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),T.exit().remove(),T.style("fill",function(t){return t.color||s(t,t.seriesIndex)}).style("stroke",function(t){return t.color||s(t,t.seriesIndex)}),T.transition().attr("d",function(t,e){return A(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){S.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){S.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),t.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;e<w.length;e++)r+=c(w[e].values[n]);if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s}}),t}var e,r,i={top:0,right:0,bottom:0,left:0},o=960,a=500,s=n.utils.defaultColor(),u=Math.floor(1e5*Math.random()),l=function(t){return t.x},c=function(t){return t.y},h="stack",f="zero",d="default",p="linear",g=!1,m=n.models.scatter(),v=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return m.size(2.2).sizeDomain([2.2,2.2]),m.dispatch.on("elementClick.area",function(t){v.areaClick(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+i.left,t.pos[1]+i.top],v.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){v.tooltipHide(t)}),t.dispatch=v,t.scatter=m,d3.rebind(t,m,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","xRange","yRange","sizeDomain","forceX","forceY","forceSize","clipVoronoi","useVoronoi","clipRadius","highlightPoint","clearHighlights"),t.options=n.utils.optionsFunc.bind(t),t.x=function(e){return arguments.length?(l=d3.functor(e),t):l},t.y=function(e){return arguments.length?(c=d3.functor(e),t):c},t.margin=function(e){return arguments.length?(i.top="undefined"!=typeof e.top?e.top:i.top,i.right="undefined"!=typeof e.right?e.right:i.right,i.bottom="undefined"!=typeof e.bottom?e.bottom:i.bottom,i.left="undefined"!=typeof e.left?e.left:i.left,t):i},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(a=e,t):a},t.clipEdge=function(e){return arguments.length?(g=e,t):g},t.color=function(e){return arguments.length?(s=n.utils.getColor(e),t):s},t.offset=function(e){return arguments.length?(f=e,t):f},t.order=function(e){return arguments.length?(d=e,t):d},t.style=function(e){if(!arguments.length)return h;switch(h=e){case"stack":t.offset("zero"),t.order("default");break;case"stream":t.offset("wiggle"),t.order("inside-out");break;case"stream-center":t.offset("silhouette"),t.order("inside-out");break;case"expand":t.offset("expand"),t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent),t.order("default")}return t},t.interpolate=function(e){return arguments.length?(p=e,t):p},t},n.models.stackedAreaChart=function(){"use strict";function t(x){return x.each(function(x){var B=d3.select(this),$=this,N=(h||parseInt(B.style("width"))||960)-c.left-c.right,I=(f||parseInt(B.style("height"))||400)-c.top-c.bottom;if(t.update=function(){B.transition().duration(T).call(t)},t.container=this,k.disabled=x.map(function(t){return!!t.disabled}),!C){var O;C={};for(O in k)C[O]=k[O]instanceof Array?k[O].slice(0):k[O]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var F=B.selectAll(".nv-noData").data([M]);return F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),F.attr("x",c.left+N/2).attr("y",c.top+I/2).text(function(t){return t}),t}B.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale();var R=B.selectAll("g.nv-wrap.nv-stackedAreaChart").data([x]),L=R.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),j=R.select("g");if(L.append("rect").style("opacity",0),L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis"),L.append("g").attr("class","nv-stackedWrap"),L.append("g").attr("class","nv-legendWrap"),L.append("g").attr("class","nv-controlsWrap"),L.append("g").attr("class","nv-interactive"),j.select("rect").attr("width",N).attr("height",I),g){var W=p?N-E:N;s.width(W),j.select(".nv-legendWrap").datum(x).call(s),c.top!=s.height()&&(c.top=s.height(),I=(f||parseInt(B.style("height"))||400)-c.top-c.bottom),j.select(".nv-legendWrap").attr("transform","translate("+(N-W)+","+-c.top+")")}if(p){var z=[{key:D.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=i.style(),style:"stack"},{key:D.stream||"Stream",metaKey:"Stream",disabled:"stream"!=i.style(),style:"stream"},{key:D.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=i.style(),style:"expand"},{key:D.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=i.style(),style:"stack_percent"}];E=A.length/3*260,z=z.filter(function(t){return-1!==A.indexOf(t.metaKey)}),u.width(E).color(["#444","#444","#444"]),j.select(".nv-controlsWrap").datum(z).call(u),c.top!=Math.max(u.height(),s.height())&&(c.top=Math.max(u.height(),s.height()),I=(f||parseInt(B.style("height"))||400)-c.top-c.bottom),j.select(".nv-controlsWrap").attr("transform","translate(0,"+-c.top+")")}R.attr("transform","translate("+c.left+","+c.top+")"),y&&j.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),b&&(l.width(N).height(I).margin({left:c.left,top:c.top}).svgContainer(B).xScale(e),R.select(".nv-interactive").call(l)),i.width(N).height(I);var V=j.select(".nv-stackedWrap").datum(x);V.transition().call(i),m&&(o.scale(e).ticks(N/100).tickSize(-I,0),j.select(".nv-x.nv-axis").attr("transform","translate(0,"+I+")"),j.select(".nv-x.nv-axis").transition().duration(0).call(o)),v&&(a.scale(r).ticks("wiggle"==i.offset()?0:I/36).tickSize(-N,0).setTickFormat("expand"==i.style()||"stack_percent"==i.style()?d3.format("%"):_),j.select(".nv-y.nv-axis").transition().duration(0).call(a)),i.dispatch.on("areaClick.toggle",function(e){x.forEach(1===x.filter(function(t){return!t.disabled}).length?function(t){t.disabled=!1}:function(t,n){t.disabled=n!=e.seriesIndex}),k.disabled=x.map(function(t){return!!t.disabled}),S.stateChange(k),t.update()}),s.dispatch.on("stateChange",function(e){k.disabled=e.disabled,S.stateChange(k),t.update()}),u.dispatch.on("legendClick",function(e){e.disabled&&(z=z.map(function(t){return t.disabled=!0,t}),e.disabled=!1,i.style(e.style),k.style=i.style(),S.stateChange(k),t.update())}),l.dispatch.on("elementMousemove",function(e){i.clearHighlights();var r,s,u,h=[];if(x.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){s=n.interactiveBisect(o.values,e.pointXValue,t.x()),i.highlightPoint(a,s,!0);var l=o.values[s];if("undefined"!=typeof l){"undefined"==typeof r&&(r=l),"undefined"==typeof u&&(u=t.xScale()(t.x()(l,s)));var c="expand"==i.style()?l.display.y:t.y()(l,s);h.push({key:o.key,value:c,color:d(o,o.seriesIndex),stackedValue:l.display})}}),h.reverse(),h.length>2){var f=t.yScale().invert(e.mouseY),p=null;h.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.stackedValue.y0),r=Math.abs(t.stackedValue.y);return f>=n&&r+n>=f?void(p=e):void 0}),null!=p&&(h[p].highlight=!0)}var g=o.tickFormat()(t.x()(r,s)),m="expand"==i.style()?function(t){return d3.format(".1%")(t)}:function(t){return a.tickFormat()(t)};l.tooltip.position({left:u+c.left,top:e.mouseY+c.top}).chartContainer($.parentNode).enabled(w).valueFormatter(m).data({value:g,series:h})(),l.renderGuideLine(u)}),l.dispatch.on("elementMouseout",function(){S.tooltipHide(),i.clearHighlights()}),S.on("tooltipShow",function(t){w&&P(t,$.parentNode)}),S.on("changeState",function(e){"undefined"!=typeof e.disabled&&x.length===e.disabled.length&&(x.forEach(function(t,n){t.disabled=e.disabled[n]}),k.disabled=e.disabled),"undefined"!=typeof e.style&&i.style(e.style),t.update()})}),t}var e,r,i=n.models.stackedArea(),o=n.models.axis(),a=n.models.axis(),s=n.models.legend(),u=n.models.legend(),l=n.interactiveGuideline(),c={top:30,right:25,bottom:50,left:60},h=null,f=null,d=n.utils.defaultColor(),p=!0,g=!0,m=!0,v=!0,y=!1,b=!1,w=!0,x=function(t,e,n){return"<h3>"+t+"</h3><p>"+n+" on "+e+"</p>"},_=d3.format(",.2f"),k={style:i.style()},C=null,M="No Data Available.",S=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),E=250,A=["Stacked","Stream","Expanded"],D={},T=250;o.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),u.updateState(!1);var P=function(e,r){var s=e.pos[0]+(r.offsetLeft||0),u=e.pos[1]+(r.offsetTop||0),l=o.tickFormat()(i.x()(e.point,e.pointIndex)),c=a.tickFormat()(i.y()(e.point,e.pointIndex)),h=x(e.series.key,l,c,e,t);n.tooltip.show([s,u],h,e.value<0?"n":"s",null,r)};return i.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],S.tooltipShow(t)}),i.dispatch.on("tooltipHide",function(t){S.tooltipHide(t)}),S.on("tooltipHide",function(){w&&n.tooltip.cleanup()}),t.dispatch=S,t.stacked=i,t.legend=s,t.controls=u,t.xAxis=o,t.yAxis=a,t.interactiveLayer=l,d3.rebind(t,i,"x","y","size","xScale","yScale","xDomain","yDomain","xRange","yRange","sizeDomain","interactive","useVoronoi","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),t.options=n.utils.optionsFunc.bind(t),t.margin=function(e){return arguments.length?(c.top="undefined"!=typeof e.top?e.top:c.top,c.right="undefined"!=typeof e.right?e.right:c.right,c.bottom="undefined"!=typeof e.bottom?e.bottom:c.bottom,c.left="undefined"!=typeof e.left?e.left:c.left,t):c},t.width=function(e){return arguments.length?(h=e,t):h},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(e){return arguments.length?(d=n.utils.getColor(e),s.color(d),i.color(d),t):d},t.showControls=function(e){return arguments.length?(p=e,t):p},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.showXAxis=function(e){return arguments.length?(m=e,t):m},t.showYAxis=function(e){return arguments.length?(v=e,t):v},t.rightAlignYAxis=function(e){return arguments.length?(y=e,a.orient(e?"right":"left"),t):y},t.useInteractiveGuideline=function(e){return arguments.length?(b=e,e===!0&&(t.interactive(!1),t.useVoronoi(!1)),t):b},t.tooltip=function(e){return arguments.length?(x=e,t):x},t.tooltips=function(e){return arguments.length?(w=e,t):w},t.tooltipContent=function(e){return arguments.length?(x=e,t):x},t.state=function(e){return arguments.length?(k=e,t):k},t.defaultState=function(e){return arguments.length?(C=e,t):C},t.noData=function(e){return arguments.length?(M=e,t):M},t.transitionDuration=function(e){return arguments.length?(T=e,t):T},t.controlsData=function(e){return arguments.length?(A=e,t):A},t.controlLabels=function(e){return arguments.length?"object"!=typeof e?D:(D=e,t):D},a.setTickFormat=a.tickFormat,a.tickFormat=function(t){return arguments.length?(_=t,a):_},t}}(),function(t,e,n,r){"use strict";var i,o=0,a=function(){var t,e=r.userAgent,n=/msie\s\d+/i;return e.search(n)>0&&(t=n.exec(e).toString(),t=t.split(" ")[1],9>t)?!0:!1}(),s="ontouchstart"in n||r.msMaxTouchPoints>0,u=function(t){return"number"==typeof t?isNaN(t)?null:t:(t=parseFloat(t),isNaN(t)?null:t)},l={init:function(r){var l='<span class="irs"><span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>',c='<span class="irs-slider single"></span>',h='<span class="irs-diapason"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>',f='<span class="irs-disable-mask"></span>';return this.each(function(){var d=t.extend({min:null,max:null,from:null,to:null,type:"single",step:null,prefix:"",postfix:"",maxPostfix:"",hasGrid:!1,gridMargin:0,hideMinMax:!1,hideFromTo:!1,prettify:!0,disable:!1,values:null,onLoad:null,onChange:null,onFinish:null},r),p=t(this),g=this,m=!1,v=null;if(!p.data("isActive")){p.data("isActive",!0),o+=1,this.plugin_count=o,p.prop("value")&&(v=p.prop("value").split(";")),"single"===d.type?v&&v.length>1?("number"!=typeof d.min?d.min=parseFloat(v[0]):"number"!=typeof d.from&&(d.from=parseFloat(v[0])),"number"!=typeof d.max&&(d.max=parseFloat(v[1]))):v&&1===v.length&&"number"!=typeof d.from&&(d.from=parseFloat(v[0])):"double"===d.type&&(v&&v.length>1?("number"!=typeof d.min?d.min=parseFloat(v[0]):"number"!=typeof d.from&&(d.from=parseFloat(v[0])),"number"!=typeof d.max?d.max=parseFloat(v[1]):"number"!=typeof d.to&&(d.to=parseFloat(v[1]))):v&&1===v.length&&("number"!=typeof d.min?d.min=parseFloat(v[0]):"number"!=typeof d.from&&(d.from=parseFloat(v[0])))),"number"==typeof p.data("min")&&(d.min=parseFloat(p.data("min"))),"number"==typeof p.data("max")&&(d.max=parseFloat(p.data("max"))),"number"==typeof p.data("from")&&(d.from=parseFloat(p.data("from"))),"number"==typeof p.data("to")&&(d.to=parseFloat(p.data("to"))),p.data("step")&&(d.step=parseFloat(p.data("step"))),p.data("type")&&(d.type=p.data("type")),p.data("prefix")&&(d.prefix=p.data("prefix")),p.data("postfix")&&(d.postfix=p.data("postfix")),p.data("maxpostfix")&&(d.maxPostfix=p.data("maxpostfix")),p.data("hasgrid")&&(d.hasGrid=p.data("hasgrid")),p.data("gridmargin")&&(d.gridMargin=+p.data("gridmargin")),p.data("hideminmax")&&(d.hideMinMax=p.data("hideminmax")),p.data("hidefromto")&&(d.hideFromTo=p.data("hidefromto")),p.data("prettify")&&(d.prettify=p.data("prettify")),p.data("disable")&&(d.disable=p.data("disable")),p.data("values")&&(d.values=p.data("values").split(",")),d.min=u(d.min),d.min||0===d.min||(d.min=10),d.max=u(d.max),d.max||0===d.max||(d.max=100),"[object Array]"!==Object.prototype.toString.call(d.values)&&(d.values=null),d.values&&d.values.length>0&&(d.min=0,d.max=d.values.length-1,d.step=1,m=!0),d.from=u(d.from),d.from||0===d.from||(d.from=d.min),d.to=u(d.to),d.to||0===d.to||(d.to=d.max),d.step=u(d.step),d.step||(d.step=1),d.from<d.min&&(d.from=d.min),d.from>d.max&&(d.from=d.min),d.to<d.min&&(d.to=d.max),d.to>d.max&&(d.to=d.max),"double"===d.type&&(d.from>d.to&&(d.from=d.to),d.to<d.from&&(d.to=d.from));var y=function(t){var e=t.toString();return d.prettify&&(e=e.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")),e},b='<span class="irs" id="irs-'+this.plugin_count+'"></span>';p[0].style.display="none",p.before(b);var w,x,_,k,C,M,S,E,A,D,T,P,B=p.prev(),$=t(e.body),N=t(n),I=!1,O=!1,F=!0,R={},L=0,j=0,W=0,z=0,V=0,U=0,q=0,H=0,Y=0,X=0,G=0;
parseInt(d.step,10)!==parseFloat(d.step)&&(G=d.step.toString().split(".")[1],G=Math.pow(10,G.length)),this.updateData=function(e){t.extend(d,e),K()},this.removeSlider=function(){B.find("*").off(),N.off("mouseup.irs"+g.plugin_count),$.off("mouseup.irs"+g.plugin_count),$.off("mouseleave.irs"+g.plugin_count),$.off("mousemove.irs"+g.plugin_count),B.html("").remove(),p.data("isActive",!1),p.show()};var K=function(){B.find("*").off(),N.off("mouseup.irs"+g.plugin_count),$.off("mouseup.irs"+g.plugin_count),$.off("mouseleave.irs"+g.plugin_count),$.off("mousemove.irs"+g.plugin_count),B.html(""),Z()},Z=function(){B.html(l),w=B.find(".irs"),x=w.find(".irs-min"),_=w.find(".irs-max"),k=w.find(".irs-from"),C=w.find(".irs-to"),M=w.find(".irs-single"),P=B.find(".irs-grid"),d.hideFromTo&&(k[0].style.visibility="hidden",C[0].style.visibility="hidden",M[0].style.visibility="hidden"),d.hideFromTo||(k[0].style.visibility="visible",C[0].style.visibility="visible",M[0].style.visibility="visible"),d.hideMinMax&&(x[0].style.visibility="hidden",_[0].style.visibility="hidden",j=0,W=0),d.hideMinMax||(x[0].style.visibility="visible",_[0].style.visibility="visible",d.values?(x.html(d.prefix+d.values[0]+d.postfix),_.html(d.prefix+d.values[d.values.length-1]+d.maxPostfix+d.postfix)):(x.html(d.prefix+y(d.min)+d.postfix),_.html(d.prefix+y(d.max)+d.maxPostfix+d.postfix)),j=x.outerWidth(!1),W=_.outerWidth(!1)),Q()},Q=function(){"single"===d.type?(w.append(c),S=w.find(".single"),S.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),te(e,t(this),null),I=!0,O=!0,i=g.plugin_count,a&&t("*").prop("unselectable",!0)}),s&&S.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),te(e.originalEvent.touches[0],t(this),null),I=!0,O=!0,i=g.plugin_count})):"double"===d.type&&(w.append(h),E=w.find(".from"),A=w.find(".to"),T=w.find(".irs-diapason"),ee(),E.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),A.removeClass("last"),te(e,t(this),"from"),I=!0,O=!0,i=g.plugin_count,a&&t("*").prop("unselectable",!0)}),A.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),E.removeClass("last"),te(e,t(this),"to"),I=!0,O=!0,i=g.plugin_count,a&&t("*").prop("unselectable",!0)}),s&&(E.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),A.removeClass("last"),te(e.originalEvent.touches[0],t(this),"from"),I=!0,O=!0,i=g.plugin_count}),A.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),E.removeClass("last"),te(e.originalEvent.touches[0],t(this),"to"),I=!0,O=!0,i=g.plugin_count})),d.to===d.max&&E.addClass("last"));var e=function(){i===g.plugin_count&&I&&(O=!1,I=!1,D.removeAttr("id"),D=null,"double"===d.type&&ee(),re(),a&&t("*").prop("unselectable",!1))};N.on("mouseup.irs"+g.plugin_count,function(){e()}),a&&$.on("mouseleave.irs"+g.plugin_count,function(){e()}),$.on("mousemove.irs"+g.plugin_count,function(t){I&&(L=t.pageX,ne())}),B.on("mousedown",function(){i=g.plugin_count}),B.on("mouseup",function(t){i===g.plugin_count&&(I||d.disable||oe(t.pageX))}),s&&(N.on("touchend",function(){I&&(O=!1,I=!1,D.removeAttr("id"),D=null,"double"===d.type&&ee(),re())}),N.on("touchmove",function(t){I&&(L=t.originalEvent.touches[0].pageX,ne())})),J(),ie(),d.hasGrid&&ue(),d.disable?le():ce()},J=function(){z=w.width(),U=S?S.width():E.width(),V=z-U},te=function(t,e,n){J(),F=!1,D=e,D.prop("id","irs-active-slider");var r=D.offset().left,i=t.pageX-r;X=r+i-D.position().left,"single"===d.type?q=w.width()-U:"double"===d.type&&("from"===n?(H=0,Y=parseInt(A.css("left"),10)):(H=parseInt(E.css("left"),10),Y=w.width()-U))},ee=function(){var e=E.width(),n=t.data(E[0],"x")||parseInt(E[0].style.left,10)||E.position().left,r=t.data(A[0],"x")||parseInt(A[0].style.left,10)||A.position().left,i=n+e/2,o=r-n;T[0].style.left=i+"px",T[0].style.width=o+"px"},ne=function(e){var n,r=L-X;r=e?e:L-X,"single"===d.type?(0>r&&(r=0),r>q&&(r=q)):"double"===d.type&&(H>r&&(r=H),r>Y&&(r=Y),ee()),t.data(D[0],"x",r),re(),n=Math.round(r),D[0].style.left=n+"px"},re=function(){var e,n,r={input:p,slider:B,min:d.min,max:d.max,fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},i=d.max-d.min;"single"===d.type?(r.fromX=t.data(S[0],"x")||parseInt(S[0].style.left,10)||S.position().left,r.fromPers=r.fromX/V*100,e=i/100*r.fromPers+d.min,r.fromNumber=Math.round(e/d.step)*d.step,r.fromNumber<d.min&&(r.fromNumber=d.min),r.fromNumber>d.max&&(r.fromNumber=d.max),G&&(r.fromNumber=parseInt(r.fromNumber*G,10)/G),m&&(r.fromValue=d.values[r.fromNumber])):"double"===d.type&&(r.fromX=t.data(E[0],"x")||parseInt(E[0].style.left,10)||E.position().left,r.fromPers=r.fromX/V*100,e=i/100*r.fromPers+d.min,r.fromNumber=Math.round(e/d.step)*d.step,r.fromNumber<d.min&&(r.fromNumber=d.min),r.toX=t.data(A[0],"x")||parseInt(A[0].style.left,10)||A.position().left,r.toPers=r.toX/V*100,n=i/100*r.toPers+d.min,r.toNumber=Math.round(n/d.step)*d.step,r.toNumber>d.max&&(r.toNumber=d.max),G&&(r.fromNumber=parseInt(r.fromNumber*G,10)/G,r.toNumber=parseInt(r.toNumber*G,10)/G),m&&(r.fromValue=d.values[r.fromNumber],r.toValue=d.values[r.toNumber])),R=r,ae()},ie=function(){var e={input:p,slider:B,min:d.min,max:d.max,fromNumber:d.from,toNumber:d.to,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},n=d.max-d.min;"single"===d.type?(e.fromPers=0!==n?(e.fromNumber-d.min)/n*100:0,e.fromX_pure=V/100*e.fromPers,e.fromX=Math.round(e.fromX_pure),S[0].style.left=e.fromX+"px",t.data(S[0],"x",e.fromX_pure)):"double"===d.type&&(e.fromPers=0!==n?(e.fromNumber-d.min)/n*100:0,e.fromX_pure=V/100*e.fromPers,e.fromX=Math.round(e.fromX_pure),E[0].style.left=e.fromX+"px",t.data(E[0],"x",e.fromX_pure),e.toPers=0!==n?(e.toNumber-d.min)/n*100:1,e.toX_pure=V/100*e.toPers,e.toX=Math.round(e.toX_pure),A[0].style.left=e.toX+"px",t.data(A[0],"x",e.toX_pure),ee()),R=e,ae()},oe=function(t){F=!1;var e=t-B.offset().left,n=R.toX-R.fromX,r=R.fromX+n/2;H=0,q=w.width()-U,Y=w.width()-U,"single"===d.type?(D=S,D.prop("id","irs-active-slider"),ne(e)):"double"===d.type&&(D=r>=e?E:A,D.prop("id","irs-active-slider"),ne(e),ee()),D.removeAttr("id"),D=null},ae=function(){var t,e,n,r,i,o,a,s,u,l=U/2,c="";"single"===d.type?(c=R.fromNumber===d.max?d.maxPostfix:"",k[0].style.display="none",C[0].style.display="none",a=m?d.prefix+d.values[R.fromNumber]+c+d.postfix:d.prefix+y(R.fromNumber)+c+d.postfix,M.html(a),s=M.outerWidth(!1),u=R.fromX-s/2+l,0>u&&(u=0),u>z-s&&(u=z-s),M[0].style.left=u+"px",d.hideMinMax||d.hideFromTo||(x[0].style.display=j>u?"none":"block",_[0].style.display=u+s>z-W?"none":"block"),p.prop("value",parseFloat(R.fromNumber))):"double"===d.type&&(c=R.fromNumber===d.max?d.maxPostfix:"",c=R.toNumber===d.max?d.maxPostfix:"",m?(t=d.prefix+d.values[R.fromNumber]+d.postfix,r=d.prefix+d.values[R.toNumber]+c+d.postfix,a=R.fromNumber!==R.toNumber?d.prefix+d.values[R.fromNumber]+" \u2014 "+d.prefix+d.values[R.toNumber]+c+d.postfix:d.prefix+d.values[R.fromNumber]+c+d.postfix):(t=d.prefix+y(R.fromNumber)+d.postfix,r=d.prefix+y(R.toNumber)+c+d.postfix,a=R.fromNumber!==R.toNumber?d.prefix+y(R.fromNumber)+" \u2014 "+d.prefix+y(R.toNumber)+c+d.postfix:d.prefix+y(R.fromNumber)+c+d.postfix),k.html(t),C.html(r),M.html(a),e=k.outerWidth(!1),n=R.fromX-e/2+l,0>n&&(n=0),n>z-e&&(n=z-e),k[0].style.left=n+"px",i=C.outerWidth(!1),o=R.toX-i/2+l,0>o&&(o=0),o>z-i&&(o=z-i),C[0].style.left=o+"px",s=M.outerWidth(!1),u=R.fromX+(R.toX-R.fromX)/2-s/2+l,0>u&&(u=0),u>z-s&&(u=z-s),M[0].style.left=u+"px",o>n+e?(M[0].style.display="none",k[0].style.display="block",C[0].style.display="block"):(M[0].style.display="block",k[0].style.display="none",C[0].style.display="none"),d.hideMinMax||d.hideFromTo||(x[0].style.display=j>u||j>n?"none":"block",_[0].style.display=u+s>z-W||o+i>z-W?"none":"block"),p.prop("value",parseFloat(R.fromNumber)+";"+parseFloat(R.toNumber))),d.from=R.fromNumber,d.to=R.toNumber,se()},se=function(){"function"!=typeof d.onFinish||O||F||d.onFinish.call(this,R),"function"!=typeof d.onChange||F||d.onChange.call(this,R),"function"==typeof d.onLoad&&!O&&F&&(d.onLoad.call(this,R),F=!1)},ue=function(){B.addClass("irs-with-grid");var t,e="",n=0,r=0,i="",o=20,a=4,s=z-2*d.gridMargin;for(t=0;o>=t;t+=1)n=Math.floor(s/o*t),n>=s&&(n=s-1),i+='<span class="irs-grid-pol small" style="left: '+n+'px;"></span>';for(t=0;a>=t;t+=1)n=Math.floor(s/a*t),n>=s&&(n=s-1),i+='<span class="irs-grid-pol" style="left: '+n+'px;"></span>',G?(e=d.min+(d.max-d.min)/a*t,e=e/d.step*d.step,e=parseInt(e*G,10)/G):(e=Math.round(d.min+(d.max-d.min)/a*t),e=Math.round(e/d.step)*d.step,e=y(e)),m&&(d.hideMinMax?(e=Math.round(d.min+(d.max-d.min)/a*t),e=Math.round(e/d.step)*d.step,e=0===t||t===a?d.values[e]:""):e=""),0===t?(r=n,i+='<span class="irs-grid-text" style="left: '+r+'px; text-align: left;">'+e+"</span>"):t===a?(r=n-100,i+='<span class="irs-grid-text" style="left: '+r+'px; text-align: right;">'+e+"</span>"):(r=n-50,i+='<span class="irs-grid-text" style="left: '+r+'px;">'+e+"</span>");P.html(i),P[0].style.left=d.gridMargin+"px"},le=function(){B.addClass("irs-disabled"),B.append(f)},ce=function(){B.removeClass("irs-disabled"),B.find(".irs-disable-mask").remove()};Z()}})},update:function(t){return this.each(function(){this.updateData(t)})},remove:function(){return this.each(function(){this.removeSlider()})}};t.fn.ionRangeSlider=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist for jQuery.ionRangeSlider"):l.init.apply(this,arguments)}}(jQuery,document,window,navigator),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).Charts||(t.Charts={}),Coinbase.Views.Charts.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t;return e.__super__.render.call(this),this.price_history($("#price_chart_range_selector li.init a").data("range"),$("#price_chart_range_selector li.init a").data("rangeText")),this.transaction_history($("#tx_chart_range_selector li.init a").data("range"),$("#tx_chart_range_selector li.init a").data("rangeText")),this.bitcoin_clock(),t=this,$("#price_chart_range_selector li a").on("click",function(e){return e.preventDefault(),t.price_history(parseInt($(this).data("range")),$(this).data("rangeText")),t.transaction_history(parseInt($(this).data("range")),$(this).data("rangeText"))}),$("#tx_chart_range_selector li a").on("click",function(e){return e.preventDefault(),t.price_history(parseInt($(this).data("range")),$(this).data("rangeText")),t.transaction_history(parseInt($(this).data("range")),$(this).data("rangeText"))})},e.prototype.price_history=function(t,e){return null==t&&(t=180),null==e&&(e=""),$("#price_range_dropdown .range-time").html(e),$("#price_range_dropdown .spinner").show(),d3.json("/charts/price_history?days="+t,function(t){return function(e){var n,r,i;for(n=[],r=0;r<e.length;)i=e[r],n.push({x:new Date(i.date),y:i.price}),r++;return n.reverse(),$("#price_chart svg").empty(),t.add_price_history_chart([{area:!0,values:n,key:"Price",color:"#cbdceb"}]),$("#price_range_dropdown .spinner").hide()}}(this))},e.prototype.add_price_history_chart=function(t){var e,n,r;return r=d3.max(t[0].values,function(t){return Math.max(t.y)}),nv.addGraph(function(){}),e=nv.models.lineChart().forceY([0,Math.ceil(r)]).margin({right:40}).transitionDuration(350).showLegend(!1).showYAxis(!0).showXAxis(!0).interpolate("cardinal").useInteractiveGuideline(!1),e.xAxis.tickFormat(function(t){return d3.time.format("%b %_d")(new Date(t))}),e.yAxis.tickFormat(function(t){return"$"+parseFloat(t)}),n=d3.time.format("%b %d %Y"),e.tooltipContent(function(t,e,r,i){return"<h3>$"+Coinbase.utils.formatMoney(parseFloat(r.replace("$","")),2,",",".")+"</h3><p>"+n(i.point.x)+"</p>"}),d3.select("#price_chart svg").attr("height",300).datum(t).call(e),nv.utils.windowResize(function(){e.update()}),e},e.prototype.transaction_history=function(t,e){return null==t&&(t=0),null==e&&(e=""),$("#transaction_range_dropdown .range-time").html(e),$("#transaction_range_dropdown .spinner").show(),$(".legend p").hide(),0===t&&(t=999),$(".legend p.day").show(),d3.json("/charts/transaction_history?days="+t,function(e){return function(n){var r,i,o,a;for(o=[],a=[],r=0;r<n.online.length;)i=n.online[r],a.push({x:new Date(i.time),y:parseInt(i.count)}),r++;for(r=0;r<n.offline.length;)i=n.offline[r],o.push({x:new Date(i.time),y:parseInt(i.count)}),r++;return $("#transaction_chart svg").empty(),e.add_transaction_history_chart([{key:"on blockchain",values:a,color:"#cccccc"},{key:"off blockchain",values:o,color:"#0779C5"}],t),$("#transaction_range_dropdown .spinner").hide()}}(this))},e.prototype.add_transaction_history_chart=function(t,e){return null==e&&(e=0),nv.addGraph(function(){var n,r;return n=void 0,n=nv.models.multiBarChart().groupSpacing(.2).showControls(!1).showLegend(!0).showXAxis(!0).showYAxis(!0).reduceXTicks(!0).stacked(!0),0===e?(r=d3.time.format("%b %d %Y %I:%M %p"),n.xAxis.tickFormat(function(t){return d3.time.format("%I:%M %p")(new Date(t))})):1===e?(r=d3.time.format("%b %d %Y %I:%M %p"),n.xAxis.tickFormat(function(t){return d3.time.format("%b %_d %I:%M %p")(new Date(t))})):e>1&&7>=e?(r=d3.time.format("%b %d %Y %I:%M %p"),n.xAxis.tickFormat(function(t){return d3.time.format("%b %_d")(new Date(t))})):(r=d3.time.format("%b %d %Y"),n.xAxis.tickFormat(function(t){return d3.time.format("%b %_d")(new Date(t))})),n.tooltipContent(function(t,e,n,i){return"<h3>"+Coinbase.utils.formatMoney(n,0)+" transactions</h3><p>"+r(i.point.x)+"</p>"}),n.yAxis.tickFormat(function(t){return parseFloat(t)}),n.multibar.hideable(!1),d3.select("#transaction_chart svg").datum(t).call(n),nv.utils.windowResize(n.update),n.dispatch.on("stateChange",function(){return n}),{groupSpacing:0,delay:0}})},e.prototype.bitcoin_clock=function(){return $.ajax({url:"/charts/coin_supply",dataType:"json"}).done(function(t){return function(e){var n,r,i,o,a;n=[],o={},a=[],r=!1,$.each(e,function(t,n){var i,s;i=parseInt(n.year),s=n.year,n.prediction&&(r||(r=e[t-1]),a.push(n.year),i=9999,s="~"+a[a.length-1]),o[i]="undefined"!=typeof o[i]?{price:parseFloat(o[i].price)+parseFloat(n.price),supply:parseFloat(o[i].supply)+parseFloat(n.supply),prediction:n.prediction?!0:!1,year:s}:{price:parseFloat(n.price),supply:parseFloat(n.supply),prediction:n.prediction?!0:!1,year:s}}),i=[],$.each(o,function(t,e){i.push({label:e.supply,value:e.year})}),t.update_bitcoin_clock(r),t.bitcoin_clock_month_slider(e),t.clock_donut_chart(i)}}(this))},e.prototype.bitcoin_clock_month_slider=function(t){var e,n,r,i,o,a;a=[],e=new Date,n=Coinbase.utils.getShortMonthName(e)+" / "+e.getFullYear(),o=0,r=0,$.each(t,function(t,e){var i,o;i=new Date(e.dt),o=Coinbase.utils.getShortMonthName(i)+" / "+i.getFullYear(),a.push(o),o===n&&(r=t),t++}),i=new Date,$("#range").ionRangeSlider({type:"single",step:1,from:r,prettify:!0,hasGrid:!0,values:a,onLoad:function(){return function(){$(".irs-line-left").css("width",$(".irs-slider.single").css("left"))}}(this),onChange:function(e){return function(n){var r;r=t[n.fromNumber],e.update_bitcoin_clock(r)}}(this)})},e.prototype.update_bitcoin_clock=function(t){var e,n,r,i;i=parseFloat(t.price).toFixed(2),e=new Date(t.dt),n=Coinbase.utils.getMonthName(e)+", "+e.getUTCFullYear(),i>1&&(i=parseInt(t.price)),0>i&&(i="???"),r=385.2*(t.percent/100),$(".count-top h3").html(i),$(".count-bottom h4").html(t.reward+" BTC"),$(".clock-date").html(n),$(".clock-volume").html(Coinbase.utils.formatMoney(parseInt(t.full_supply),0,",",".")),$(".pie-chart-dot").css({"-webkit-transform":"rotate("+r+"deg)","-moz-transform":"rotate("+r+"deg)","-ms-transform":"rotate("+r+"deg)","-o-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)",zoom:1}),$(".irs-line-left").css("width",$(".irs-slider.single").css("left"))},e.prototype.clock_donut_chart=function(t){var e;return e=["#f5f5f5","#ebebeb","#dbdbdb","#d6d6d6","#cccccc","#c2c2c2","#b8b8b8","#adadad","#a3a3a3","#999999","#8f8f8f","#858585","#7a7a7a","#707070","#666666","#5c5c5c"],e=["#0779C5","#0885D9","#0991EC","#139BF6","#26A4F7","#3AACF8","#4EB4F9","#62BDF9","#75C5FA","#89CDFB","#9DD5FB","#ADDDFC","#C4E6FD","#D8EEFE"],e[t.length-1]="#cccccc",nv.addGraph(function(){var n;return n=nv.models.pieChart().x(function(t){return t.value}).y(function(t){return t.label}).height(340).showLabels(!0).labelThreshold(.01).labelType("key").donut(!0).donutRatio(.5).donutLabelsOutside(!0).showLegend(!1).tooltips(!0).color(e),d3.select("#donut_chart svg").datum(t).transition().duration(350).call(n),nv.utils.windowResize(n.update),n})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).DeviceConfirmations||(t.DeviceConfirmations={}),Coinbase.Views.DeviceConfirmations.New=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),Coinbase.live.bind("device-verified",function(t){return Turbolinks.visit(t.url)})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).IdentityVerifications||(t.IdentityVerifications={}),Coinbase.Views.IdentityVerifications.DocumentVerification=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t;return e.__super__.render.call(this),t=$("#credential_frame").data("jumio-auth-token"),Coinbase.Modules.Jumio.init(t),$("#jumio_add_new_document").hide(),Coinbase.live.bind("jumio-callback",function(t){return $("#credentials_list")?$("#credentials_list").replaceWith(t.documents_html):void 0})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).IdentityVerifications||(t.IdentityVerifications={}),Coinbase.Views.IdentityVerifications.Documents=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),Coinbase.live.bind("jumio-callback",function(t){return $("#credentials_list")?$("#credentials_list").replaceWith(t.documents_html):void 0})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};(t=Coinbase.Views).IdentityVerifications||(t.IdentityVerifications={}),Coinbase.Views.IdentityVerifications.New=function(t){function n(){return this.checkQuestionsForm=e(this.checkQuestionsForm,this),n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.render=function(){var t,e,r,i,o;return n.__super__.render.call(this),t=this,i=24e4,r=i,e=250,o=setInterval(function(){var t;return r-=e,t=100*(1-r/i),$("span.timer span").css({width:t+"%"}),0>=r?(clearInterval(o),window.location="/verifications/identity?timeout=1"):void 0},e),$("#verify_questions_submit").on("click",function(e){return e.preventDefault(),t.checkQuestionsForm()?($("#verify_questions_notice").hide(),$("#verify_questions_submit").attr("disabled","disabled"),$("#verify_questions_spinner").show(),$("#verify_questions_form").submit()):$("#verify_questions_notice").show()})},n.prototype.checkQuestionsForm=function(){var t,e,n,r,i,o;for(n={},$.each($("#verify_questions_form").serializeArray(),function(t,e){return n[e.name]=e.value}),i=!0,e=o=1;10>=o;e=++o)r="answers[question"+e+"Type]",t="answers[question"+e+"Answer]",!(r in n)||n[t]&&n[t].trim()?$("#question_title_"+e).removeClass("text-error"):($("#question_title_"+e).addClass("text-error"),i=!1);return i},n}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).IdentityVerifications||(t.IdentityVerifications={}),Coinbase.Views.IdentityVerifications.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t;return e.__super__.render.call(this),$("#credential_frame")&&(t=$("#credential_frame").data("jumio-auth-token"),Coinbase.Modules.Jumio.init(t)),Coinbase.live.bind("jumio-callback",function(t){return $("#credentials_list")?$("#credentials_list").replaceWith(t.documents_html):void 0})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};(t=window.Coinbase.Views).MerchantDirectory||(t.MerchantDirectory={}),Coinbase.Views.MerchantDirectory.Index=function(t){function n(){return this.onMarkerClick=e(this.onMarkerClick,this),this.windowContentFor=e(this.windowContentFor,this),this.addMarkerForMerchant=e(this.addMarkerForMerchant,this),this.initializeMap=e(this.initializeMap,this),this.loadNewData=e(this.loadNewData,this),this.render=e(this.render,this),n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.render=function(){return n.__super__.render.call(this),google.maps.event.addDomListener(window,"load",this.initializeMap)},n.prototype.loadNewData=function(){var t,e,n;return t=this.map.getCenter(),n=google.maps.geometry.spherical.computeDistanceBetween(t,this.map.getBounds().getNorthEast()),e={"near[lat]":t.lat(),"near[long]":t.lng(),radius:n/1e3,retail_locations_only:!0},$.getJSON("/api/v1/merchants",e,function(t){return function(e){var n,r,i,o,a,s,u,l,c,h,f,d,p;for(i=e.merchants,s=t.markers.slice(0),t.markers.length=0,u=0,h=i.length;h>u;u++){for(r=i[u],r=r.merchant,l=0,f=s.length;f>l;l++)o=s[l],console.log(o.merchant.id+" vs"+r.id),o.merchant.id===r.id&&(t.markers.push(o),s.splice(jQuery.inArray(o),1),a=!0);a||t.addMarkerForMerchant(r)}for(p=[],c=0,d=s.length;d>c;c++)n=s[c],n.setMap(null),p.push(google.maps.event.clearListeners(n,"click"));return p}}(this))},n.prototype.initializeMap=function(){var t,e;return window.location.hash&&(e=window.location.hash.substring(1).split(","),2===e.length&&(this.startingCoords={lat:parseFloat(e[0]),lng:parseFloat(e[1])})),t={center:this.startingCoords||new google.maps.LatLng(37.796842,-122.3992191),zoom:14},this.map=new google.maps.Map(document.getElementById("directory-map"),t),this.markers=[],this.infowindow=new google.maps.InfoWindow,google.maps.event.addListener(this.map,"idle",this.loadNewData)},n.prototype.addMarkerForMerchant=function(t){var e,n;return e=t.coordinates,n=new google.maps.Marker({position:e,map:this.map,title:t.name}),n.merchant=t,google.maps.event.addListener(n,"click",function(t){return function(){return t.onMarkerClick(n)}}(this)),this.markers.push(n),this.startingCoords&&e.lat===this.startingCoords.lat&&e.lng===this.startingCoords.lng?(this.onMarkerClick(n),this.startingCoords=null):void 0},n.prototype.windowContentFor=function(t){return"<b>"+t.name+"</b><br>"+t.address1+"<br>"+t.address2+"<br>Phone: "+t.phone+'<br>Website: <a href="'+t.website+'">'+t.website+"</a>"},n.prototype.onMarkerClick=function(t){var e;return e=t.getPosition(),this.map.panTo(e),window.location.hash=t.merchant.coordinates.lat+","+t.merchant.coordinates.lng,this.infowindow.setContent(this.windowContentFor(t.merchant)),this.infowindow.open(this.map,t)},n}(Coinbase.Views.Application)}.call(this),/*!
 * v0.1.5
 * Copyright (c) 2014 First Opinion
 * formatter.js is open sourced under the MIT license.
 *
 * thanks to digitalBush/jquery.maskedinput for some of the trickier
 * keycode handling
 */
function(t,e){"function"==typeof define&&define.amd?define(["jQuery"],e):e("object"==typeof exports?require("jQuery"):t.jQuery)}(this,function(){var t=function(){var t={},e=4,n=new RegExp("{{([^}]+)}}","g"),r=function(t){for(var e,r=[];e=n.exec(t);)r.push(e);return r};return t.parse=function(t){var n={inpts:{},chars:{}},i=r(t),o=t.length,a=0,s=0,u=0,l=function(t){for(var r=t.length,i=0;r>i;i++)n.inpts[s]=t.charAt(i),s++;a++,u+=t.length+e-1};for(u;o>u;u++)a<i.length&&u===i[a].index?l(i[a][1]):n.chars[u-a*e]=t.charAt(u);return n.mLength=u-a*e,n},t}(),e=function(){{var t={};"undefined"!=typeof navigator?navigator.userAgent:null}return t.extend=function(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t},t.addChars=function(t,e,n){return t.substr(0,n)+e+t.substr(n,t.length)},t.removeChars=function(t,e,n){return t.substr(0,e)+t.substr(n,t.length)},t.isBetween=function(t,e){return e.sort(function(t,e){return t-e}),t>e[0]&&t<e[1]},t.addListener=function(t,e,n){return"undefined"!=typeof t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},t.preventDefault=function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1},t.getClip=function(t){return t.clipboardData?t.clipboardData.getData("Text"):window.clipboardData?window.clipboardData.getData("Text"):void 0},t.getMatchingKey=function(t,e,n){for(var r in n){var i=n[r];if(t===i.which&&e===i.keyCode)return r}},t.isDelKeyDown=function(e,n){var r={backspace:{which:8,keyCode:8},"delete":{which:46,keyCode:46}};return t.getMatchingKey(e,n,r)},t.isDelKeyPress=function(e,n){var r={backspace:{which:8,keyCode:8,shiftKey:!1},"delete":{which:0,keyCode:46}};return t.getMatchingKey(e,n,r)},t.isSpecialKeyPress=function(e,n){var r={tab:{which:0,keyCode:9},enter:{which:13,keyCode:13},end:{which:0,keyCode:35},home:{which:0,keyCode:36},leftarrow:{which:0,keyCode:37},uparrow:{which:0,keyCode:38},rightarrow:{which:0,keyCode:39},downarrow:{which:0,keyCode:40},F5:{which:116,keyCode:116}};return t.getMatchingKey(e,n,r)},t.isModifier=function(t){return t.ctrlKey||t.altKey||t.metaKey},t.forEach=function(t,e,n){if(t.hasOwnProperty("length"))for(var r=0,i=t.length;i>r&&e.call(n,t[r],r,t)!==!1;r++);else for(var o in t)if(t.hasOwnProperty(o)&&e.call(n,t[o],o,t)===!1)break},t}(),n=function(t,e){function n(n){var i=[],o=[];e.forEach(n,function(n){e.forEach(n,function(e,n){var a=t.parse(e),s=r(n);return i.push(s),o.push(a),!1})});var a=function(t){var n;return e.forEach(i,function(e,r){return e.test(t)?(n=r,!1):void 0}),void 0===n?null:o[n]};return{getPattern:a,patterns:o,matchers:i}}var r=function(t){return"*"===t?/.*/:new RegExp(t)};return n}(t,e),r=function(){var t={};return t.get=function(t){if("number"==typeof t.selectionStart)return{begin:t.selectionStart,end:t.selectionEnd};var e=document.selection.createRange();if(e&&e.parentElement()===t){var n=t.createTextRange(),r=t.createTextRange(),i=t.value.length;return n.moveToBookmark(e.getBookmark()),r.collapse(!1),n.compareEndPoints("StartToEnd",r)>-1?{begin:i,end:i}:{begin:-n.moveStart("character",-i),end:-n.moveEnd("character",-i)}}return{begin:0,end:0}},t.set=function(t,e){if("object"!=typeof e&&(e={begin:e,end:e}),t.setSelectionRange)t.focus(),t.setSelectionRange(e.begin,e.end);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e.end),n.moveStart("character",e.begin),n.select()}},t}(),i=function(t,e,n){function r(e,r){var o=this;if(o.el=e,!o.el)throw new TypeError("Must provide an existing element");if(o.opts=n.extend({},i,r),"undefined"!=typeof o.opts.pattern&&(o.opts.patterns=o._specFromSinglePattern(o.opts.pattern),delete o.opts.pattern),"undefined"==typeof o.opts.patterns)throw new TypeError("Must provide a pattern or array of patterns");o.patternMatcher=t(o.opts.patterns),o._updatePattern(),o.hldrs={},o.focus=0,n.addListener(o.el,"keydown",function(t){o._keyDown(t)}),n.addListener(o.el,"keypress",function(t){o._keyPress(t)}),n.addListener(o.el,"paste",function(t){o._paste(t)}),o.opts.persistent&&(o._processKey("",!1),o.el.blur(),n.addListener(o.el,"focus",function(t){o._focus(t)}),n.addListener(o.el,"click",function(t){o._focus(t)}),n.addListener(o.el,"touchstart",function(t){o._focus(t)}))}var i={persistent:!1,repeat:!1,placeholder:" "},o={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/};return r.addInptType=function(t,e){o[t]=e},r.prototype.resetPattern=function(n){this.opts.patterns=n?this._specFromSinglePattern(n):this.opts.patterns,this.sel=e.get(this.el),this.val=this.el.value,this.delta=0,this._removeChars(),this.patternMatcher=t(this.opts.patterns);var r=this.patternMatcher.getPattern(this.val);this.mLength=r.mLength,this.chars=r.chars,this.inpts=r.inpts,this._processKey("",!1,!0)},r.prototype._updatePattern=function(){var t=this.patternMatcher.getPattern(this.val);t&&(this.mLength=t.mLength,this.chars=t.chars,this.inpts=t.inpts)},r.prototype._keyDown=function(t){var e=t.which||t.keyCode;return e&&n.isDelKeyDown(t.which,t.keyCode)?(this._processKey(null,e),n.preventDefault(t)):void 0},r.prototype._keyPress=function(t){var e,r;return e=t.which||t.keyCode,r=n.isSpecialKeyPress(t.which,t.keyCode),n.isDelKeyPress(t.which,t.keyCode)||r||n.isModifier(t)?void 0:(this._processKey(String.fromCharCode(e),!1),n.preventDefault(t))},r.prototype._paste=function(t){return this._processKey(n.getClip(t),!1),n.preventDefault(t)},r.prototype._focus=function(){var t=this;setTimeout(function(){var n=e.get(t.el),r=n.end>t.focus,i=0===n.end;(r||i)&&e.set(t.el,t.focus)},0)},r.prototype._processKey=function(t,r,i){if(this.sel=e.get(this.el),this.val=this.el.value,this.delta=0,this.sel.begin!==this.sel.end)this.delta=-1*Math.abs(this.sel.begin-this.sel.end),this.val=n.removeChars(this.val,this.sel.begin,this.sel.end);else if(r&&46===r)this._delete();else if(r&&this.sel.begin-1>=0)this.val=n.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta-=1;else if(r)return!0;r||(this.val=n.addChars(this.val,t,this.sel.begin),this.delta+=t.length),this._formatValue(i)},r.prototype._delete=function(){for(;this.chars[this.sel.begin];)this._nextPos();this.sel.begin<this.val.length&&(this._nextPos(),this.val=n.removeChars(this.val,this.sel.end-1,this.sel.end),this.delta=-1)},r.prototype._nextPos=function(){this.sel.end++,this.sel.begin++},r.prototype._formatValue=function(t){this.newPos=this.sel.end+this.delta,this._removeChars(),this._updatePattern(),this._validateInpts(),this._addChars(),this.el.value=this.val.substr(0,this.mLength),("undefined"==typeof t||t===!1)&&e.set(this.el,this.newPos)},r.prototype._removeChars=function(){this.sel.end>this.focus&&(this.delta+=this.sel.end-this.focus);for(var t=0,e=0;e<=this.mLength;e++){var r,i=this.chars[e],o=this.hldrs[e],a=e+t;a=e>=this.sel.begin?a+this.delta:a,r=this.val.charAt(a),(i&&i===r||o&&o===r)&&(this.val=n.removeChars(this.val,a,a+1),t--)}this.hldrs={},this.focus=this.val.length},r.prototype._validateInpts=function(){for(var t=0;t<this.val.length;t++){var e=this.inpts[t],r=!o[e],i=!r&&!o[e].test(this.val.charAt(t)),a=this.inpts[t];(r||i)&&a&&(this.val=n.removeChars(this.val,t,t+1),this.focusStart--,this.newPos--,this.delta--,t--)}},r.prototype._addChars=function(){if(this.opts.persistent){for(var t=0;t<=this.mLength;t++)this.val.charAt(t)||(this.val=n.addChars(this.val,this.opts.placeholder,t),this.hldrs[t]=this.opts.placeholder),this._addChar(t);for(;this.chars[this.focus];)this.focus++}else for(var e=0;e<=this.val.length;e++){if(this.delta<=0&&e===this.focus)return!0;this._addChar(e)}},r.prototype._addChar=function(t){var e=this.chars[t];return e?(n.isBetween(t,[this.sel.begin-1,this.newPos+1])&&(this.newPos++,this.delta++),t<=this.focus&&this.focus++,this.hldrs[t]&&(delete this.hldrs[t],this.hldrs[t+1]=this.opts.placeholder),void(this.val=n.addChars(this.val,e,t))):!0},r.prototype._specFromSinglePattern=function(t){return[{"*":t}]},r}(n,r,e),o="formatter";$.fn[o]=function(t){return"object"==typeof t&&this.each(function(){$.data(this,"plugin_"+o)||$.data(this,"plugin_"+o,new i(this,t))}),this.resetPattern=function(t){return this.each(function(){var e=$.data(this,"plugin_"+o);e&&e.resetPattern(t)}),this},this},$.fn[o].addInptType=function(t,e){i.addInptType(t,e)}}),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).MerchantProfiles||(t.MerchantProfiles={}),Coinbase.Views.MerchantProfiles.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#delete_logo").on("click",function(t){return t.preventDefault(),$("#logo_preview").remove(),$("#copy_logo").val(!1),$("#merchant_profile_logo").show()}),$("#delete_cover_image").on("click",function(t){return t.preventDefault(),$("#cover_image_preview").remove(),$("#copy_cover_image").val(!1),$("#merchant_profile_cover_image").show()}),$("#merchant_profile_tax_info_attributes_number").formatter({pattern:"{{************}}",persistent:!0}),this.setTaxNumberFormat(),$("#merchant_profile_tax_info_attributes_type").on("change",this.setTaxNumberFormat.bind(this))},e.prototype.setTaxNumberFormat=function(){var t,e;return e=$("#merchant_profile_tax_info_attributes_type").val(),t=function(){switch(e){case"ssn":case"itin":return"{{999}}-{{99}}-{{9999}}";case"ein":return"{{99}}-{{9999999}}";default:return"{{************}}"}}(),$("#merchant_profile_tax_info_attributes_number").formatter().resetPattern(t)},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).MerchantSettings||(t.MerchantSettings={}),Coinbase.Views.MerchantSettings.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$(".test-ipn").click(function(t){return t.preventDefault(),$.ajax({type:"POST",url:"/merchant_settings/test_ipn",data:{url:$("#user_callback_url").val()},dataType:"script"})}),$("#user_discount").is(":not(:checked)")&&$("#discount_controls").hide(),$("#user_discount").on("change",function(){return $(this).is(":checked")?$("#discount_controls").slideDown(500):$("#discount_controls").slideUp(500)}),$("#select_cashout_method, #user_auto_cashout_mispaid, #user_auto_cashout_report, #user_maintain_min_balance").prop("disabled",$("#user_auto_cashout").is(":not(:checked)")),$("#user_auto_cashout").on("change",function(){return $("#select_cashout_method, #user_auto_cashout_mispaid, #user_auto_cashout_report, #user_maintain_min_balance").prop("disabled",$(this).is(":not(:checked)")),$(this).is(":not(:checked)")&&($("#select_cashout_method, #user_auto_cashout_mispaid, #user_auto_cashout_report, #user_maintain_min_balance").prop("checked",!1),$("#min_balance_controls").slideUp(500)),$("#select_cashout_method").trigger("change")}),$("#user_maintain_min_balance").is(":not(:checked)")&&$("#min_balance_controls").hide(),$("#user_maintain_min_balance").on("change",function(){return $(this).is(":checked")?$("#min_balance_controls").slideDown(500):$("#min_balance_controls").slideUp(500)}),$("#select_cashout_method").on("change",function(t){return $("#select_cashout_method:enabled").length>0&&$('optgroup[label="Bank Wires"] [value="'+t.target.value+'"]').length>0?$("#wire_cashout_controls").slideDown(500):$("#wire_cashout_controls").slideUp(500)}),$("#select_cashout_method").trigger("change")},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).MerchantTools||(t.MerchantTools={}),Coinbase.Views.MerchantTools.New=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t;return e.__super__.render.call(this),$(".button-link-type").on("click",function(){return Turbolinks.visit("/merchant_tools?link_type="+$(this).val())}),$("form.new-button-form").on("click",".button-group a",function(t){return t.preventDefault(),$(this).parents(".radio").click()}),t=function(){var t,e,n;return n=$('input[name="button[type]"]:checked').val(),e=$('input[name="button[subscription]"]:checked').val(),"true"===e&&(n="subscription"),$(".button-group").hide(),$(".button-group.button-group-"+n).show(),$('input[name="button[style]"]:checked').is(":visible")||$('input[name="button[style]"]:visible:first').click(),t=$('input[name="button[type]"]:checked').data("subject-line"),$("#button_subject").val(t),$("#button_subscription_true").is(":checked")?$("#repeat_container").show():$("#repeat_container").hide()},$('input[name="button[type]"], input[name="button[subscription]"]').on("change",function(){return t()})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).Orders||(t.Orders={}),Coinbase.Views.Orders.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("table#orders_list").on("click","tr",function(){var t;return t=$(this).attr("id").split("_"),Turbolinks.visit("/orders/"+t[t.length-1])})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e,n={}.hasOwnProperty,r=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};(t=Coinbase.Views).PaperWallets||(t.PaperWallets={}),(e=Coinbase.Views).PaperImports||(e.PaperImports={}),Coinbase.Views.PaperWallets.Generation=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#wallet_print").click(function(){return window.print(),$(".btn.regenerate").hide(),Coinbase.Modules.QRScanner.supported()?$(".wallet-verify").show():($("#wallet_fund_step").text("2"),$("#wallet_keep_step").text("3"),$(".wallet-fund").show())})},e}(Coinbase.Views.Application),Coinbase.Views.PaperImports.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#paper_import").get(0)&&($("#import_detecting").hide(),Coinbase.Modules.QRScanner.supported()?$("#import_from_webcam").show():$("#import_from_private_key").show()),$("input.confirm-import").change(function(){return this.checked?$(".perform-import").show():$(".perform-import").hide()}),$("#show_private_key_import").click(function(t){return t.preventDefault(),$("#import_from_webcam").hide(),$("#import_from_private_key").show(),$("#import_private_key").focus()}),$("#import_private_key_form").submit(function(t){var e;return t.preventDefault(),e=$("#import_private_key").val(),/^[59][a-km-zA-HJ-NP-Z1-9]{49,51}$/.test(e)||/^[L9|K9][a-km-zA-HJ-NP-Z1-9]{49,51}$/.test(e)?($("#private_key_warning").hide(),$("#private_key_success").show(),$("#import_money_from").val(e),$(".confirm-import").show()):($("#private_key_success").hide(),$("#private_key_warning").show(),$("#import_money_from").val(""),$(".confirm-import").hide())}),$("#import_private_key").keyup(function(t){var e;return e=t.keyCode||t.which,13!==e?$("#private_key_success, #private_key_warning, .confirm-import").hide():void 0})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Quickstart||(t.Quickstart={}),Coinbase.Views.Quickstart.Identity=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t;return e.__super__.render.call(this),t=$("#credential_frame").data("jumio-auth-token"),Coinbase.Modules.Jumio.init(t),$("#jumio_add_new_document").hide(),Coinbase.live.bind("jumio-callback",function(){return document.location="/quickstart/deposit"})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).RecurringPayments||(t.RecurringPayments={}),Coinbase.Views.RecurringPayments.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t,n;return e.__super__.render.call(this),$("#recurring_payments_modal").on("shown",function(){var e;return $(this).find(".focus").focus(),e=t($(".recurring-payment-type")),n(e)}),$("table#recurring_payments_list").on("click","td.clicktarget",function(){var t;return t=$(this).parent("tr").attr("id").split("_"),Turbolinks.visit("/recurring_payments/"+t[t.length-1])}),$(document).on("change",".recurring-payment-type",function(){var t;return t=$(this).val(),n(t)}),n=function(t){return $(".which-control-group-to-show").hide(),$(".two-factor").hide(),"send"===t?($("#to_control_group").show(),$("#to_control_group input").focus(),$(".two-factor").show(),$("#account_control_group label").text("From account:")):"request"===t?($("#from_control_group").show(),$("#from_control_group input").focus(),$("#account_control_group label").text("To account:")):"buy"===t?($("#account_control_group label").text("To account:"),$("#payment_method_control_group label").text("Payment Method:"),$("#payment_method_control_group").show(),$(".two-factor").show()):"sell"===t?($("#account_control_group label").text("From account:"),$("#payment_method_control_group label").text("Pay Out Method:"),$("#payment_method_control_group").show(),$(".two-factor").show()):void 0},t=function(t){var e,n,r;for(n=0,r=t.length;r>n;n++)if(e=t[n],e.checked)return e.value;return"send"}},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Reports||(t.Reports={}),Coinbase.Views.Reports.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t;return e.__super__.render.call(this),t=Coinbase.pusher.subscribe("user-reports-"+Coinbase.constants.USER.id),t.bind("update",function(t){return console.log("got update",t),$("#report_"+t.report_id)?$("#report_"+t.report_id).replaceWith(t.report_html):void 0})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).Sells||(t.Sells={}),Coinbase.Views.Sells.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),Coinbase.constants.USER.is_verified?(this.sellFormProperties={sell_level:Coinbase.constants.USER.sell_level},mixpanel.track("Page Viewed",{"page name":document.title,page:"sells#index",url:window.location.pathname}),$("#transfer_btc").one("keyup",function(){return mixpanel.track("Sell Form Changed",this.sellFormProperties)}),$("#sell_bitcoins").one("click",function(){return mixpanel.track("Sell Form Submit",this.sellFormProperties)}),$("#confirmation_modal").one("hidden.bs.modal",function(){return"Sell Confirmation"===$("#confirmation_modal h4").text()?mixpanel.track("Sell Form Confirm Closed",this.sellFormProperties):void 0})):void 0},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Settings||(t.Settings={}),Coinbase.Views.Settings.Api=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#api_keys_modal").on("change",".api-keys-checkbox-all",function(){var t;return t=$("#api_keys_granular_permissions input"),this.checked?t.attr("checked",!0).attr("disabled",!0):t.removeAttr("checked").removeAttr("disabled")}),$("#api_keys_modal").on("change",".accounts-checkbox-all",function(){var t;return t=$("#api_keys_granular_accounts input"),this.checked?t.attr("checked",!0).attr("disabled",!0):t.removeAttr("checked").removeAttr("disabled")})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Settings||(t.Settings={}),Coinbase.Views.Settings.Preferences=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#two_factor_modal").on("hide",function(){return $.ajax({type:"GET",url:"/settings/close",dataType:"script"})}),navigator.registerProtocolHandler||$("#protocol_handler_widget").hide(),$("#protocol_handler_btn").on("click",function(t){var e,n,r,i;t.preventDefault(),e=$(t.currentTarget),r=e.data("handlerUrl");try{return i="production"===Coinbase.constants.ENV?"Coinbase":"Coinbase Dev",navigator.registerProtocolHandler("bitcoin",r,i),$("#protocol_handler_info").removeClass("hide")}catch(o){return n=o,$("#protocol_handler_err").removeClass("hide")}})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Static||(t.Static={}),Coinbase.Views.Static.Home=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#quotes .nav").on("mouseover",function(t){var e;return e=$(t.currentTarget).data("menuId"),$("#quotes .screen").hide(),$("#quotes .nav").removeClass("active"),$("#quotes .btn"+e).show(),$("#quotes .nav"+e).addClass("active")})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).Static||(t.Static={}),Coinbase.Views.Static.Vault=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#withdraw_carousel").carousel(),$("#withdraw_carousel").on("slide",function(t){return $("#withdraw_carousel_indicators .step span").removeClass("active"),$("#withdraw_carousel_indicators #"+$(t.relatedTarget).data("target")+" span").addClass("active")})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).Transfers||(t.Transfers={}),Coinbase.Views.Transfers.Index=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("table#transfers_list").on("click","tr",function(){var t;return t=$(this).attr("id").split("_"),Turbolinks.visit("/transfers/"+t[t.length-1])})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=window.Coinbase.Views).Usernames||(t.Usernames={}),Coinbase.Views.Usernames.Show=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$("#flag_username_link").on("click",function(t){return t.preventDefault(),$("#flag_username_modal").modal("show")}),$("#flag_username_submit").on("click",function(t){return t.preventDefault(),$("#flag_username_spinner").show(),$("#flag_username_modal form").submit()}),$("#flag_username_close").on("click",function(t){return t.preventDefault(),$("#flag_username_modal").modal("hide")})},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).VaultAccounts||(t.VaultAccounts={}),Coinbase.Views.VaultAccounts.Join=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),Coinbase.Models.Vault.check_browser_compatibility()},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).VaultAccounts||(t.VaultAccounts={}),Coinbase.Views.VaultAccounts.Setup=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){var t;return e.__super__.render.call(this),Coinbase.Models.Vault.check_browser_compatibility(),$("#vault #password .password").focus(),$("#vault #verify .password").focus(),this.poll_and_render($("#pending .pending").data("refresh_url")),1===$("#vault #backup").length?(t=Coinbase.Models.Vault.restore(),Coinbase.Widgets.Vault.display_keys(t)):void 0},e.prototype.poll_and_render=function(t,e){var n;return null==e&&(e=5e3),t&&($.get(t,function(t){return" "===t?window.location.reload():$("#pending .pending").html(t)}),1===$("#pending").length)?(n=this,setTimeout(function(){return n.poll_and_render(t,e)},e)):void 0},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).VaultWithdrawals||(t.VaultWithdrawals={}),Coinbase.Views.VaultWithdrawals.ApproveByToken=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$(".auto-click").trigger("click")},e}(Coinbase.Views.Application)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};(t=Coinbase.Views).VaultWithdrawals||(t.VaultWithdrawals={}),Coinbase.Views.VaultWithdrawals.CancelByToken=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.render=function(){return e.__super__.render.call(this),$(".auto-click").trigger("click")},e}(Coinbase.Views.Application)}.call(this),function(){var t;(t=window.Coinbase).Modules||(t.Modules={}),Coinbase.Modules.Jumio=function(){function t(){}return t.init=function(t){JumioClient||(document.location=document.location),t&&JumioClient.setVars({authorizationToken:t,locale:"en"}).initVerify("credential_frame")},t}()}.call(this),function(){var t;(t=window.Coinbase).Modules||(t.Modules={}),Coinbase.Modules.Live=function(){function t(){}return t.init=function(){return Coinbase.constants.USER&&(Coinbase.live=Coinbase.pusher.subscribe("private-"+Coinbase.constants.USER.id),Coinbase.constants.DEBUG)?(Coinbase.live.bind_all(function(t){return console.info("Received user live event:",t)}),Pusher.log=function(t){return window.console.log(t)}):void 0},t}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};(t=window.Coinbase).Modules||(t.Modules={}),Coinbase.Modules.Mixpanel=function(){function t(){this["with"]=e(this["with"],this),this.loadedCallback=e(this.loadedCallback,this),this.flushQueue=e(this.flushQueue,this),this.callbacks=[],this.isLoaded=!1}return t.prototype.flushQueue=function(){var t,e,n,r,i;if(this.isLoaded){for(r=this.callbacks,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t());return i}},t.prototype.loadedCallback=function(){return this.isLoaded=!0,this.flushQueue()},t.prototype["with"]=function(t){return callbacks.push(t),this.flushQueue()},t}(),Coinbase.mixpanel=new Coinbase.Modules.Mixpanel}.call(this),/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
GridSampler={},GridSampler.checkAndNudgePoints=function(t,e){for(var n=qrcode.width,r=qrcode.height,i=!0,o=0;o<e.length&&i;o+=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(-1>a||a>n||-1>s||s>r)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(e[o]=0,i=!0):a==n&&(e[o]=n-1,i=!0),-1==s?(e[o+1]=0,i=!0):s==r&&(e[o+1]=r-1,i=!0)}i=!0;for(var o=e.length-2;o>=0&&i;o-=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(-1>a||a>n||-1>s||s>r)throw"Error.checkAndNudgePoints ";i=!1,-1==a?(e[o]=0,i=!0):a==n&&(e[o]=n-1,i=!0),-1==s?(e[o+1]=0,i=!0):s==r&&(e[o+1]=r-1,i=!0)}},GridSampler.sampleGrid3=function(t,e,n){for(var r=new BitMatrix(e),i=new Array(e<<1),o=0;e>o;o++){for(var a=i.length,s=o+.5,u=0;a>u;u+=2)i[u]=(u>>1)+.5,i[u+1]=s;n.transformPoints1(i),GridSampler.checkAndNudgePoints(t,i);try{for(var u=0;a>u;u+=2){var l=4*Math.floor(i[u])+Math.floor(i[u+1])*qrcode.width*4,c=t[Math.floor(i[u])+qrcode.width*Math.floor(i[u+1])];qrcode.imagedata.data[l]=c?255:0,qrcode.imagedata.data[l+1]=c?255:0,qrcode.imagedata.data[l+2]=0,qrcode.imagedata.data[l+3]=255,c&&r.set_Renamed(u>>1,o)}}catch(h){throw"Error.checkAndNudgePoints"}}return r},GridSampler.sampleGridx=function(t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,v){var y=PerspectiveTransform.quadrilateralToQuadrilateral(n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,v);return GridSampler.sampleGrid3(t,e,y)},Version.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),Version.VERSIONS=buildVersions(),Version.getVersionForNumber=function(t){if(1>t||t>40)throw"ArgumentException";return Version.VERSIONS[t-1]},Version.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw"Error getProvisionalVersionForDimension";try{return Version.getVersionForNumber(t-17>>2)}catch(e){throw"Error getVersionForNumber"}},Version.decodeVersionInformation=function(t){for(var e=4294967295,n=0,r=0;r<Version.VERSION_DECODE_INFO.length;r++){var i=Version.VERSION_DECODE_INFO[r];if(i==t)return this.getVersionForNumber(r+7);var o=FormatInformation.numBitsDiffering(t,i);e>o&&(n=r+7,e=o)}return 3>=e?this.getVersionForNumber(n):null},PerspectiveTransform.quadrilateralToQuadrilateral=function(t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,g){var m=this.quadrilateralToSquare(t,e,n,r,i,o,a,s),v=this.squareToQuadrilateral(u,l,c,h,f,d,p,g);return v.times(m)},PerspectiveTransform.squareToQuadrilateral=function(t,e,n,r,i,o,a,s){return dy2=s-o,dy3=e-r+o-s,0==dy2&&0==dy3?new PerspectiveTransform(n-t,i-n,t,r-e,o-r,e,0,0,1):(dx1=n-i,dx2=a-i,dx3=t-n+i-a,dy1=r-o,denominator=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/denominator,a23=(dx1*dy3-dx3*dy1)/denominator,new PerspectiveTransform(n-t+a13*n,a-t+a23*a,t,r-e+a13*r,s-e+a23*s,e,a13,a23,1))},PerspectiveTransform.quadrilateralToSquare=function(t,e,n,r,i,o,a,s){return this.squareToQuadrilateral(t,e,n,r,i,o,a,s).buildAdjoint()};/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var FORMAT_INFO_MASK_QR=21522,FORMAT_INFO_DECODE_LOOKUP=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),BITS_SET_IN_HALF_BYTE=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);FormatInformation.numBitsDiffering=function(t,e){return t^=e,BITS_SET_IN_HALF_BYTE[15&t]+BITS_SET_IN_HALF_BYTE[15&URShift(t,4)]+BITS_SET_IN_HALF_BYTE[15&URShift(t,8)]+BITS_SET_IN_HALF_BYTE[15&URShift(t,12)]+BITS_SET_IN_HALF_BYTE[15&URShift(t,16)]+BITS_SET_IN_HALF_BYTE[15&URShift(t,20)]+BITS_SET_IN_HALF_BYTE[15&URShift(t,24)]+BITS_SET_IN_HALF_BYTE[15&URShift(t,28)]},FormatInformation.decodeFormatInformation=function(t){var e=FormatInformation.doDecodeFormatInformation(t);return null!=e?e:FormatInformation.doDecodeFormatInformation(t^FORMAT_INFO_MASK_QR)},FormatInformation.doDecodeFormatInformation=function(t){for(var e=4294967295,n=0,r=0;r<FORMAT_INFO_DECODE_LOOKUP.length;r++){var i=FORMAT_INFO_DECODE_LOOKUP[r],o=i[0];if(o==t)return new FormatInformation(i[1]);var a=this.numBitsDiffering(t,o);e>a&&(n=i[1],e=a)}return 3>=e?new FormatInformation(n):null},ErrorCorrectionLevel.forBits=function(t){if(0>t||t>=FOR_BITS.length)throw"ArgumentException";return FOR_BITS[t]};var L=new ErrorCorrectionLevel(0,1,"L"),M=new ErrorCorrectionLevel(1,0,"M"),Q=new ErrorCorrectionLevel(2,3,"Q"),H=new ErrorCorrectionLevel(3,2,"H"),FOR_BITS=new Array(M,L,H,Q);DataBlock.getDataBlocks=function(t,e,n){if(t.length!=e.TotalCodewords)throw"ArgumentException";for(var r=e.getECBlocksForLevel(n),i=0,o=r.getECBlocks(),a=0;a<o.length;a++)i+=o[a].Count;for(var s=new Array(i),u=0,l=0;l<o.length;l++)for(var c=o[l],a=0;a<c.Count;a++){var h=c.DataCodewords,f=r.ECCodewordsPerBlock+h;s[u++]=new DataBlock(h,new Array(f))}for(var d=s[0].codewords.length,p=s.length-1;p>=0;){var g=s[p].codewords.length;if(g==d)break;p--}p++;for(var m=d-r.ECCodewordsPerBlock,v=0,a=0;m>a;a++)for(var l=0;u>l;l++)s[l].codewords[a]=t[v++];for(var l=p;u>l;l++)s[l].codewords[m]=t[v++];for(var y=s[0].codewords.length,a=m;y>a;a++)for(var l=0;u>l;l++){var b=p>l?a:a+1;s[l].codewords[b]=t[v++]}return s},/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
DataMask={},DataMask.forReference=function(t){if(0>t||t>7)throw"System.ArgumentException";return DataMask.DATA_MASKS[t]},DataMask.DATA_MASKS=new Array(new DataMask000,new DataMask001,new DataMask010,new DataMask011,new DataMask100,new DataMask101,new DataMask110,new DataMask111),GF256.QR_CODE_FIELD=new GF256(285),GF256.DATA_MATRIX_FIELD=new GF256(301),GF256.addOrSubtract=function(t,e){return t^e},/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
Decoder={},Decoder.rsDecoder=new ReedSolomonDecoder(GF256.QR_CODE_FIELD),Decoder.correctErrors=function(t,e){for(var n=t.length,r=new Array(n),i=0;n>i;i++)r[i]=255&t[i];var o=t.length-e;try{Decoder.rsDecoder.decode(r,o)}catch(a){throw a}for(var i=0;e>i;i++)t[i]=r[i]},Decoder.decode=function(t){for(var e=new BitMatrixParser(t),n=e.readVersion(),r=e.readFormatInformation().ErrorCorrectionLevel,i=e.readCodewords(),o=DataBlock.getDataBlocks(i,n,r),a=0,s=0;s<o.length;s++)a+=o[s].NumDataCodewords;for(var u=new Array(a),l=0,c=0;c<o.length;c++){var h=o[c],f=h.Codewords,d=h.NumDataCodewords;Decoder.correctErrors(f,d);for(var s=0;d>s;s++)u[l++]=f[s]}var p=new QRCodeDataBlockReader(u,n.VersionNumber,r.Bits);return p},/*
   Copyright 2011 Lazar Laszlo (lazarsoft@gmail.com, www.lazarsoft.info)
   
   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
*/
qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.decode=function(t){if(0==arguments.length){var e=document.getElementById("qr-canvas"),n=e.getContext("2d");return qrcode.width=e.width,qrcode.height=e.height,qrcode.imagedata=n.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(n),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var r=new Image;r.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d"),n=r.height,i=r.width;if(r.width*r.height>qrcode.maxImgSize){var o=r.width/r.height;n=Math.sqrt(qrcode.maxImgSize/o),i=o*n}t.width=i,t.height=n,e.drawImage(r,0,0,t.width,t.height),qrcode.width=t.width,qrcode.height=t.height;try{qrcode.imagedata=e.getImageData(0,0,t.width,t.height)}catch(a){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(e)}catch(a){console.log(a),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},r.src=t},qrcode.isUrl=function(t){var e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.test(t)},qrcode.decode_url=function(t){var e="";try{e=escape(t)}catch(n){console.log(n),e=t}var r="";try{r=decodeURIComponent(e)}catch(n){console.log(n),r=e}return r},qrcode.decode_utf8=function(t){return qrcode.isUrl(t)?qrcode.decode_url(t):t},qrcode.process=function(t){var e=(new Date).getTime(),n=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var r=0;r<qrcode.height;r++)for(var i=0;i<qrcode.width;i++){var o=4*i+r*qrcode.width*4;qrcode.imagedata.data[o]=n[i+r*qrcode.width]?0:0,qrcode.imagedata.data[o+1]=n[i+r*qrcode.width]?0:0,qrcode.imagedata.data[o+2]=n[i+r*qrcode.width]?255:0}t.putImageData(qrcode.imagedata,0,0)}var a=new Detector(n),s=a.detect();qrcode.debug&&t.putImageData(qrcode.imagedata,0,0);for(var u=Decoder.decode(s.bits),l=u.DataByte,c="",h=0;h<l.length;h++)for(var f=0;f<l[h].length;f++)c+=String.fromCharCode(l[h][f]);var d=(new Date).getTime(),p=d-e;return console.log(p),qrcode.decode_utf8(c)},qrcode.getPixel=function(t,e){if(qrcode.width<t)throw"point error";if(qrcode.height<e)throw"point error";return point=4*t+e*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100},qrcode.binarize=function(t){for(var e=new Array(qrcode.width*qrcode.height),n=0;n<qrcode.height;n++)for(var r=0;r<qrcode.width;r++){var i=qrcode.getPixel(r,n);e[r+n*qrcode.width]=t>=i?!0:!1}return e},qrcode.getMiddleBrightnessPerArea=function(t){for(var e=4,n=Math.floor(qrcode.width/e),r=Math.floor(qrcode.height/e),i=new Array(e),o=0;e>o;o++){i[o]=new Array(e);for(var a=0;e>a;a++)i[o][a]=new Array(0,0)}for(var s=0;e>s;s++)for(var u=0;e>u;u++){i[u][s][0]=255;for(var l=0;r>l;l++)for(var c=0;n>c;c++){var h=t[n*u+c+(r*s+l)*qrcode.width];h<i[u][s][0]&&(i[u][s][0]=h),h>i[u][s][1]&&(i[u][s][1]=h)}}for(var f=new Array(e),d=0;e>d;d++)f[d]=new Array(e);for(var s=0;e>s;s++)for(var u=0;e>u;u++)f[u][s]=Math.floor((i[u][s][0]+i[u][s][1])/2);return f},qrcode.grayScaleToBitmap=function(t){for(var e=qrcode.getMiddleBrightnessPerArea(t),n=e.length,r=Math.floor(qrcode.width/n),i=Math.floor(qrcode.height/n),o=new Array(qrcode.height*qrcode.width),a=0;n>a;a++)for(var s=0;n>s;s++)for(var u=0;i>u;u++)for(var l=0;r>l;l++)o[r*s+l+(i*a+u)*qrcode.width]=t[r*s+l+(i*a+u)*qrcode.width]<e[s][a]?!0:!1;return o},qrcode.grayscale=function(){for(var t=new Array(qrcode.width*qrcode.height),e=0;e<qrcode.height;e++)for(var n=0;n<qrcode.width;n++){var r=qrcode.getPixel(n,e);t[n+e*qrcode.width]=r}return t},Array.prototype.remove=function(t,e){var n=this.slice((e||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,n)};/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var MIN_SKIP=3,MAX_MODULES=57,INTEGER_MATH_SHIFT=8,CENTER_QUORUM=2;qrcode.orderBestPatterns=function(t){function e(t,e){return xDiff=t.X-e.X,yDiff=t.Y-e.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}function n(t,e,n){var r=e.x,i=e.y;return(n.x-r)*(t.y-i)-(n.y-i)*(t.x-r)}var r,i,o,a=e(t[0],t[1]),s=e(t[1],t[2]),u=e(t[0],t[2]);if(s>=a&&s>=u?(i=t[0],r=t[1],o=t[2]):u>=s&&u>=a?(i=t[1],r=t[0],o=t[2]):(i=t[2],r=t[0],o=t[1]),n(r,i,o)<0){var l=r;r=o,o=l}t[0]=r,t[1]=i,t[2]=o},function(){}.call(this),function(){var t;(t=window.Coinbase).Modules||(t.Modules={}),Coinbase.Modules.QRScanner=function(){function t(){}return window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,t.supported=function(){return!(!window.requestAnimationFrame||!navigator.getMedia)},t.init=function(t,e,n,r,i,o){var a;return this.v_selector=t,this.unsupported_cb=e,this.waiting_cb=n,this.denied_cb=r,this.seeking_cb=i,this.found_cb=o,qrcode.callback=this.qrFound.bind(this),this.video=$(t).get(0),$("#qr-canvas").get(0)||(a=document.createElement("canvas"),a.style.display="none",this.bg_canvas=document.body.appendChild(a),this.bg_canvas.id="qr-canvas",this.bg_canvas_context=this.bg_canvas.getContext("2d")),this.stream?this.play():this.requested_media?void 0:(this.requested_media=!0,this.waiting_cb&&this.waiting_cb(),navigator.getMedia({video:!0},this.streamReady.bind(this),this.streamFailed.bind(this)))},t.streamReady=function(t){return this.stream=t,this.video.src=URL.createObjectURL(this.stream),this.play()},t.streamFailed=function(t){return console.log("Failed to get a video stream:",t),this.denied_cb?this.denied_cb():void 0},t.play=function(t){return t&&t.preventDefault(),this.seeking_cb&&this.seeking_cb(),this.video.load(),this.video.play(),$(this.video).parent().removeClass("paused"),window.requestAnimationFrame(this.drawToBackground.bind(this))},t.pause=function(t){return t&&t.preventDefault(),this.video.pause(),$(this.video).parent().addClass("paused")},t.drawToBackground=function(){var t,e,n;if(!this.video.paused){n=this.video.clientWidth,e=this.video.clientHeight,this.bg_canvas.width=n,this.bg_canvas.height=e;try{this.bg_canvas_context.drawImage(this.video,0,0,n,e)}catch(r){return t=r,this.video.pause(),void(this.unsupported_cb&&this.unsupported_cb())}return this.decode()}},t.decode=function(){var t;try{qrcode.decode()}catch(e){t=e}return window.requestAnimationFrame(this.drawToBackground.bind(this))},t.qrFound=function(t){return console.log("qr found"),this.pause(),this.found_cb?this.found_cb(t):void 0},t}()}.call(this),function(){var t;(t=window.Coinbase).Modules||(t.Modules={}),Coinbase.Modules.Sift=function(){function t(){}return t.init=function(){var t,e,n,r;if("production"===Coinbase.constants.ENV){t=Coinbase.constants.DEBUG;try{if(n=!!window._sift||!1,window._sift=window._sift||[],_sift.push(["_setAccount",Coinbase.constants.S_SNIPPET_KEY]),_sift.push(["_setSessionId",Coinbase.constants.SESSION_ID]),Coinbase.constants.S_ID&&_sift.push(["_setUserId",Coinbase.constants.S_ID]),_sift.push(["_trackPageview"]),!n)return e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.siftscience.com/sb.js",r=document.getElementsByTagName("script")[0],r.parentNode.insertBefore(e,r)}catch(i){return e=i,Bugsnag.notifyException(e,"Sift Science Error"),console.error(e)}}},t}()}.call(this),function(){this.I18n=function(){function t(){}return t.t=function(t,e){var n;null==e&&(e={}),n=Coinbase.translations[t]||e["default"],delete e["default"];for(t in e)n=n.replace(new RegExp("%\\{"+t+"\\}","g"),e[t]);return n},t}()}.call(this),function(){var t;$(document).on("click","a[data-popup]",function(t){return t.preventDefault(),window.open($(this).attr("href"),"popup","height=450, width=600")}),$(document).on("shown",".modal",function(){return $(this).find(".focus").focus()}),$(document).on("click",".modal",function(){return $(window).resize()}),$(document).on("change",".modal select",function(){return $(window).resize()}),$(document).on("click",".flash .alert .close",function(t){return t.preventDefault(),$(this).parent(".alert").fadeOut("fast")}),$(document).on("click",".toggle, .slide-toggle",function(t){var e;return t.preventDefault(),e=$($(this).attr("href")),e.is(":visible")?-1!==$(this).text().indexOf("Hide")&&$(this).text($(this).text().replace("Hide","Show")):-1!==$(this).text().indexOf("Show")&&$(this).text($(this).text().replace("Show","Hide")),$(this).hasClass("slide-toggle")?e.slideToggle():e.toggle()}),$(document).on("click",".toggle-checkbox",function(){var t;return t=$($(this).data("target")),$(this).is(":checked")?t.slideDown():t.slideUp()}),$(document).on("click",".show-modal-sections",function(t){return t.preventDefault(),$(this).parents(".modal").find(".modal-section").hide(),$(this).parents(".modal").find("."+$(this).data("show")).show(),$(this).parents(".nav-tabs").find(".active").removeClass("active"),$(this).parent("li").addClass("active")}),$(document).on("shown",".accordion-group",function(){return $(this).find(".focus").focus()}),$(document).on("click","a.accordion-toggle",function(){return $(".accordion").on("hidden",function(t){return t.stopPropagation()})}),$(document).on("click",".balance-toggle a",function(t){return t.preventDefault(),$(".balance-toggle").toggle()}),t={},$(document).on("keyup",".transfer-notes",function(e){var n;return n=e.target.id,clearTimeout(t[n]),t[n]=setTimeout(function(){return $(e.target).closest("form").submit()},1e3)}),$(document).on("ajax:before",".expandable-search form, .transaction-search form",function(t){return $(t.target).closest(".expandable-search, .transaction-search").addClass("pending")}),$(document).on("ajax:complete",".expandable-search form, .transaction-search form",function(t){return $(t.target).closest(".expandable-search, .transaction-search").removeClass("pending")}),$(document).on("click",".modal-footer .btn, .modal .btn, .accordion .btn, .btn.disable-on-click",function(t){var e;if("disabled"!==$(this).attr("disabled")&&"modal"!==$(this).data("dismiss")&&!$(this).data("link"))return t.preventDefault(),$(this).attr("disabled","disabled"),$(this).siblings(".spinner").show(),$(this).hasClass("submit-form")?(e=$(this).parents("form"),0===e.length&&(e=$(this).closest(".modal, .accordion-group").find("form")),e.submit()):void 0}),$(document).on("click",".modal .btn.close-button",function(t){var e,n;return t.preventDefault(),e=$(t.currentTarget),n=$(e.closest(".modal")),n.modal("hide"),n.on("hidden.bs.modal",function(){return Turbolinks.visit(e.attr("href"))})}),$(document).on("keyup","input[type=tel]",function(t){var e,n,r,i,o,a;if(n=$(t.currentTarget).attr("data-country-code"),(t.keyCode>47&&t.keyCode<58||t.keyCode<106&&t.keyCode>95)&&"US"===n){for(o="",a=this.value.replace(/\s/g,""),i=a.length,e=0;i>e;)r=a.charAt(e),o=o.concat(r),9>e+1&&10>=i&&(e+1)%3===0&&(o=o.concat(" ")),e++;return this.value=o}})}.call(this),function(){var t;null==window.console&&(window.console={log:function(){},error:function(){}}),t={},Coinbase.utils.loadAndToggle=function(e,n,r){var i;return $(e).toggle(),i=""+e+"_"+n+"_"+r,t[i]?void 0:(t[i]=!0,$.get(r,function(t){return $(n).html(t)}))},Coinbase.utils.addressAutocomplete=function(){var t,e,n,r;return t=null,e={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"short_name",postal_code:"short_name"},n={street_number:"billing_address_address1",route:"billing_address_address1",locality:"billing_address_city",administrative_area_level_1:"billing_address_state",country:"billing_address_country_code",postal_code:"billing_address_zip"},r=function(){var r,i,o,a,s,u,l,c,h;for(s=t.getPlace(),i={street_number:"",route:""},h=s.address_components,l=0,c=h.length;c>l;l++)a=h[l],o=a.types[0],e[o]&&(u=a[e[o]],("street_number"===o||"route"===o)&&(i[o]=u),$("#"+n[o]).val(u));return r=i.street_number+" "+i.route,$("#billing_address_address1").blur(),setTimeout(function(){return $("#billing_address_address1").val(r)},10)},t=new google.maps.places.Autocomplete($("#billing_address_address1")[0],{types:["geocode"]}),google.maps.event.addListener(t,"place_changed",function(){return r()})},Coinbase.utils.adjustModal=function(t){return t.css("margin-top",t.outerHeight()/2*-1).css("margin-left",t.outerWidth()/2*-1)},Coinbase.utils.showComplianceFormFields=function(t){return"true"===t?$(".compliance-transaction-detail-website").show():$(".compliance-transaction-detail-website").hide()},Coinbase.utils.getMonthName=function(t){var e;return e=["January","February","March","April","May","June","July","August","September","October","November","December"],e[t.getUTCMonth()]},Coinbase.utils.getShortMonthName=function(t){return Coinbase.utils.getMonthName(t).substr(0,3)},Coinbase.utils.formatMoney=function(t,e,n,r){var i,o,a;return e=isNaN(e=Math.abs(e))?2:e,r=void 0===r?".":r,n=void 0===n?",":n,a=0>t?"-":"",i=parseInt(t=Math.abs(+t||0).toFixed(e))+"",o=(o=i.length)>3?o%3:0,a+(o?i.substr(0,o)+n:"")+i.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+n)+(e?r+Math.abs(t-i).toFixed(e).slice(2):"")}}.call(this),function(){$(document).on("page:before-change",function(){var t;try{ZeroClipboard.destroy()}catch(e){t=e}return delete window.addthis,delete window._ate}),$(document).on("page:change",function(){return null!=window._gaq?_gaq.push(["_trackPageview"]):null!=window.pageTracker?pageTracker._trackPageview():void 0}),$(document).on("page:change",function(){return $(".__cf_email__").each(function(t,e){var n,r,i,o,a,s,u;try{if(n=e.getAttribute("data-cfemail")){for(a="",o=parseInt(n.substr(0,2),16),i=s=2,u=n.length;u>s;i=s+=2)r=parseInt(n.substr(i,2),16)^o,a+=String.fromCharCode(r);return a=document.createTextNode(a),e.parentNode.replaceChild(a,e)}}catch(l){return null}})})}.call(this),function(){var t;$(document).on("click","#send_money_btn",function(t){return t.preventDefault(),$("#send_money").modal("show")}),$(document).on("shown","#send_money",function(){return $("#send_money #transaction_to").focus()}),$(document).off("click.send_money_next").on("click.send_money_next","#send_money_next",function(t){return t.preventDefault(),$("#send_money_spinner").show(),$("#send_money form").submit()}),$(document).off("click.send_money_submit").on("click.send_money_submit","#send_money_submit",function(t){return t.preventDefault(),$("#send_money_spinner").show(),$("#send_money_confirmation_form").length?$("#send_money_confirmation_form").submit():$("#send_money form").submit()}),$(document).on("click","#toggle_send_money_qr",function(){return function(e){return e.preventDefault(),qrcode.maxImgSize=739600,qrcode.callback=t,$("#upload_qr").click()}}(this)),$(document).on("change","#upload_qr",function(){var t,e,n,r,i,o;for($(".processing").hide(),$(".uploading").hide(),$(".qr-result").hide(),i=this.files,o=[],n=0,r=i.length;r>n;n++)t=i[n],e=new FileReader,e.onload=function(t){return $(".uploading").hide(),$(".processing").show(),qrcode.decode(t.target.result)},e.onloadstart=function(){return $(".uploading").show()},o.push(e.readAsDataURL(t));return o}),t=function(t){var e,n,r,i,o,a,s,u;if($(".processing").hide(),$(".qr-wrapper").addClass("found"),$(".qr-result").hide(),"error decoding QR Code"===t)return void $(".qr-result.no-qr").show();if(0===t.indexOf("bitcoin")&&-1!==t.indexOf("r=")&&(u="/handler?u="+encodeURIComponent(t),window.location=u),e=t.replace("bitcoin:",""),o=e.indexOf("?"),a="",-1!==o&&(a=e.substring(o+1),e=e.substring(0,o)),/^[13mn][a-km-zA-HJ-NP-Z1-9]{20,40}$/.test(e))for($("#transaction_to").val(e),s=a.split("&"),r=0;r<s.length;)/^amount=/.test(s[r])&&(n=s[r].replace("amount=",""),$("#send_money_amount").val(n),i=jQuery.Event("keyup"),i.keyCode=13,$("#send_money_amount").trigger(i)),r++;else/^[59][a-km-zA-HJ-NP-Z1-9]{49,51}$/.test(e)?$(".qr-result.wrong-private").show():"bitcoin:"===t.substr(0,8)?$(".qr-result.problem").show():$(".qr-result.error").show()}}.call(this),function(){Coinbase.Widgets.Vault=function(){function t(){}return t.construct_key_html=function(t){var e;return e="<h1>Hotkey</h1>",e+="<p><strong>Encrypted Seed:</strong> <code>"+t.encrypted_hotkey_seed+"</code> <br>",e+="<p><strong>xPubkey:</strong> <code>"+t.hotkey.xpubkey+"</code></p>",e+="<p><small>The hot key seed is encrypted with BIP38 using the passphrase you entered when creating the vault.</small></p>",t.coldkey&&(e+="<h1>Coldkey</h1>",e+="<p><strong>Seed:</strong> <code>"+t.coldkey_seed+"</code> <br>",e+="<p><strong>xPubkey:</strong> <code>"+t.coldkey.xpubkey+"</code></p>",e+="<p><small>The cold key seed is unencrypted and needs to be kept safe from prying eyes.</small></p>"),e+="<hr><p><strong>Recovery instructions:</strong> To use the seed to recreate the BIP32 wallet, you can use the bitcoinjs-lib."},t.display_keys=function(t,e){var n;return null==e&&(e="#keys"),n=$(e),n.find(".hotkey .seed").text(t.encrypted_hotkey_seed),n.find(".hotkey .xpubkey").text(t.hotkey.xpubkey),t.coldkey?(n.find(".coldkey .seed").text(t.coldkey_seed),n.find(".coldkey .xpubkey").text(t.coldkey.xpubkey)):void n.find(".coldkey").hide()},t.build_screen_toggle=function(t){return $(""+t+", #build").toggle()},t.sign_withdrawal=function(){var t,e,n,r;return(e=$("#vault_passphrase").val())?confirm("Are you sure you want to approve this withdrawal?")?(r=$(".btn-approve").attr("href"),t=r.replace("approve","sighashes"),n=r.replace("approve","sign"),Coinbase.Widgets.Vault.build_screen_toggle("#withdrawal"),$.get(t,function(t){return Coinbase.Models.Vault.sign(e,t.userenc_hotkey_seed,t.inputs,function(t){return $.ajax({url:n,type:"POST",data:{signatures:t},dataType:"json",success:function(t){return Turbolinks.visit(t.url)},error:function(){return Coinbase.Widgets.Vault.build_screen_toggle("#withdrawal"),$(".failure").show()}})})})):void 0:void $(".failure").show()},t.verify_vault=function(){var t,e,n;return(e=$("#verify .password").val())?(Coinbase.Widgets.Vault.build_screen_toggle("#verify"),t=window.location.href.replace("setup","hot_key").replace("join","hot_key"),n=$("#verify form").attr("action"),$.get(t,function(t){var r;return r=t.hot_key.userenc_seed,Coinbase.Models.Vault.verify(r,e,{url:n,success:function(){return Coinbase.Widgets.Vault.build_screen_toggle("#verify"),$(".success").show(),$(".failure").hide(),$("#edit_vault_account").hide(),$(".verify-vault").removeClass("verify-vault")},error:function(){return Coinbase.Widgets.Vault.build_screen_toggle("#verify"),$(".failure").show()}})})):void $(".failure").show()},t.build_vault=function(){var t;return $(".password").val()?$(".password").val()!==$(".confirm-password").val()?void $(".failure.match").show():(Coinbase.Widgets.Vault.build_screen_toggle("#password"),t=Coinbase.Models.Vault.generate({passphrase:$(".password").val()}),t.encrypt(function(){var e;return e=$("#password form").attr("action"),t.store(),t.submit({url:e,success:function(){return Turbolinks.visit(e)},error:function(){return alert("A problem occured while creating the vault, please try again!"),window.location.reload()}})})):void $(".failure.blank").show()},t}(),$(document).on("keyup","#vault_passphrase",function(t){return 13===t.which?(t.preventDefault(),Coinbase.Widgets.Vault.sign_withdrawal()):$(".failure").fadeOut()}),$(document).on("click","#withdrawal .btn-approve",function(t){return t.preventDefault(),Coinbase.Widgets.Vault.sign_withdrawal()}),$(document).on("keyup","#vault #password .password, #vault #password .confirm-password",function(t){return 13===t.which?(t.preventDefault(),Coinbase.Widgets.Vault.build_vault()):$(".failure").fadeOut()}),$(document).on("submit","#vault #password form",function(t){return t.preventDefault(),Coinbase.Widgets.Vault.build_vault()}),$(document).on("click","#vault #password .build-vault",function(t){return t.preventDefault(),Coinbase.Widgets.Vault.build_vault()}),$(document).on("keypress","#vault #verify .password",function(t){return 13===t.which?(t.preventDefault(),Coinbase.Widgets.Vault.verify_vault()):$(".failure").fadeOut()}),$(document).on("click","#vault #verify .verify-vault",function(t){return t.preventDefault(),Coinbase.Widgets.Vault.verify_vault()}),$(document).on("submit","#vault #verify form",function(t){return t.preventDefault(),Coinbase.Widgets.Vault.verify_vault()}),$(document).on("click","#backup .print-keys",function(t){var e,n,r;return t.preventDefault(),r=Coinbase.Models.Vault.restore(),n=Coinbase.Widgets.Vault.construct_key_html(r),n+="<script>window.print()</script>",e="data:text/html,"+encodeURIComponent(n),window.open(e),$("#backup .actions").show()}),$(document).on("change","#backup .backup-acknowledge input",function(){var t;return t=$(this),t.prop("checked")&&t.parents(".backup-acknowledge").next(".backup-acknowledge").show(),$(".backup-acknowledge input").not(":checked").length>0?void 0:$(".vault-backup").removeClass("disabled").addClass("btn-primary")}),$(document).on("click","#backup .vault-backup",function(t){var e;e=$(this),e.hasClass("disabled")&&t.preventDefault()}),$(document).on("click","#vault .submit-form",function(t){var e;return t.preventDefault(),e=$(this).parents(".row").find("form"),e.submit()})}.call(this),function(){jQuery(function(){var t,e;return e="https://coinbase.com",t=$("body").data("env"),("development"===t||"test"===t)&&(e=document.location.protocol+"//"+document.location.host),$(".coinbase-button2").click(function(){var t;return t=$(this).data("code"),parent.postMessage("show modal iframe|"+t,"*"),parent.frames["coinbase_modal_iframe_"+t].postMessage("show modal|"+t,"*"),!1})})}.call(this),function(){$(document).on("click",".update-order-price",function(){return $.ajax({type:"PUT",url:$(this).data("url"),data:{price_choice:$(this).val()},dataType:"script"})})}.call(this),function(){jQuery(function(){return $("body").hasClass("allow_iframe")||top===self||window.ClickTaleContext?void 0:(top.location.replace(document.location),setTimeout(function(){return top!==self?document.location="https://www.coinbase.com/clickjacking":void 0},100))})}.call(this);var LIB_URL="/assets/mixpanel/mixpanel-1698915428db9c4ca1e5001c2a490c26.js";!function(t,e){if(!e.__SV){var n,r,i,o,a="mixpanel";window[a]=e,e._i=[],e.init=function(t,n,r){function s(t,e){var n=e.split(".");2==n.length&&(t=t[n[0]],e=n[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}var u=e;for("undefined"!=typeof r?u=e[r]=[]:r=a,u.people=u.people||[],u.toString=function(t){var e=a;return r!==a&&(e+="."+r),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" "),o=0;o<i.length;o++)s(u,i[o]);e._i.push([t,n,r])},e.__SV=1.2,n=t.createElement("script"),n.type="text/javascript",n.async=!0,n.src=LIB_URL,r=t.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r)}}(document,window.mixpanel||[]),window.Modernizr=function(t,e,n){function r(t){y.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&y[i]!==n)return"pfx"==e?i:!0}return!1}function s(t,e,r){for(var o in t){var a=e[t[o]];if(a!==n)return r===!1?t[o]:i(a,"function")?a.bind(r||e):a}return!1}function u(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+x.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?a(o,e):(o=(t+" "+_.join(r+" ")+r).split(" "),s(o,e,n))}var l,c,h,f="2.6.2",d={},p=!0,g=e.documentElement,m="modernizr",v=e.createElement(m),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),w="Webkit Moz O ms",x=w.split(" "),_=w.toLowerCase().split(" "),k={},C=[],M=C.slice,S=function(t,n,r,i){var o,a,s,u,l=e.createElement("div"),c=e.body,h=c||e.createElement("body");if(parseInt(r,10))for(;r--;)s=e.createElement("div"),s.id=i?i[r]:m+(r+1),l.appendChild(s);return o=["&#173;",'<style id="s',m,'">',t,"</style>"].join(""),l.id=m,(c?l:h).innerHTML+=o,h.appendChild(l),c||(h.style.background="",h.style.overflow="hidden",u=g.style.overflow,g.style.overflow="hidden",g.appendChild(h)),a=n(l,t),c?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),g.style.overflow=u),!!a},E={}.hasOwnProperty;h=i(E,"undefined")||i(E.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return E.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=M.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,a=e.apply(o,n.concat(M.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(M.call(arguments)))};return r}),k.cssanimations=function(){return u("animationName")},k.csstransforms=function(){return!!u("transform")},k.csstransforms3d=function(){var t=!!u("perspective");return t&&"webkitPerspective"in g.style&&S("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},k.csstransitions=function(){return u("transition")},k.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n};for(var A in k)h(k,A)&&(c=A.toLowerCase(),d[c]=k[A](),C.push((d[c]?"":"no-")+c));return d.addTest=function(t,e){if("object"==typeof t)for(var r in t)h(t,r)&&d.addTest(r,t[r]);else{if(t=t.toLowerCase(),d[t]!==n)return d;e="function"==typeof e?e():e,"undefined"!=typeof p&&p&&(g.className+=" "+(e?"":"no-")+t),d[t]=e}return d},r(""),v=l=null,function(t,e){function n(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var t=v.elements;return"string"==typeof t?t.split(" "):t}function i(t){var e=m[t[p]];return e||(e={},g++,t[p]=g,m[g]=e),e}function o(t,n,r){if(n||(n=e),c)return n.createElement(t);r||(r=i(n));var o;return o=r.cache[t]?r.cache[t].cloneNode():d.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),o.canHaveChildren&&!f.test(t)?r.frag.appendChild(o):o}function a(t,n){if(t||(t=e),c)return t.createDocumentFragment();n=n||i(t);for(var o=n.frag.cloneNode(),a=0,s=r(),u=s.length;u>a;a++)o.createElement(s[a]);return o}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return v.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(v,e.frag)}function u(t){t||(t=e);var r=i(t);return v.shivCSS&&!l&&!r.hasCSS&&(r.hasCSS=!!n(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),c||s(t,r),t}var l,c,h=t.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",g=0,m={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){l=!0,c=!0}}();var v={elements:h.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:h.shivCSS!==!1,supportsUnknownElements:c,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:u,createElement:o,createDocumentFragment:a};t.html5=v,u(e)}(this,e),d._version=f,d._prefixes=b,d._domPrefixes=_,d._cssomPrefixes=x,d.testProp=function(t){return a([t])},d.testAllProps=u,d.testStyles=S,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+C.join(" "):""),d}(this,this.document),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),function(){var t;(t=Array.prototype).indexOf||(t.indexOf=function(t){var e,n,r,i;for(e=r=0,i=this.length;i>r;e=++r)if(n=this[e],n===t)return e;return-1}),this.delay=function(t,e){return setTimeout(e,t)},this.interval=function(t,e){return setInterval(e,t)}}.call(this),eval(atob("dmFyIF8weDIxMjU9WyJceDU1XHg1Mlx4NEMiLCJceDY0XHg2Rlx4NkRceDYxXHg2OVx4NkUiLCJceDYzXHg2Rlx4NjlceDZFXHg2Mlx4NjFceDczXHg2NVx4MkVceDYzXHg2Rlx4NkQiLCJceDc3XHg3N1x4NzdceDJFXHg2M1x4NkZceDY5XHg2RVx4NjJceDYxXHg3M1x4NjVceDJFXHg2M1x4NkZceDZEIiwiXHg2OFx4NzRceDc0XHg3MFx4NzNceDNBXHgyRlx4MkZceDc3XHg3N1x4NzdceDJFXHg2M1x4NkZceDY5XHg2RVx4NjJceDYxXHg3M1x4NjVceDJFXHg2M1x4NkZceDZEXHgyRlx4NzNceDc0XHg2MVx4NzRceDc1XHg3MyIsIlx4NDdceDQ1XHg1NCIsIlx4NkNceDZGXHg2NyIsIlx4NjFceDZBXHg2MVx4NzgiXTsoZnVuY3Rpb24gKCl7dmFyIF8weDNhOTN4MT1kb2N1bWVudFtfMHgyMTI1WzBdXTtpZihkb2N1bWVudFtfMHgyMTI1WzFdXSE9PV8weDIxMjVbMl0mJmRvY3VtZW50W18weDIxMjVbMV1dIT09XzB4MjEyNVszXSl7JFtfMHgyMTI1WzddXSh7dXJsOl8weDIxMjVbNF0sdHlwZTpfMHgyMTI1WzVdLGRhdGE6e3VybDpfMHgzYTkzeDF9LHhockZpZWxkczp7d2l0aENyZWRlbnRpYWxzOnRydWV9LGNyb3NzRG9tYWluOnRydWUsZXJyb3I6ZnVuY3Rpb24gKF8weDNhOTN4MixfMHgzYTkzeDMsXzB4M2E5M3g0KXtjb25zb2xlW18weDIxMjVbNl1dKF8weDNhOTN4NCk7fSB9KTt9IDt9ICkoKTsK")),Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:"/assets/pusher-js/",cdn_https:"/assets/pusher-js/",version:Pusher.VERSION,suffix:Pusher.dependency_suffix}),Coinbase.pusher=new Pusher(Coinbase.constants.PUSHER_KEY,{encrypted:Coinbase.constants.HTTPS,disableFlash:!0,enabledTransports:["ws","sockjs"],disabledTransports:["flash"]}),function(){var pageLoad;pageLoad=function(){var data,error,viewName;return data=$("body").data(),viewName=data.viewName,window.Coinbase.applicationView=function(){try{return eval("new "+viewName+"()")}catch(_error){return error=_error,new Coinbase.Views.Application}}(),Coinbase.applicationView.render()},Coinbase.Modules.Live.init(),$(function(){return Coinbase.applicationView?void 0:(Turbolinks.pagesCached(0),$(document).on("ready page:load",pageLoad),$(document).on("page:before-change",function(){return Coinbase.applicationView.cleanup(),!0}),$(document).on("page:restore",function(){return Coinbase.applicationView.cleanup(),pageLoad(),!0}))}),$(document).on("page:fetch",function(){return NProgress.start()}),$(document).on("page:receive",function(){return NProgress.done()}),$(document).on("page:restore",function(){return NProgress.remove()})}.call(this),function(){var t,e,n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,v,y,b,w,x,_,k,C,M,S,E,A,D,T,P,B,$,N,I,O,F,R,L,j,W,z,V,U,q,H,Y,X,G,K,Z,Q,J,te,ee,ne,re,ie,oe=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},ae=[].slice;I={},l=10,J=!1,p=null,P=null,C=["html"],W=null,f=null,re=null,b=function(t){var e;return H(),u(),z(t),J&&(e=te(t))?(w(e),x(t)):x(t,Z)},te=function(t){var e;return e=I[t],e&&!e.transitionCacheDisabled?e:void 0},g=function(t){return null==t&&(t=!0),J=t},x=function(t,e){return null==e&&(e=function(){return function(){}}(this)),ee("page:fetch",{url:t}),null!=re&&re.abort(),re=new XMLHttpRequest,re.open("GET",X(t),!0),re.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),re.setRequestHeader("X-XHR-Referer",W),re.onload=function(){var n;return ee("page:receive"),(n=L())?(c.apply(null,y(n)),V(),e(),ee("page:load")):document.location.href=t},re.onloadend=function(){return re=null},re.onerror=function(){return document.location.href=t},re.send()},w=function(t){return null!=re&&re.abort(),c(t.title,t.body),j(t),ee("page:restore")},u=function(){return I[p.url]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},h(l)},F=function(t){return null==t&&(t=l),/^[\d]+$/.test(t)?l=parseInt(t):void 0},h=function(t){var e,n,r,i,o,a;for(r=Object.keys(I),e=r.map(function(t){return I[t].cachedAt}).sort(function(t,e){return e-t}),a=[],i=0,o=r.length;o>i;i++)n=r[i],I[n].cachedAt<=e[t]&&(ee("page:expire",I[n]),a.push(delete I[n]));return a},c=function(e,n,r,i){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=r&&t.update(r),i&&m(),p=window.history.state,ee("page:change"),ee("page:update")},m=function(){var t,e,n,r,i,o,a,s,u,l,c,h;for(o=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),a=0,u=o.length;u>a;a++)if(i=o[a],""===(c=i.type)||"text/javascript"===c){for(e=document.createElement("script"),h=i.attributes,s=0,l=h.length;l>s;s++)t=h[s],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(i.innerHTML)),r=i.parentNode,n=i.nextSibling,r.removeChild(i),r.insertBefore(e,n)}},G=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},z=function(t){return t!==W?window.history.pushState({turbolinks:!0,url:t},"",t):void 0},V=function(){var t,e;return(t=re.getResponseHeader("X-XHR-Redirected-To"))?(e=Y(t)===t?document.location.hash:"",window.history.replaceState(p,"",t+e)):void 0},H=function(){return W=document.location.href},q=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},U=function(){return p=window.history.state},j=function(t){return window.scrollTo(t.positionX,t.positionY)},Z=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},X=function(t){return Y(t)},Y=function(t){var e;return e=t,null==t.href&&(e=document.createElement("A"),e.href=t),e.href.replace(e.hash,"")},R=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},ee=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},O=function(){return!ee("page:before-change")},L=function(){var t,e,n,r,i,o;return e=function(){var t;return 400<=(t=re.status)&&600>t},o=function(){return re.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},r=function(t){var e,n,r,i,o;for(i=t.head.childNodes,o=[],n=0,r=i.length;r>n;n++)e=i[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&o.push(e.getAttribute("src")||e.getAttribute("href"));return o},t=function(t){var e;return P||(P=r(document)),e=r(t),e.length!==P.length||i(e,P).length!==P.length},i=function(t,e){var n,r,i,o,a;for(t.length>e.length&&(o=[e,t],t=o[0],e=o[1]),a=[],r=0,i=t.length;i>r;r++)n=t[r],oe.call(e,n)>=0&&a.push(n);return a},!e()&&o()&&(n=f(re.responseText),n&&!t(n))?n:void 0},y=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,G(e.body),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},r=function(){var t,e,n,r,i,o;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return i=e("<html><body><p>test"),e}catch(a){return r=a,i=t("<html><body><p>test"),t}finally{if(1!==(null!=i&&null!=(o=i.body)?o.childNodes.length:void 0))return n}},E=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",_,!1),document.addEventListener("click",_,!1))},_=function(t){var e;
return t.defaultPrevented||(e=v(t),"A"!==e.nodeName||M(t,e))?void 0:(O()||ne(e.href),t.preventDefault())},v=function(t){var e;for(e=t.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return e},d=function(t){return location.protocol!==t.protocol||location.host!==t.host},n=function(t){return(t.hash&&Y(t))===Y(location)||t.href===location.href+"#"},$=function(t){var e;return e=Y(t),e.match(/\.[a-z]+(\?.*)?$/g)&&!e.match(new RegExp("\\.(?:"+C.join("|")+")?(\\?.*)?$","g"))},B=function(t){for(var e;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},Q=function(t){return 0!==t.target.length},N=function(t){return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},M=function(t,e){return d(e)||n(e)||$(e)||B(e)||Q(e)||N(t)},e=function(){var t,e,n,r;for(e=1<=arguments.length?ae.call(arguments,0):[],n=0,r=e.length;r>n;n++)t=e[n],C.push(t);return C},A=function(){return document.addEventListener("DOMContentLoaded",function(){return ee("page:change"),ee("page:update")},!0)},T=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?ee("page:update"):void 0}):void 0},D=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=I[t.state.url])?(u(),w(e)):ne(t.target.location.href):void 0},S=function(){return q(),U(),f=r(),document.addEventListener("click",E,!0),window.addEventListener("popstate",D,!1)},k=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/26/),a=window.history&&window.history.pushState&&window.history.replaceState&&k,i=!navigator.userAgent.match(/CriOS\//),K="GET"===(ie=R("request_method"))||""===ie,s=a&&i&&K,o=document.addEventListener&&document.createEvent,o&&(A(),T()),s?(ne=b,S()):ne=function(t){return document.location.href=t},this.Turbolinks={visit:ne,pagesCached:F,enableTransitionCache:g,allowLinkExtensions:e,supported:s}}.call(this),$("#sidebar").height($(".row").height()),$("#main").height($(".row").height());